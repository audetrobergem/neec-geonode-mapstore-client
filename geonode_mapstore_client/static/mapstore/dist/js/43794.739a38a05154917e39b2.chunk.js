(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[43794],{135400:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n),l=r(379313);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,i=void 0===n?{}:n,a=e.contentStyle,c=void 0===a?{}:a,s=e.imageStyle,d=void 0===s?{}:s,f=e.glyph,p=void 0===f?"info-sign":f,y=e.iconFit,m=e.title,b=e.tooltip,v=e.tooltipId,g=e.description,h=e.content;return o().createElement("div",{className:"empty-state-container",style:u({height:y?"100%":void 0},r)},o().createElement("div",{key:"main-view",className:"empty-state-main-view",style:u({height:y?"100%":void 0},i)},p?o().createElement("div",{key:"glyph",className:"empty-state-image",style:u({height:y?"100%":void 0},d)},o().createElement(l.Z,{iconFit:y,tooltip:b,tooltipId:v,glyph:p})):null,m?o().createElement("h1",{key:"title"},m):null,g?o().createElement("p",{key:"description",className:"empty-state-description"},g):null),o().createElement("div",{key:"content",className:"empty-state-content",style:c},h))}},698772:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(893379),o=r.n(n),l=r(172704);o()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;var i=r(675263),a=r.n(i),u=r(124852),c=r.n(u),s=r(757588);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,r,n,o,l=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=l.call.apply(l,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),b(y(e),"onClear",(function(){e.props.onFilter("")})),e}return t=i,(r=[{key:"render",value:function(){var e=this.props.filterText?c().createElement(s.OverlayTrigger,{placement:"bottom",overlay:c().createElement(s.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},c().createElement(s.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):c().createElement(s.Glyphicon,{className:"text-primary",glyph:"filter"});return c().createElement(s.FormGroup,{className:"mapstore-filter"},c().createElement(s.InputGroup,null,c().createElement(s.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),c().createElement(s.InputGroup.Addon,{className:"square-button-md"},this.props.loading?c().createElement("div",{className:"toc-inline-loader"}):e)))}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(c().Component);b(g,"propTypes",{loading:a().bool,filterText:a().string,filterPlaceholder:a().oneOfType([a().object,a().string]),onFilter:a().func,onFocus:a().func,tooltipClear:a().oneOfType([a().object,a().string])}),b(g,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"});const h=g},379313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),l=r(757588),i=r(496259),a=(0,r(815135).Z)(l.Glyphicon);const u=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.tooltip,l=e.tooltipId,u=e.iconFit,c=e.padding,s=void 0===c?0:c,d=e.margin,f=void 0===d?0:d;return o().createElement(i.Z,null,(function(e){var t=e.width,i=e.height;return o().createElement(a,{glyph:r,tooltip:n,tooltipId:l,style:{display:"inline-block",padding:s+"px",margin:f+"px",textAlign:"center",fontSize:u?Math.min(t,i)-2*s-2*f:t-2*s-2*f}})}))}},1036:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(618446),o=r.n(n);const l=(0,r(867076).shouldUpdate)((function(e,t){return!o()(e.start,t.start)||e.disabled!==t.disabled}))(r(185552))},982030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n),l=r(623560),i=r.n(l),a=r(867076),u=r(135400);const c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.Z;return(0,a.branch)(e,(function(){return function(e){return o().createElement(r,t&&i()(t)?t(e):t)}}))}},173014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n),l=r(867076),i=r(82110);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}var u=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Z;return(0,l.branch)(e,(function(){return function(e){var n=e.loaderProps;return o().createElement(r,a({},t,n))}}))}},697111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),l=r(675263),i=r.n(l),a=r(23279),u=r.n(a);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e,t){return function(r){function l(l){var i,a,c,s=(0,n.useRef)(),y=(a=(0,n.useState)(l[t]),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(a,c)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1],v=(0,n.useRef)();v.current=m,(0,n.useEffect)((function(){v.current!==l[t]&&b(l[t])}),[l[t]]),(0,n.useEffect)((function(){return s.current=u()((function(t){var r=t.newProps,n=t.newValue;r[e](n)}),l.debounceTime),function(){s.current.cancel()}}),[l.debounceTime]);var g=d(d({},l),{},(f(i={},t,m),f(i,e,(function(e){b(e),s.current&&(s.current.cancel(),s.current({newProps:l,newValue:e}))})),i));return o().createElement(r,g)}return l.propTypes={debounceTime:i().number},l.defaultProps={debounceTime:300},l.displayName=r.displayName+"WithDebounceOnCallback",l}}},218291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(124852),o=r.n(n);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const i=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,r=void 0===t?null:t;return function(t){return(0,n.forwardRef)((function(i,a){return void 0===e||e(i)?o().createElement(n.Suspense,{fallback:r},o().createElement(t,l({ref:a},i))):null}))}}},886056:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(675263),o=r.n(n),l=r(124852),i=r.n(l),a=r(743129),u=r(598611),c=r.n(u);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,o,l=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=l.call.apply(l,[this].concat(r))),"styleRenderer",(function(t,r,n){var o=e.props.styleRendererPattern||i().createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},i().createElement("path",{className:"ms-dash-array",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return i().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},o)})),e}return t=u,(r=[{key:"render",value:function(){var e,t=this,r=c()(this.props.dashArray||"1 0"," "),n=this.props.options.find((function(e){return e.value===r}))?this.props.options:[{value:r}].concat(function(e){if(Array.isArray(e))return d(e)}(e=this.props.options)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=this.props.creatable?a.ZP.Creatable:a.ZP;return i().createElement(o,{options:n,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:r,isValidNewOption:this.props.isValidNewOption,onChange:function(e){if(e){var r=e.value.split(" ");t.props.onChange(r)}}})}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i().Component);b(g,"propTypes",{dashArray:o().array,menuPlacement:o().string,clearable:o().bool,value:o().string,optionRenderer:o().func,styleRendererPattern:o().node,valueRenderer:o().func,disabled:o().bool,onChange:o().func,options:o().array,creatable:o().bool,isValidNewOption:o().func,defaultStrokeWidth:o().number}),b(g,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4});const h=g},467057:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var n=r(23279),o=r.n(n),l=r(666654),i=r.n(l),a=r(618446),u=r.n(a),c=r(623560),s=r.n(c),d=r(513218),f=r.n(d),p=r(747037),y=r.n(p),m=r(727418),b=r.n(m),v=r(675263),g=r.n(v),h=r(124852),O=r.n(h),S=r(805346),E=r(965539),j=r(532425),w=r(202576),P=r(298854);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function F(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(c,e);var t,r,n,l,a=(n=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(n);if(l){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return F(A(e=a.call.apply(a,[this].concat(r))),"state",{}),F(A(e),"onRenderToken",(function(t){var r=t.lineCount();e.inlineWidgets&&e.inlineWidgets.forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e)})),e.inlineWidgets=[],t.doc.iter(0,r,(function(r){var n=r.lineNo();t.getLineTokens(n).forEach((function(r){e.inlineWidgets=e.props.inlineWidgets.reduce((function(o,l){var i=l.type,a=l.style,u=void 0===a?{}:a,c=l.active,d=void 0===c?function(){return!1}:c,f=l.className,p=void 0===f?"":f;if(d(r)){var y=e.getInlineWidget({className:p,token:r,onClick:function(){return e.setState({inlineWidgetType:i,token:r,lineNo:n})},style:s()(u)&&u(r)||u});return t.addWidget({line:n,ch:r.start-1},y,!1),[].concat(C(o),[y])}return C(o)}),C(e.inlineWidgets))}))}))})),F(A(e),"onAutocomplete",(function(t){if(!(t&&t.state&&t.state.completionActive)){var r=t.getCursor(),n=t.getTokenAt(r);if(n.string&&(i()(n.string,"-")||n.string.match(/^[.`\w@]\w*$/))&&n.string.length>0){var o=e.editor&&e.editor.getWrapperElement&&e.editor.getWrapperElement()||null;e.cm.commands.autocomplete(t,null,{completeSingle:!1,container:o})}}})),F(A(e),"onUpdate",(function(){e.update.cancel(),e.update()})),F(A(e),"getInlineWidget",(function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.token,o=void 0===n?{}:n,l=e.className,i=void 0===l?"":l,a=e.style,u=void 0===a?{}:a,c=document.createElement("div");return c.setAttribute("class","".concat(i," ms-style-editor-inline-widget")),b()(c.style,u),c.onclick=function(){return r(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o))},c})),F(A(e),"getChangedCode",(function(e,t){if("application/json"===t&&y()(e))try{return{code:JSON.parse(e)}}catch(e){return{error:e}}return{code:e}})),F(A(e),"getErrorMessage",(function(){return e.props.error.messageId?O().createElement(S.Z,{msgId:e.props.error.messageId,msgParams:e.props.error.messageParams}):e.props.error.line?e.props.error.message:O().createElement(S.Z,{msgId:"styleeditor.genericValidationError"})})),e}return t=c,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({code:f()(this.props.code)?JSON.stringify(this.props.code,null,2):this.props.code})}},{key:"UNSAFE_componentWillUpdate",value:function(e){if(!u()(this.props.error,e.error)&&(this.marker&&(this.marker.clear(),this.marker=null),e.error)){var t=this.editor.lineCount(),r={line:e.error.line-1||0,ch:0},n=e.error.line?{line:t,ch:0}:this.editor.getCursor();this.marker=this.editor.markText(r,n,{className:"ms-style-editor-error"})}}},{key:"render",value:function(){var e=this;return O().createElement(E.Z,{className:"ms-style-editor",style:this.props.style,header:O().createElement("div",{className:"ms-style-editor-head"},this.props.loading&&O().createElement(j.Z,{className:"ms-style-editor-loader",size:20}),this.props.error&&O().createElement(w.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:O().createElement(S.Z,{msgId:"styleeditor.validationErrorTitle"}),text:this.getErrorMessage()}))},O().createElement(P.Z,{key:"style-editor",value:this.state.code,editorDidMount:function(t,r,n,l){e.onRenderToken(t),e.editor=t,e.cm=l,t.on("inputRead",e.onAutocomplete),e.update=o()((function(){var t=e.getChangedCode(e.state.code,e.props.mode),r=t.error,n=t.code;r?e.props.onError(r):e.props.onChange(n)}),e.props.waitTime),e.cm.extendMode(e.props.mode,{hintProperties:e.props.hintProperties})},editorWillUnmount:function(t){return t.off("inputRead",e.onAutocomplete)},onBeforeChange:function(t,r,n){return e.setState({code:n})},onChange:function(t){e.onRenderToken(t),e.onUpdate()},options:{theme:this.props.theme,mode:this.props.mode,lineNumbers:!0,styleSelectedText:!0,indentUnit:2,tabSize:2}}),this.state.token&&O().createElement("div",{className:"ms-inline-widget-container"},O().createElement("div",null,O().createElement("button",{className:"btn close square-button",onClick:function(){e.state.value&&e.editor.replaceRange(e.state.value,{line:e.state.lineNo,ch:e.state.token.start},{line:e.state.lineNo,ch:e.state.token.end}),e.setState({token:null,inlineWidgetType:null,lineNo:null,value:null})}})),O().createElement("div",null,this.props.inlineWidgets.filter((function(t){return t.type===e.state.inlineWidgetType})).map((function(t){var r=t.Widget;return O().createElement(r,{value:e.state.value,token:e.state.token,onChange:function(t){return e.setState({value:t})}})})))))}}])&&x(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(O().Component);F(R,"propTypes",{mode:g().string,theme:g().string,style:g().object,code:g().oneOfType([g().string,g().object]),onChange:g().func,waitTime:g().number,hintProperties:g().object,error:g().object,inlineWidgets:g().array,loading:g().bool,onError:g().func}),F(R,"defaultProps",{mode:"geocss",theme:"lesser-dark",style:{},code:"",onChange:function(){},waitTime:1e3,hintProperties:{},inlineWidgets:[],onError:function(){}});const M=R},283958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n),l=["type"],i=["text"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const c=function(e){var t=e.type,r=e.patterns,n=e.paths,c=e.texts,s=e.backgroundColor,d=void 0===s?"#ffffff":s;return o().createElement("svg",{viewBox:"0 0 200 200"},o().createElement("defs",null,r&&r.filter((function(e){return e.icon})).map((function(e){return o().createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&o().createElement("path",e.icon))})),r&&r.filter((function(e){return e.image})).map((function(e){return o().createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&o().createElement("image",e.image))}))),o().createElement("path",{fill:d,d:"M0 0 L200 0 L200 200 L0 200Z"}),n&&n.map((function(e){var r=e.type,n=u(e,l);return"polygon"===(r||t)&&o().createElement("path",a({},n,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&o().createElement("path",a({},n,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&o().createElement("path",n)})),c&&c.map((function(e){var t=e.text,r=u(e,i);return o().createElement("text",a({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)})))}},40683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>rn});var n=r(124852),o=r.n(n),l=r(675263),i=r.n(l),a=r(23279),u=r.n(a),c=r(313311),s=r.n(c),d=r(406557),f=r.n(d),p=r(80717),y=r(532425),m=r(701469),b=r.n(m),v=r(757588),g=r(513218),h=r.n(g),O=r(957557),S=r.n(O),E=r(414293),j=r.n(E),w=r(807654),P=r.n(w),k=r(983717),I=r(1036),C=r(398360),T=r(886056),x=r(10208),Z=r(805346),A=r(993451);const N=function(e){var t=e.children,r=e.label,n=e.tools,l=e.divider,i=e.invalid,a=e.warning,u=e.disabled;if(l)return o().createElement("div",{className:"ms-symbolizer-field-divider"});var c=a?" ms-symbolizer-value-warning":"",s=i?" ms-symbolizer-value-invalid":"",d=u?" ms-symbolizer-value-disabled":"";return o().createElement("div",{className:"ms-symbolizer-field"},o().createElement("div",{className:"ms-symbolizer-label"},o().createElement(Z.Z,{msgId:r})),o().createElement("div",{className:"ms-symbolizer-value"+s+d+c,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,o().createElement("div",{className:"ms-symbolizer-tools"},n)))};var F=r(290702),D=r(283958);const R=[{value:"Circle",label:"styleeditor.circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"styleeditor.square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"styleeditor.triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"styleeditor.star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"styleeditor.cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"styleeditor.x",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"styleeditor.verticalLine",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"styleeditor.horizontalLine",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"styleeditor.slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"styleeditor.backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"styleeditor.dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"styleeditor.plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"styleeditor.times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"styleeditor.openArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"styleeditor.closedArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}];var M=r(815135),z=r(282467),V=(0,M.Z)(z.Z);const W=function(e){var t=e.value,r=e.config,n=void 0===r?{}:r,l=e.onChange,i=void 0===l?function(){}:l,a=n.options,u=void 0===a?R:a,c=u.find((function(e){return e.value===t}));return o().createElement(F.Z,{content:o().createElement("div",{className:"ms-mark-list"},o().createElement("ul",null,u.map((function(e){return o().createElement("li",{key:e.value},o().createElement(V,{className:"ms-mark-preview",active:e.value===t,onClick:function(){return i(e.value)}},o().createElement(D.Z,e.preview)))}))))},o().createElement(V,{className:"ms-mark-preview"},c&&o().createElement(D.Z,c.preview)))};var B=r(743129);const G=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,l=e.bands,i=e.onChange,a=e.enhancementType;return o().createElement(o().Fragment,null,o().createElement(N,{label:r},o().createElement(B.ZP,{clearable:!1,options:l,value:n,onChange:function(e){return i("band",e.value)}})),o().createElement(N,{label:"styleeditor.contrastEnhancement"},o().createElement(B.ZP,{clearable:!1,options:[{label:o().createElement(Z.Z,{msgId:"styleeditor.none"}),value:"none"},{label:o().createElement(Z.Z,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:o().createElement(Z.Z,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:a||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;i("enhancementType",t)}})))};var U=r(697111),_=r(99009);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}var H=(0,U.Z)("onChange","value")((0,A.Z)("placeholder")((function(e){return o().createElement(v.FormControl,q({},e,{onChange:function(t){return e.onChange(t.target.value)}}))}))),$=(0,M.Z)(v.Glyphicon);function J(e){var t=e.value,r=e.onChange,l=e.onLoad,i=(0,n.useRef)(!0);(0,n.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]);var a=L((0,n.useState)(!1),2),u=a[0],c=a[1],s=L((0,n.useState)(!0),2),d=s[0],f=s[1],p=L((0,n.useState)(t),2),m=p[0],b=p[1],g=function(e,t){b(e),c(!0),f(!1),(0,_.ZF)(e).then((function(t){if(i.current){var r=!1;t.isBase64&&(r={type:"warning",messageId:"imageSrcNotSupportedBase64Image"}),f(r),c(!1),l(r,e)}})).catch((function(t){if(i.current){var r=t.isBase64||"imageSrcLoadError"!==t.messageId?{type:"error",messageId:t.messageId}:{type:"warning",messageId:t.messageId};f(r),c(!1),l(r,e)}})),t&&r(e)},h=(0,n.useRef)(t);return(0,n.useEffect)((function(){g(h.current)}),[]),o().createElement("div",{className:"ms-style-editor-icon-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(v.FormGroup,{style:{flex:1}},o().createElement(H,{style:{paddingRight:26},placeholder:"styleeditor.placeholderEnterImageUrl",value:t,debounceTime:300,onChange:function(e){return g(e,!0)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m&&!d&&!u&&o().createElement("div",{className:"ms-style-editor-icon-input-image",style:{position:"absolute",margin:2,width:"calc(100% - 2px)",height:"calc(100% - 2px)",backgroundImage:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"contain"}}),d&&o().createElement($,{glyph:"exclamation-sign",tooltipId:"styleeditor.".concat(d.messageId)}),u&&o().createElement(y.Z,{size:20})))}J.propTypes={value:i().bool,onChange:i().node,onLoad:i().object,onError:i().object},J.defaultProps={value:"",onChange:function(){},onLoad:function(){},onError:function(){}};const Y=J;var X=r(984596),Q=r.n(X);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}var te=["label","value","config","onChange","disabled"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=(0,A.Z)(["placeholder","noResultsText"])(B.ZP),ce=(0,A.Z)(["placeholder","noResultsText"])(B.ZP.Creatable);const se=function(e){e.label;var t=e.value,r=e.config,l=void 0===r?{}:r,i=l.getOptions,a=void 0===i?function(){return[]}:i,u=l.selectProps,c=void 0===u?{}:u,s=e.onChange,d=e.disabled,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,te),p=c.creatable,y=c.clearable,m=void 0!==y&&y,b=c.multi;function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=t.map((function(e){return e.value}));return(null==r?void 0:r.value)&&-1===n.indexOf(r.value)?[r].concat(function(e){if(Array.isArray(e))return ae(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t}function h(e){return t?Q()(t).map((function(e){return{value:e,label:e}})).reduce(g,e):e}var O,S,E=a(f),j=(O=(0,n.useState)(h(E)),S=2,function(e){if(Array.isArray(e))return e}(O)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(O,S)||ie(O,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=j[0],P=j[1];(0,n.useEffect)((function(){P(h(E))}),[JSON.stringify(E)]);var k=p?ce:ue;return o().createElement(k,re({disabled:d,clearable:m,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},c,{options:w.map((function(e){return oe(oe({},e),{},{label:e.labelId?o().createElement(o().Fragment,null,o().createElement(Z.Z,{msgId:e.labelId}),e.glyphId&&o().createElement(v.Glyphicon,{style:{marginLeft:10},glyph:e.glyphId})):e.label})})),value:t,onChange:function(e){return b?s(e.length>0?e.map((function(e){return e.value})):void 0):(P(g(w,e)),s(e.value))}}))};function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}var fe=["label","value","config","onChange","disabled"];function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===de(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=(0,A.Z)(["placeholder","noResultsText"])(B.ZP),ve=(0,A.Z)("placeholder")(v.FormControl);const ge=function(e){e.label;var t=e.value,r=e.config,n=void 0===r?{}:r,l=n.initialOptionValue,i=n.getSelectOptions,a=void 0===i?function(){return[]}:i,u=n.selectClearable,c=void 0!==u&&u,s=e.onChange,d=e.disabled,f=a(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,fe)),p="constant"===(null==t?void 0:t.type)?"constant":"attribute";return o().createElement("div",{className:"flex-center"},"constant"===(null==t?void 0:t.type)&&o().createElement(v.FormGroup,null,o().createElement(ve,{type:"number",disabled:d,value:null==t?void 0:t.value,placeholder:"styleeditor.placeholderInput",onChange:function(e){s(ye(ye({},t),{},{value:e.target.value}))}})),"constant"!==(null==t?void 0:t.type)&&o().createElement("div",{className:"flex-grow-1"},o().createElement(be,{disabled:d,clearable:c,options:f,value:"initial"===(null==t?void 0:t.type)?l:null==t?void 0:t.name,onChange:function(e){e.value!==l?s({type:"attribute",name:e.value}):s({type:"initial"})}})),o().createElement(v.DropdownButton,{className:"square-button-md no-border flex-center",noCaret:!0,pullRight:!0,disabled:d,title:o().createElement(v.Glyphicon,{glyph:"option-vertical"})},[{labelId:"styleeditor.constantValue",value:"constant"},{labelId:"styleeditor.attributeValue",value:"attribute"}].map((function(e){return o().createElement(v.MenuItem,{key:e.value,active:p===e.value,onClick:function(){return r=e.value,void(t.type!==r&&s({type:r}));var r}},o().createElement(Z.Z,{msgId:e.labelId}))}))))};var he=["label"],Oe=["label","value","config","onChange"];function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function je(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Se(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Se(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=(0,A.Z)("placeholder")(v.FormControl),xe={color:function(e){var t=e.label,r=e.config,l=void 0===r?{}:r,i=e.value,a=e.onChange,u=void 0===a?function(){}:a,c=e.disableAlpha,s=e.format,d=(0,n.useRef)({value:i});if(d.current={value:i},"pattern"==(h()(i)&&i.kind?"pattern":"solid")){var f=((null==l?void 0:l.getGroupParams(i.kind))||{}).params,p=void 0===f?{}:f,y=(null==l?void 0:l.getGroupConfig(i.kind))||{},m=i;return o().createElement(o().Fragment,null,o().createElement(Ze,{properties:m,params:y.omittedKeys?S()(p,y.omittedKeys):p,config:{disableAlpha:y.disableAlpha},onChange:function(e){return u(Ie(Ie({},d.current.value),e))},format:s}),o().createElement(N,{divider:!0}))}return o().createElement(N,{label:t},o().createElement(k.Z,{color:i,line:l.stroke,disableAlpha:l.disableAlpha||c,onChangeColor:function(e){return e&&u(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,l=e.config,i=void 0===l?{}:l,a=e.onChange,u=void 0===a?function(){}:a;return o().createElement(N,{label:t,disabled:n},o().createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(I.Z,{start:[r],disabled:n,tooltips:[!0],format:i.format,range:i.range||{min:0,max:10},onChange:function(e){return u(e)}})))},input:function(e){var t=e.label,r=e.value,n=e.config,l=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return o().createElement(N,{label:t},o().createElement(v.FormGroup,null,o().createElement(Te,{type:l.type||"text",value:r,disabled:u,placeholder:"styleeditor.placeholderInput",onChange:function(e){return a(e.target.value)}})))},multiInput:function(e){return o().createElement(N,{label:e.label},o().createElement(ge,e))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,l=void 0===n?function(){}:n,i=e.config,a=void 0===i?{}:i,u=e.disabled;return o().createElement(N,{label:t,disabled:u},o().createElement(p.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(a.options||[]).map((function(e){var t=e.glyph,n=e.label,i=e.labelId,a=e.tooltipId,c=e.value;return{glyph:t,tooltipId:a,disabled:u,text:i?o().createElement(Z.Z,{msgId:i}):n,active:c===r,onClick:function(){return l(r===c?void 0:c)}}}))}))},mark:function(e){var t=e.label,r=Pe(e,he);return o().createElement(N,{label:t},o().createElement(W,r))},image:function(e){var t=e.label,r=e.value;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e.config);var l,i,a=e.onChange,u=(l=(0,n.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(l,i)||je(l,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],s=u[1],d=h()(r)?r.src:r;return o().createElement(N,{label:t,invalid:!("error"!==(null==c?void 0:c.type)),warning:!("warning"!==(null==c?void 0:c.type))},o().createElement(Y,{label:t,value:d,onChange:function(e){a(e),s(!1)},onLoad:function(e,t){s(e),e&&a({src:t,errorId:e.messageId})}}))},select:function(e){var t=e.label,r=e.value,n=e.config.isValid,l=e.visible;if(void 0!==l&&!l)return null;var i=!n||n({value:r});return o().createElement(N,{label:t,invalid:!i},o().createElement(se,e))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,l=n.samples,i=void 0===l?5:l,a=n.getOptions,u=void 0===a?function(){return[]}:a,c=n.rampFunction,s=void 0===c?function(e){return e.colors}:c,d=e.onChange,f=u(Pe(e,Oe));return o().createElement(N,{label:t},o().createElement(C.Z,{items:f,rampFunction:s,samples:i,value:{name:r},onChange:function(e){return d(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return o().createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(x.Z,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,l=e.value,i=e.onChange,a=e.bands,u=l.channelSelection,c=u?u.grayChannel?"gray":"rgb":"auto",s=(a||[]).map((function(e){return{label:e,value:e}}));if("rgb"===c)return Object.keys(u).map((function(e){var t,r,n=null===(t=u[e])||void 0===t?void 0:t.sourceChannelName,a=null===(r=u[e])||void 0===r?void 0:r.contrastEnhancement;return o().createElement(o().Fragment,null,o().createElement(G,{key:e,value:n,bands:s,label:"styleeditor."+e,enhancementType:(null==a?void 0:a.enhancementType)||"none",onChange:function(t,r){return"band"===t?i({contrastEnhancement:{},channelSelection:Ie(Ie({},l.channelSelection),{},Ce({},e,Ie(Ie({},l.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?i({contrastEnhancement:{},channelSelection:Ie(Ie({},l.channelSelection),{},Ce({},e,Ie(Ie({},l.channelSelection[e]),{},{contrastEnhancement:Ie(Ie({},u[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),o().createElement(N,{key:e+"-divider",divider:!0}))}));var d,f=void 0===(null==u||null===(t=u.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==u||null===(r=u.grayChannel)||void 0===r?void 0:r.sourceChannelName,p="auto"===c?l.contrastEnhancement:null==u||null===(n=u.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return o().createElement(G,{label:"styleeditor.grayChannel",value:f,bands:[{label:o().createElement(Z.Z,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat((d=s,function(e){if(Array.isArray(e))return we(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||je(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),enhancementType:(null==p?void 0:p.enhancementType)||"none",onChange:function(e,t){return"band"===e?i("auto"===t?Ie(Ie({},l),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:Ie(Ie({contrastEnhancement:{}},null==u?void 0:u.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?i("auto"===c?{channelSelection:void 0,contrastEnhancement:Ie(Ie({},l.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(u).reduce((function(e,r){return Ie(Ie({},e),{},Ce({},r,Ie(Ie({},u[r]),{},{contrastEnhancement:Ie(Ie({},u[r].contrastEnhancement),{},{enhancementType:t})})))}),{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,l=e.config.options;return o().createElement(N,{label:t},o().createElement(T.Z,{dashArray:r,onChange:n,options:l,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find((function(e){return P()(parseFloat(e))}))},creatable:!0}))}};function Ze(e){var t=e.properties,r=e.params,l=e.config,i=e.onChange,a=e.format,u=(0,n.useRef)({properties:t});return u.current={properties:t},o().createElement(o().Fragment,null,Object.keys(r).map((function(e){var n=r[e]||{},c=n.type,s=n.setValue,d=n.getValue,f=n.isDisabled,p=n.config,y=n.label,m=n.key,b=n.isVisible,v=m||e,g=xe[c],h=s&&s(t[v],u.current.properties);return g&&o().createElement(g,Ee({},l,{key:v,label:y||v,config:p,format:a,visible:b&&b(t[v],u.current.properties,a),disabled:f&&f(t[v],u.current.properties,l),value:j()(h)?t[v]:h,onChange:function(e){return i(d&&d(e,u.current.properties)||e)}}))})))}const Ae=Ze;var Ne=r(423570),Fe=r.n(Ne),De=r(531071);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Me(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ze(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Re(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ge=(0,M.Z)(z.Z),Ue=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,l=void 0===n?[]:n,i=e.format,a=e.groupLevels,u=void 0===a?0:a,c=e.onChange,s=void 0===c?function(){}:c,d=r.groupFields,f=r.filterFields;return o().createElement("div",{className:"ms-style-rule-filter"},o().createElement(De.Z,{textFieldTooltipMessageId:{css:"queryform.attributefilter.tooltipTextFieldCSS","3dtiles":"queryform.attributefilter.tooltipTextField3DTiles"}[i],attributes:l,filterFields:f,groupFields:d,autocompleteEnabled:!1,groupLevels:u,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};s({filterFields:f,groupFields:d?[].concat(Me(d),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};s({filterFields:f?[].concat(Me(f),[t]):[t],groupFields:d})},onRemoveFilterField:function(e){s({filterFields:f.filter((function(t){return t.rowId!==e})),groupFields:d})},onUpdateFilterField:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s({filterFields:f.map((function(l){return l.rowId===e?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=We(We({},t),{},(Be(e={},r.fieldName,r.fieldValue),Be(e,"type",r.fieldType),Be(e,"fieldOptions",We(We({},t.fieldOptions),{},{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})),e));return"attribute"===r.fieldName?We(We({},n),{},{value:"string"===r.fieldType?"":null,operator:""}):"operator"===r.fieldName?We(We({},n),{},{value:null}):n}(l,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}):l})),groupFields:d})},onUpdateExceptionField:function(e,t){s({filterFields:f.map((function(r){return r.rowId===e?We(We({},r),{},{exception:t}):r})),groupFields:d})},onUpdateLogicCombo:function(e,t){s({filterFields:f,groupFields:d.map((function(r){return r.id===e?We(We({},r),{},{logic:t}):r}))})},onRemoveGroupField:function(e){s({filterFields:f.filter((function(t){return t.groupId!==e})),groupFields:d.filter((function(t){return t.id!==e}))})},onChangeCascadingValue:function(){}}}))};function _e(e){var t,r=e.value,n=e.hide,l=e.attributes,i=e.format,a=e.onChange,u=e.placement,c=void 0===u?"right":u;if(n||!l||0===l.length)return null;var s=(null==r||null===(t=r.filterFields)||void 0===t?void 0:t.length)>0;return o().createElement(F.Z,{placement:c,content:o().createElement(Ue,{filterObj:r,attributes:l,format:i,onChange:function(e){return a({filter:e})}})},o().createElement(Ge,{className:"square-button-md no-border",active:s,tooltipId:"styleeditor.openFilterBuilder"},o().createElement(v.Glyphicon,{glyph:"filter"})))}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e,t){if(e){if("string"==typeof e)return Je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ye=(0,A.Z)(["placeholder","noResultsText"])(B.ZP.Creatable),Xe=(0,M.Z)(z.Z);function Qe(e){var t=e.label,r=e.currentZoom;return o().createElement("span",null,t,r&&o().createElement(o().Fragment,null," ",o().createElement(v.Glyphicon,{glyph:"arrow-left"})))}function et(e){var t=e.label,r=e.value,n=e.options,l=e.isValidNewOption,i=e.onChange;return o().createElement(N,{label:t},o().createElement(Ye,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:Qe,valueRenderer:Qe,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!P()(t)&&l(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);i(P()(t)?void 0:t)}}))}function tt(e){var t=e.value,r=e.zoom,l=e.scales,i=void 0===l?[]:l,a=e.onChange;function u(e,t){var r,n=e.map((function(e){return e.value}));return t&&-1===n.indexOf(t)?[{value:t}].concat((r=e,function(e){if(Array.isArray(e))return Je(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||$e(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e.value>t.value?-1:1})):e}var c,s,d=(0,n.useState)(function(e){var r=e.map((function(e,t){return{value:e,zoom:t}})),n=[t.min,t.max].filter((function(e){return void 0!==e}));return 0===n.length?r:n.reduce(u,r)}(i)),f=(s=2,function(e){if(Array.isArray(e))return e}(c=d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(c,s)||$e(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],y=f[1];return o().createElement("div",{className:"ms-style-rule-scale"},o().createElement(et,{label:"styleeditor.maxScaleDenominator",value:t.max,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}})),isValidNewOption:function(e){return e>=t.min},onChange:function(e){a(qe(qe({},t),{},{max:e})),y(u(p,e))}}),o().createElement(et,{label:"styleeditor.minScaleDenominator",value:t.min,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}})),isValidNewOption:function(e){return e<=t.max},onChange:function(e){a(qe(qe({},t),{},{min:e})),y(u(p,e))}}))}function rt(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,l=void 0===n?[]:n,i=e.zoom,a=e.hide,u=e.onChange,c=e.placement,s=void 0===c?"right":c;return a?null:o().createElement(F.Z,{placement:s,content:o().createElement(tt,{value:r,zoom:i,scales:l,onChange:function(e){return u({scaleDenominator:e})}})},o().createElement(Xe,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},o().createElement(v.Glyphicon,{glyph:"1-ruler"})))}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){it(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function it(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==nt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===nt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[lt(lt({},e.defaultProperties),{},{symbolizerId:Fe()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return lt(lt(lt({},e.defaultProperties),t.Classification.defaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[lt(lt({},n),{},it({symbolizerId:Fe()(),fill:void 0},o,lt({},r.Mark.defaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[lt(lt({},n),{},it({symbolizerId:Fe()(),fill:void 0},o,lt({},r.Icon.defaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[lt(lt({},r.Raster.defaultProperties),{},{symbolizerId:Fe()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[lt(lt({},r.Raster.defaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:Fe()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return lt(lt({},t.Raster.defaultProperties),{},{ruleId:r})}}]},ut=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,o=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?null!=o&&o.redChannel?"RGB":"Gray":void 0!==t?t:null!=r&&r.kind?null==r?void 0:r.kind:"Simple"};function ct(e){var t,r,n=e.ruleKind,l=e.symbolizerKind,i=e.ruleId,a=e.graphic,u=e.channelSelection,c=e.hide,s=e.ruleBlock,d=e.symbolizerBlock,f=e.getSelected,p=void 0===f?ut:f,y=e.getOptions,m=void 0===y?at:y,b=e.onSelect,g=m({ruleBlock:s,symbolizerBlock:d,kind:l}),h=l?d[l]:{},O=h.defaultProperties,S=h.params,E=void 0===S?{}:S,j=null==E||null===(t=E.color)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.graphicKey,w=p({ruleKind:n,symbolizerKind:l,graphic:a,channelSelection:u});return c?null:o().createElement(v.DropdownButton,{className:"square-button-md no-border",noCaret:!0,pullRight:!0,title:o().createElement(v.Glyphicon,{glyph:"option-vertical"})},g.map((function(e){return!e.isVisible||e.isVisible({graphicKey:j})?o().createElement(v.MenuItem,{key:e.value,active:w===e.value,onClick:function(){return t=e.value,r=e.onSelect({ruleId:i,ruleKind:n,symbolizerKind:l,defaultProperties:O,graphicKey:j}),t===w?null:b(r);var t,r}},o().createElement(Z.Z,{msgId:e.labelId})):null})))}const st=function(e){var t=e.className,r=e.glyph,n=e.tools,l=e.children,i=t?" "+t:"";return o().createElement("li",{className:"ms-symbolizer".concat(i)},o().createElement("div",{className:"ms-symbolizer-info"},r&&o().createElement(v.Glyphicon,{glyph:r}),o().createElement("div",{className:"ms-symbolizer-tools"},n)),l)};var dt=r(623560),ft=r.n(dt);function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}var yt=["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands","config"],mt=["name"];function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ht(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Ot=function(e){var t=e.ruleId,r=e.glyph,l=e.params,i=e.kind,a=e.symbolizerKind,u=e.classificationType,c=void 0===u?"classificationVector":u,s=e.attributes,d=void 0===s?[]:s,f=e.onUpdate,p=e.onReplace,y=e.methods,m=e.getColors,b=void 0===m?function(){}:m,v=e.ruleBlock,g=void 0===v?{}:v,h=e.symbolizerBlock,O=void 0===h?{}:h,S=e.bands,E=e.config,j=ht(e,yt),w=j.ramp,P=j.method,k=j.classification,I=j.attribute,C=j.intervals,T=j.intervalsForUnique,x=void 0===T?(null==E?void 0:E.intervalsForUnique)||100:T,Z=j.reverse,A=j.continuous,N=j.format,F=(0,n.useRef)();F.current={ruleId:t,intervals:C,intervalsForUnique:x,method:P,attribute:I,reverse:Z,ramp:w,continuous:A,classification:k};var D=l.reduce((function(e,t){return ft()(t)?vt(vt({},e),t(a)):vt(vt({},e),t)}),{}),R=(O[a]||{}).glyph;return o().createElement(st,{key:"Classification",glyph:R||r,tools:o().createElement(ct,{ruleKind:i,symbolizerKind:a,ruleId:t,onSelect:p,ruleBlock:g,symbolizerBlock:O})},o().createElement(Ae,{properties:j,format:N,config:{attributes:d,methods:y,getColors:function(){var e="custom"===w&&k.length>0&&{name:"custom",colors:k.map((function(e){return e.color}))},t=b(void 0,void 0,5,e);return t?t.map((function(e){var t=e.name,r=ht(e,mt);return vt({label:t?"global.colors.".concat(t):void 0,name:t},r)})):[]},bands:S,method:P,methodEdit:null==j?void 0:j.methodEdit},params:D,onChange:function(e){return f(vt(vt({},F.current),{},{type:c,values:e}))}}))};var St=r(618446),Et=r.n(St),jt=r(717621),wt=r.n(jt),Pt=["a"];function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xt=function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,o=void 0===n?"opacity":n,l=e.graphicKey,i=e.label,a=void 0===i?"Fill":i,u=e.stroke,c=e.pattern,s=e.disableAlpha,d=e.getGroupParams,f=e.getGroupConfig;return{type:"color",label:a,config:{stroke:u,pattern:c,disableAlpha:s,getGroupParams:d,getGroupConfig:f,graphicKey:l},setValue:function(e,t){var r;if(c&&null!==(r=t[l])&&void 0!==r&&r.kind)return t[l];var n=j()(t[o])?1:t[o];return wt()(e).setAlpha(n).toRgb()},getValue:function(e){var t,n;if(c&&h()(e)&&e.kind)return Tt(n={},l,e),Tt(n,r,void 0),Tt(n,o,void 0),n;var i=e||{},a=i.a,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(i,Pt);return Ct((Tt(t={},r,wt()(Ct(Ct({},u),{},{a:1})).toHexString()),Tt(t,o,a),t),c&&Tt({},l,void 0))}}},Zt=function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,o=void 0===n?"Width":n,l=e.dasharrayKey,i=void 0===l?"dasharray":l;return{type:"slider",label:o,config:{range:{min:0,max:20},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=parseFloat(n),l=t[i],a=t[r];return Ct(Tt({},r,o),l&&Tt({},i,o?l.map((function(e){return Math.round(e/a*o)})):void 0))}}},At=function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label;return{type:"dash",label:void 0===n?"Dash array":n,config:{options:[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"}]},setValue:function(e,t){var r=void 0===t.width?1:t.width;return void 0!==e?e.map((function(e){return Math.round(e/r)})):[0]},getValue:function(e,t){if(Et()(e,["0"]))return Tt({},r,void 0);var n=void 0===t.width?1:t.width,o=!(e||[]).find((function(e){return P()(parseFloat(e))}));return Tt({},r,void 0!==e&&o?e.map((function(e){return parseFloat(e)*n})):void 0)}}},Nt=function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return Tt({},r,e)}}},Ft=function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return Tt({},r,e)}}},Dt=function(e){var t=e.key,r=void 0===t?"colorMapType":t,n=e.label;return{type:"toolbar",label:void 0===n?"Color map type":n,config:{options:[{labelId:"styleeditor.colorMapType.ramp",value:"ramp"},{labelId:"styleeditor.colorMapType.intervals",value:"intervals"},{labelId:"styleeditor.colorMapType.values",value:"values"}]},getValue:function(e){return Tt({},r,e)},isDisabled:e.isDisabled}},Rt=function(e){var t=e.key,r=void 0===t?"radius":t,n=e.label;return{type:"slider",label:void 0===n?"Radius":n,config:{range:e.range||{min:1,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Tt({},r,parseFloat(t))}}},Mt=function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",label:void 0===n?"Opacity":n,config:{range:{min:0,max:1}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Tt({},r,parseFloat(t))}}},zt=function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,o=void 0===n?"":n,l=e.axis,i=void 0===l?"":l;return{key:r,type:"slider",label:o,config:{range:{min:-100,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="y"===i?parseFloat(e[1]):parseFloat(e[0]);return P()(t)?0:t},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=t[r]||[0,0];return Tt({},r,"y"===i?[o[0],parseFloat(n)]:[parseFloat(n),o[1]])}}},Vt=function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label;return{type:"slider",label:void 0===n?"Rotation (deg)":n,config:{range:{min:0,max:360},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+"°"}}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split("°")[0];return Tt({},r,parseFloat(t))}}},Wt=function(e){var t=e.key,r=void 0===t?"msClampToGround":t,n=e.label;return{type:"toolbar",label:void 0===n?"Clamp to ground":n,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},getValue:function(e){return Tt({},r,e)},setValue:function(e){return!!e}}},Bt=function(e){var t=e.key,r=void 0===t?"msBringToFront":t,n=e.label;return{type:"toolbar",label:void 0===n?"Arrange":n,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},getValue:function(e){return Tt({},r,e)},setValue:function(e){return!!e}}},Gt=function(e){var t=e.key,r=void 0===t?"msClassificationType":t,n=e.label;return{type:"toolbar",label:void 0===n?"PolygonType":n,config:{options:[{labelId:"styleeditor.3dTile",value:"3d"},{labelId:"styleeditor.terrain",value:"terrain"},{labelId:"styleeditor.both",value:"both"}]},getValue:function(e){return Tt({},r,e)}}},Ut=function(e){var t=e.key,r=void 0===t?"msHeightReference":t,n=e.label;return{type:"toolbar",label:void 0===n?"Height reference from ground":n,config:{options:[{labelId:"styleeditor.none",value:"none"},{labelId:"styleeditor.relative",value:"relative"},{labelId:"styleeditor.clamp",value:"clamp"}]},getValue:function(e){return Ct(Tt({},r,e),"clamp"===e&&{msHeight:void 0})}}},_t=function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",label:t,getValue:function(){return Tt({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},Lt=function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",label:t,config:{},getValue:function(){return Tt({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},Kt=function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){return Tt({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},qt=function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){return Tt({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},Ht=function(e){var t=e.key,r=void 0===t?"label":t;return{type:"toolbar",label:e.label,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},isDisabled:e.isDisabled,getValue:function(e){return Tt({},r,e)}}},$t=function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,o=e.isDisabled;return{type:"slider",label:n,config:{range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:void 0===o?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:o,setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)},getValue:function(){return Tt({},r,parseFloat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]))}}},Jt=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"select",label:t,config:{getOptions:void 0===o?function(){return[]}:o,selectProps:e.selectProps,isValid:e.isValid},getValue:function(e){return Tt({},n,e)},isDisabled:e.isDisabled,isVisible:e.isVisible}},Yt=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.initialOptionValue,l=e.getSelectOptions;return{type:"multiInput",label:t,config:{initialOptionValue:o,getSelectOptions:void 0===l?function(){return[]}:l},setValue:function(e){return void 0===e?{type:"initial"}:h()(e)?e:{type:"constant",value:e}},getValue:function(e){return"initial"===(null==e?void 0:e.type)?Tt({},n,void 0):"constant"===(null==e?void 0:e.type)?Tt({},n,null!==(t=null==e?void 0:e.value)&&void 0!==t?t:0):Tt({},n,e);var t},isDisabled:e.isDisabled,isVisible:e.isVisible}},Xt=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"colorRamp",label:t,config:{getOptions:void 0===o?function(){return[]}:o},getValue:function(){return Tt({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},Qt=function(e){var t=e.label,r=e.key,n=void 0===r?"":r;return{type:"colorMap",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,o=e.type,l="customInterval"===t.method,i="interval"===o||l,a="color"===o||"custom"===t.ramp;return Ct(Ct(Tt({},n,r),i&&{method:"customInterval",methodEdit:l?t.methodEdit:t.method}),a&&{ramp:"custom"})}}},er=function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}};var tr=r(264721),rr=r.n(tr);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ir(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==nr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===nr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(e){return function(e){if(Array.isArray(e))return ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cr=function(e){var t=e.label;return{msClampToGround:Wt({label:void 0===t?"styleeditor.clampToGround":t})}},sr="__height_mode_original__",dr={msBringToFront:Bt({label:"styleeditor.msBringToFront"}),msHeightReference:Ut({label:"styleeditor.heightReferenceFromGround"}),msHeight:Yt({label:"styleeditor.height",key:"msHeight",isDisabled:function(e,t){return"clamp"===(null==t?void 0:t.msHeightReference)},initialOptionValue:sr,getSelectOptions:function(e){var t=e.attributes.map((function(e){var t=e.label,r=e.attribute;return"number"===e.type?{label:t,value:r}:null})).filter((function(e){return!!e}));return[].concat(ar(t),[{label:"Point height",value:sr}])}})},fr={msClassificationType:Gt({label:"styleeditor.classificationtype"})};const pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exactMatchGeometrySymbol,r=e.enable3dStyleOptions,n={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:t?["point","vector"]:["point","linestring","polygon","vector"],params:lr({wellKnownName:_t({label:"styleeditor.shape"}),color:xt({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:xt({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:Zt({key:"strokeWidth",label:"styleeditor.strokeWidth"}),radius:Rt({key:"radius",label:"styleeditor.radius"}),rotate:Vt({label:"styleeditor.rotation"})},r?dr:{}),defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:t?["point","vector"]:["point","linestring","polygon","vector"],hideMenu:!0,params:lr({image:Lt({label:"styleeditor.image",key:"image"}),format:Jt({label:"styleeditor.format",key:"format",isVisible:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).image;return"css"!==(arguments.length>2?arguments[2]:void 0)&&!h()(t)&&!["png","jpg","svg","gif","jpeg"].includes(t.split(".").pop())},getOptions:function(){return _.qL}}),opacity:Mt({label:"styleeditor.opacity"}),size:Rt({key:"size",label:"styleeditor.size"}),rotate:Vt({label:"styleeditor.rotation"})},r?dr:{}),defaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:t?["linestring","vector"]:["linestring","polygon","vector"],params:lr({color:xt({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(e){return n[e]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:Zt({label:"styleeditor.strokeWidth",key:"width"}),dasharray:At({label:"styleeditor.lineStyle",key:"dasharray"}),cap:Nt({label:"styleeditor.lineCap",key:"cap"}),join:Ft({label:"styleeditor.lineJoin",key:"join"})},r?cr({label:"styleeditor.clampToGround"}):{}),defaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round",msClampToGround:!0}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:lr({color:xt({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return n[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:xt({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:Zt({key:"outlineWidth",label:"styleeditor.outlineWidth"})},r?lr(lr({},fr),cr({label:"styleeditor.clampOutlineToGround"})):{}),defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1,msClassificationType:"both",msClampToGround:!0}},PointCloud:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["pointcloud"],hideMenu:!0,params:{color:xt({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),radius:Rt({key:"radius",label:"styleeditor.radius",range:{min:1,max:10}})},defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,radius:1}},Polyhedron:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polyhedron"],hideMenu:!0,params:{color:xt({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return n[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}})},defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:t?["point","vector"]:["point","linestring","polygon","vector"],params:{label:Jt({key:"label",label:"styleeditor.label",selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map((function(e){return{value:"{{"+e.attribute+"}}",label:e.attribute}})))||[]}}),font:Jt({key:"font",label:"styleeditor.fontFamily",selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map((function(e){return{value:e,label:e}})))||[]}}),color:xt({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:Rt({label:"styleeditor.fontSize",key:"size"}),fontStyle:Kt({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:qt({label:"styleeditor.fontWeight",key:"fontWeight"}),haloColor:xt({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:Zt({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:Vt({label:"styleeditor.rotation"}),offsetX:zt({label:"styleeditor.offsetX",axis:"x"}),offsetY:zt({label:"styleeditor.offsetY",axis:"y"})},defaultProperties:{kind:"Text",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0]}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:er({}),opacity:Mt({label:"styleeditor.opacity"})},defaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}}},o={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:Xt({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:Ht({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:Jt({key:"attribute",label:"styleeditor.attribute",isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map((function(e){return{value:e.attribute,label:e.attribute,disabled:e.disabled}}))}}),method:Jt({key:"method",label:"styleeditor.method",isDisabled:function(e,t,r){var n,o,l=r.attributes;return"string"===(null==l||null===(n=l.filter((function(e){return e.label===(null==t?void 0:t.attribute)})))||void 0===n||null===(o=n[0])||void 0===o?void 0:o.type)&&"customInterval"!==(null==t?void 0:t.method)},getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(ar("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),ar(o))}}),intervals:$t({label:"styleeditor.intervals",isDisabled:function(e,t){return rr()(["customInterval","uniqueInterval"],null==t?void 0:t.method)}})},function(e){var t,r,o,l;if(!e)return{};switch(e){case"Mark":return lr({fillOpacity:Mt({key:"fillOpacity",label:"styleeditor.opacity"})},S()(null===(t=n[e])||void 0===t?void 0:t.params,["color"]));case"Line":return lr({opacity:Mt({key:"opacity",label:"styleeditor.opacity"})},S()(null===(r=n[e])||void 0===r?void 0:r.params,["color"]));case"Fill":return lr({fillOpacity:Mt({key:"fillOpacity",label:"styleeditor.opacity"})},S()(null===(o=n[e])||void 0===o?void 0:o.params,["color"]));default:return null===(l=n[e])||void 0===l?void 0:l.params}},{classification:Qt({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:er({}),opacity:Mt({label:"styleeditor.opacity"}),ramp:Xt({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:Ht({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),continuous:Ht({key:"continuous",label:"styleeditor.continuous",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),colorMapType:Dt({key:"colorMapType",label:"styleeditor.colorMapType.label"}),method:Jt({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(ar("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),ar(o))}}),intervals:$t({label:"styleeditor.intervals"})},{classification:Qt({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,colorMapType:"ramp",symbolizerKind:"Raster"}}};return{symbolizerBlock:n,ruleBlock:o}};var yr=r(180307),mr=r(590937);function br(e){var t=e.title,r=e.tools,l=e.errorId,i=e.msgParams,a=e.draggable,u=e.connectDragSource,c=e.connectDropTarget,s=e.isDragging,d=e.children,f=(0,n.useRef)(null);a&&(u(f.current),c(f.current));var p=s?" ms-drop-target":"";return o().createElement("li",{ref:f,className:"ms-style-rule".concat(p)},o().createElement("div",{className:"ms-style-rule-head"},a&&o().createElement("div",{className:"ms-style-rule-grab-handle"},o().createElement(v.Glyphicon,{glyph:"grab-handle"})),o().createElement("div",{className:"ms-style-rule-head-info"},t),o().createElement("div",{className:"ms-style-rule-head-tools"},r)),l&&o().createElement(v.Alert,{bsStyle:"danger"},o().createElement(Z.Z,{msgId:l,msgParams:i})),o().createElement("ul",{className:"ms-style-rule-body"},d))}br.propTypes={title:i().oneOfType([i().node,i().string]),tools:i().node,errorId:i().string,draggable:i().bool,connectDragSource:i().func,connectDropTarget:i().func,isDragging:i().bool},br.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var vr="RULE";const gr=(0,mr.GR)(vr,{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=(0,yr.findDOMNode)(r);if(!n)return null;var o=t.getItem().index,l=e.index;if(o===l)return null;var i=n.getBoundingClientRect(),a=i.bottom,u=i.top,c=(a-u)/2,s=t.getClientOffset().y-u;o<l&&s<c||o>l&&s>c||(e.onSort(o,l),t.getItem().index=l)}(e,t,r)}},(function(e){return{connectDropTarget:e.dropTarget()}}))((0,mr.Ej)(vr,{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(br));var hr=r(202576),Or=["ruleId"],Sr=["kind","symbolizerId"];function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jr.apply(this,arguments)}function wr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Pr(e){return function(e){if(Array.isArray(e))return kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Er(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xr=(0,M.Z)(z.Z),Zr=(0,A.Z)("placeholder")(v.FormControl);function Ar(){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},o().createElement("div",null,o().createElement(v.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(Z.Z,{msgId:"styleeditor.emptyRuleEditorTitle"})),o().createElement("p",null,o().createElement(Z.Z,{msgId:"styleeditor.emptyRuleEditor"}))))}var Nr=(0,n.forwardRef)((function(e,t){var r=e.rules,l=void 0===r?[]:r,i=e.loading,a=e.toolbar,u=e.config,c=void 0===u?{}:u,d=e.ruleBlock,f=void 0===d?{}:d,y=e.symbolizerBlock,m=void 0===y?{}:y,g=e.onUpdate,h=void 0===g?function(){}:g,O=e.onChange,S=void 0===O?function(){}:O,E=c.geometryType,j=c.attributes,w=c.bands,P=c.scales,k=c.zoom,I=c.fonts,C=c.methods,T=c.getColors,x=c.classification,A=c.format,N=c.simple,F=(0,n.useRef)();function D(e,t){var r=e.values,n=e.ruleId,o=e.symbolizerId;if(t){var l=F.current.rules.map((function(e){return e.ruleId===n?Cr(Cr({},e),r):e}));return S(l)}var i=F.current.rules.map((function(e){return e.symbolizers?Cr(Cr({},e),{},{symbolizers:e.symbolizers.map((function(t){return t.symbolizerId===o&&e.ruleId===n?Cr(Cr({},t),r):t}))}):e}));return S(i)}function R(e){var t=[e].concat(Pr(F.current.rules));S(t)}function M(e){var t=e.ruleId,r=wr(e,Or),n=F.current.rules.map((function(e){return e.ruleId===t?Cr({ruleId:t},r):e}));return S(n)}function z(e,t){var r=s()(F.current.rules,(function(t,r){return r===e})),n=F.current.rules.reduce((function(n,o,l){return l===e?n:[].concat(Pr(n),l===t?e>t?[r,o]:[o,r]:[o])}),[]);return S(n)}function V(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!s()(n,(function(e){return"Text"===e.kind}))&&t>0}return F.current={rules:l},o().createElement("div",{ref:t,className:"ms-style-rules-editor"},o().createElement("div",{className:"ms-style-rules-editor-head"},o().createElement("div",{className:"ms-style-rules-editor-left"},a),o().createElement("div",{className:"ms-style-rules-editor-right"},o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat(Pr(Object.keys(m).map((function(e){var t=m[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(E),tooltipId:t.tooltipAddId,onClick:function(){return R({name:"",ruleId:Fe()(),symbolizers:[Cr(Cr({},m[e].defaultProperties),{},{symbolizerId:Fe()()})]})}}}))),Pr(Object.keys(f).filter((function(e){return f[e].add})).map((function(e){var t=f[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(E),tooltipId:t.tooltipAddId,onClick:function(){return R(Cr({name:"",ruleId:Fe()()},f[e].defaultProperties))}}}))))}))),o().createElement("ul",{className:"ms-style-rules-editor-body"},0===l.length&&o().createElement(Ar,null),l.map((function(e,t){var r,n=e.name,i=e.symbolizers,a=void 0===i?[]:i,u=e.filter,c=e.scaleDenominator,s=void 0===c?{}:c,d=e.ruleId,p=e.kind,y=e.errorId,g=e.msgParams,O=f[p]||{},R=O.params,W=O.glyph,B=O.hideInputLabel,G=O.hideFilter,U=O.hideScaleDenominator,_=O.classificationType,L=!!b()(j)&&"number"===(null===(r=j.find((function(t){return t.label===(null==e?void 0:e.attribute)}))||{})||void 0===r?void 0:r.type);return o().createElement(gr,{key:d+(l.length>1?"_draggable":""),draggable:l.length>1,id:d,index:t,errorId:y,msgParams:g,onSort:z,title:B?o().createElement(Z.Z,{msgId:"styleeditor.rule".concat(p)}):o().createElement(v.FormGroup,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(Zr,{value:n,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return D({values:{name:e.target.value},ruleId:d},!0)}})),tools:o().createElement(o().Fragment,null,V(e,t)&&o().createElement(hr.Z,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:o().createElement(Z.Z,{msgId:"styleeditor.warningTextOrderTitle"}),text:o().createElement(Z.Z,{msgId:"styleeditor.warningTextOrder"})}),o().createElement(_e,{hide:G,value:u,attributes:j,format:A,onChange:function(e){return D({values:e,ruleId:d},!0)}}),P&&o().createElement(rt,{hide:U,value:s,scales:P,zoom:k,onChange:function(e){return D({values:e,ruleId:d},!0)}}),o().createElement(xr,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=F.current.rules.filter((function(t){return t.ruleId!==e}));S(t)}(d)}},o().createElement(v.Glyphicon,{glyph:"trash"})))},"Classification"===p||"Raster"===p?o().createElement(Ot,jr({},e,{ruleBlock:f,symbolizerBlock:m,glyph:W,classificationType:_,config:x||{},params:R,methods:C,getColors:T,bands:w,attributes:j&&j.map((function(t){return Cr(Cr({},t),"customInterval"===e.method?{disabled:L?"number"!==t.type:t.label!==e.attribute}:"uniqueInterval"!==e.method&&{disabled:"number"!==t.type})})),onUpdate:h,onChange:function(e){return D({values:e,ruleId:d},!0)},onReplace:M,format:A})):a.map((function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,l=wr(e,Sr),i=function(e){var t=Object.keys(m).filter((function(e){return m[e].supportedTypes.includes(E)})).find((function(t){var r;return(null===(r=m[t])||void 0===r?void 0:r.kind)===e}));return m[t]||m[e]||{}}(r),a=i.params,u=i.glyph,c=i.hideMenu;return a&&o().createElement(st,{key:n,defaultExpanded:!0,draggable:!0,glyph:u,tools:!N&&o().createElement(ct,{hide:c,symbolizerKind:r,ruleBlock:f,symbolizerBlock:m,ruleId:d,onSelect:M,graphic:l.graphicFill||l.graphicStroke,channelSelection:l.channelSelection})},o().createElement(Ae,{properties:l,format:A,params:a,config:{bands:w,attributes:j,fonts:I},onChange:function(e){return D({values:e,ruleId:d,symbolizerId:n})}}))})))})),i&&o().createElement("div",{className:"ms-style-rule-overlay-loader",style:{position:"absolute",width:"100%",height:"100%",zIndex:10,transition:"0.3s all"}})))})),Fr=pr(),Dr=Fr.symbolizerBlock,Rr=Fr.ruleBlock;Nr.propTypes={rules:i().array,loading:i().bool,toolbar:i().node,config:i().object,ruleBlock:i().object,symbolizerBlock:i().object,onUpdate:i().func,onChange:i().func},Nr.defaultProps={rules:[],config:{},ruleBlock:Rr,symbolizerBlock:Dr,onUpdate:function(){},onChange:function(){}};const Mr=Nr;var zr=r(166287),Vr=r(21090),Wr=["values"];function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Gr(e){return function(e){if(Array.isArray(e))return Lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||_r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){if(e){if("string"==typeof e)return Lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lr(e,t):void 0}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach((function(t){Hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Br(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Br(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $r="UPDATE_STYLE",Jr="UNDO_STYLE",Yr="REDO_STYLE",Xr=Hr({},$r,(function(e,t){return qr({},t)})),Qr=(0,Vr.ZP)((function(e,t){return(Xr[t.type]||f())(e,t.payload)}),{limit:20,undoType:Jr,redoType:Yr,jumpType:"",jumpToPastType:"",jumpToFutureType:"",clearHistoryType:""}),en={};function tn(e){var t,r,l=e.code,i=e.format,a=e.layer,c=e.zoom,d=e.scales,f=e.geometryType,m=e.fonts,b=e.bands,v=e.attributes,g=e.onChange,h=e.onError,O=e.defaultStyleJSON,S=e.config,E=e.loading,j=e.error,w=e.methods,P=e.getColors,k=e.styleUpdateTypes,I=e.debounceTime,C=e.styleService,T=e.exactMatchGeometrySymbol,x=e.enable3dStyleOptions,A=pr({exactMatchGeometrySymbol:T,enable3dStyleOptions:x}),N=A.symbolizerBlock,F=A.ruleBlock,D=Ur((0,n.useState)(!1),2),R=D[0],M=D[1],z=Ur((0,n.useReducer)(Qr,{}),2),V=z[0],W=z[1],B=(null==V?void 0:V.present)||en,G=(0,n.useRef)();G.current={style:B};var U=(0,n.useRef)(!1);(0,n.useEffect)((function(){U.current&&null!==O||(0,zr.getStyleParser)(i).then((function(e){return e&&l&&null===O?e.readStyle(l).then((function(e){W({type:$r,payload:(0,_.VM)(e)}),U.current=!0})).catch((function(e){return h(qr(qr({},e),{},{status:400}))})):e&&l&&O?(U.current=!0,W({type:$r,payload:O})):l&&!e?h({messageId:"styleeditor.formatNotSupported",status:400}):null}))}),[l,i,O]);var L=function(e){if(M(!1),!e)return null;var t=qr(qr({},G.current.style),{},{rules:e});return W({type:$r,payload:t})},K=(0,n.useRef)();(0,n.useEffect)((function(){return K.current=u()((function(e){var t,r=function(e){if(!e||0===e.length)return{messageId:"styleeditor.styleEmpty",status:400,isEmpty:!0};var t=s()(e.map((function(e){return e.errorId})),(function(e){return e}));if(t)return{messageId:t,status:400};if(s()(e,(function(e){var t=e.kind,r=e.classification;return!("Classification"!==t&&"Raster"!==t||r&&0!==r.length)})))return{messageId:"styleeditor.incompleteClassification",status:400};var r,n,o,l=s()(e,(function(e){var t=e.symbolizers,r=void 0===t?[]:t;return s()(r,(function(e){var t=e.kind,r=e.image;return"Icon"===t&&(null==r?void 0:r.errorId)}))}));return l?{messageId:"styleeditor.".concat(null==l||null===(r=l.symbolizers)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.image)||void 0===o?void 0:o.errorId),status:400}:null}(null==e||null===(t=e.style)||void 0===t?void 0:t.rules);return r?h(r):(0,zr.getStyleParser)(e.format).then((function(t){return t.writeStyle((0,_.Gg)(e.style)).then((function(t){var r=(0,_.BG)(e,t),n=r.parsedCode,o=r.errorObj;o?h(o):g(n,e.style)})).catch((function(e){h(qr(qr({},e),{},{status:400}))}))}))}),I),function(){K.current.cancel()}}),[]),(0,n.useEffect)((function(){K.current.cancel(),K.current({format:i,style:B})}),[JSON.stringify(B)]);var q=j&&(j.message||j.messageId&&o().createElement(Z.Z,{msgId:j.messageId}));return o().createElement(Mr,{loading:R,toolbar:o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"undo",tooltipId:"styleeditor.undoStyle",disabled:0===((null==V||null===(t=V.past)||void 0===t?void 0:t.length)||0),onClick:function(){return W({type:Jr})}},{disabled:0===((null==V||null===(r=V.future)||void 0===r?void 0:r.length)||0),tooltipId:"styleeditor.redoStyle",glyph:"redo",onClick:function(){return W({type:Yr})}},{visible:!!j,Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(hr.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:o().createElement(Z.Z,{msgId:"styleeditor.validationErrorTitle"}),text:o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement(Z.Z,{msgId:"styleeditor.genericValidationError"})),q?o().createElement("p",null,o().createElement(Z.Z,{msgId:"styleeditor.validationError"}),": ",q):o().createElement("p",null,o().createElement(Z.Z,{msgId:"styleeditor.incorrectPropertyInputError"})))}))}},{visible:!(!E&&!R),Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(y.Z,{size:18}))}}]}),ruleBlock:F,symbolizerBlock:N,config:qr({geometryType:f,zoom:c,fonts:m,scales:d,bands:b,attributes:v,methods:w,getColors:P,format:i},S),rules:(null==B?void 0:B.rules)&&Gr(B.rules).reverse(),onChange:function(e){return L(Gr(e).reverse())},onUpdate:function(e){var t=e.values,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Wr);M(!0),function(e){var t=e.values,r=e.properties,n=e.rules,o=e.layer,l=e.styleService,i=e.styleUpdateTypes,a=void 0===i?{}:i;return new Promise((function(e){var i=r.type&&a[r.type];return e(i?i({values:t,properties:r,rules:n,layer:o,styleService:l}):n.map((function(e){return e.ruleId===r.ruleId?qr(qr(qr({},e),t),{},{errorId:void 0}):e})))}))}({values:t,properties:r,layer:a,rules:G.current.style.rules,styleService:C,styleUpdateTypes:k}).then((function(e){return L(e)})).catch((function(){return L()}))}})}tn.propTypes={code:i().string,format:i().string,layer:i().object,zoom:i().number,scales:i().array,geometryType:i().string,fonts:i().array,bands:i().array,attributes:i().array,onChange:i().func,onError:i().func,defaultStyleJSON:i().object,config:i().object,loading:i().bool,error:i().object,methods:i().array,getColors:i().func,styleUpdateTypes:i().object,debounceTime:i().number},tn.defaultProps={onChange:function(){},onError:function(){},config:{},getColors:function(){},styleUpdateTypes:{},debounceTime:300,defaultStyleJSON:null};const rn=tn},471891:(e,t,r)=>{"use strict";r.d(t,{T:()=>R,Z:()=>M});var n=r(701469),o=r.n(n),l=r(513218),i=r.n(l),a=r(124852),u=r.n(a),c=r(757588),s=r(171703),d=r(22222),f=r(396909),p=r(378795),y=r(108954),m=r(805346),b=r(965539),v=r(532425),g=r(80717),h=r(467057),O=r(40683),S=r(800827),E=r(893222),j=r(784715),w=r(99009),P=r(24198),k=r(717621),I=r.n(k);const C=[{type:"color",active:function(e){return"atom"===e.type&&I()(e.string).isValid()},style:function(e){return{backgroundColor:e.string}},Widget:function(e){var t=e.token,r=e.value,n=e.onChange,o=void 0===n?function(){}:n;return u().createElement(P.xS,{color:{hex:r||t.string},onChange:function(e){return o(e.hex)}})}}];var T=["code","error","canEdit","editorType","onUpdateMetadata","onChange","loading","header","editors"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A={classificationVector:y.IW,classificationRaster:y.DG,classification:y.IW,"classification-raster":y.DG};function N(e,t){return e&&"raster"!==t?(0,w.u9)(e):[]}var F=(0,s.connect)((0,d.P1)([E.gB,E.iB,E.m2,E.p,E.aN,E.Vf,E.lC,S.up,S.Od,E.Z0],(function(e,t,r,n,l,i,a,u,c,s){var d,f;return{code:e,mode:(0,w.H$)(t),bands:o()(r)&&"raster"===a&&r||[],attributes:N(r,a),error:n.edit||null,loading:l,format:t,layer:i,geometryType:a,scales:u.map((function(e){return Math.round(e)})),zoom:c.zoom,fonts:s.fonts||[],methods:("raster"===a?null==s||null===(d=s.classificationMethods)||void 0===d?void 0:d.raster:null==s||null===(f=s.classificationMethods)||void 0===f?void 0:f.vector)||p.Z.methods,styleService:{baseUrl:null==s?void 0:s.baseUrl,isStatic:null==s?void 0:s.isStatic}}})),{onError:f.Fe.bind(null,"edit")})(O.Z);F.defaultProps={getColors:p.Z.getColors,styleUpdateTypes:A};var D={visual:F,textarea:(0,s.connect)((0,d.P1)([E.gB,E.iB,E.m2,E.p,E.aN],(function(e,t,r,n,o){return{code:e,mode:(0,w.H$)(t),hintProperties:r,error:n.edit||null,loading:o}})))(h.Z)};function R(e){var t,r,n=e.code,o=e.error,l=e.canEdit,s=e.editorType,d=e.onUpdateMetadata,f=e.onChange,p=e.loading,y=e.header,h=e.editors,O=void 0===h?[]:h,S=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,T),E=(t=(0,a.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],u=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=E[0],w=E[1],P={position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"};if(!n&&!o)return u().createElement("div",{style:P},u().createElement(v.Z,{size:150}));if(!l)return u().createElement("div",{style:P},u().createElement("div",null,u().createElement(c.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),u().createElement("h1",null,u().createElement(m.Z,{msgId:"styleeditor.noPermission"}))));if(404===(null==o?void 0:o.status))return u().createElement("div",{style:P},u().createElement("div",null,u().createElement(c.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),u().createElement("h1",null,u().createElement(m.Z,{msgId:"styleeditor.styleNotFound"}))));var k=O[s]||D[s]||D.textarea;return u().createElement(b.Z,{style:{position:"relative"},header:u().createElement("div",{className:"ms-style-editor-toolbar"},u().createElement("div",{className:"ms-style-editor-toolbar-left"},y),u().createElement(g.Z,{buttons:[{className:"no-border",bsSize:"xs",disabled:p,active:"textarea"===s,textId:"visual"===s?"styleeditor.switchToTextareaEditor":"styleeditor.switchToVisualEditor",onClick:function(){return p?null:"visual"===s?d({editorType:"textarea"}):w(!0)}}]}))},k&&u().createElement(k,x({},S,{code:n,error:o,onChange:function(e,t){f(e),i()(t)&&d({styleJSON:JSON.stringify(t)})}})),j&&u().createElement("div",{className:"ms-style-editor-alert",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",padding:16,backgroundColor:"rgba(0, 0, 0, 0.6)"}},u().createElement(c.Alert,{bsStyle:"warning",style:{textAlign:"center"}},u().createElement("p",{style:{padding:8}},u().createElement(m.Z,{msgId:"styleeditor.alertForceTranslate"})),u().createElement("p",null,u().createElement(g.Z,{buttons:[{text:u().createElement(m.Z,{msgId:"styleeditor.stayInTextareaEditor"}),onClick:function(){return w(!1)},style:{marginRight:4}},{bsStyle:"primary",text:u().createElement(m.Z,{msgId:"styleeditor.useLatestValidStyle"}),onClick:function(){d({editorType:"visual"}),w(!1)}}]})))))}R.defaultProps={inlineWidgets:C};const M=(0,s.connect)((0,j.y)(E.gB,E.p,E.z_,(function(e){var t=(0,E.WW)(e);return null==t?void 0:t.editorType}),(function(e){try{var t=(0,E.WW)(e);return JSON.parse(null==t?void 0:t.styleJSON)}catch(e){return null}}),E.aN,(function(e,t,r,n,o,l){return{code:e,error:t.edit||null,canEdit:r,editorType:n,defaultStyleJSON:o,loading:l}})),{onUpdateMetadata:f.bB,onChange:f.p2})(R)},278720:(e,t,r)=>{"use strict";r.d(t,{m2:()=>$,tM:()=>ne,lC:()=>te});var n=r(124852),o=r.n(n),l=r(171703),i=r(867076),a=r(22222),u=r(460604),c=r(690825),s=r(580416),d=r(396909),f=r(805346),p=r(965539),y=r(982030),m=r(173014),b=r(906724),v=r(532425),g=r(757588),h=r(638064),O=r(993451),S=r(815135),E=r(698772),j=r(283958);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(0,O.Z)("filterPlaceholder")(E.Z),T=(0,S.Z)(g.Glyphicon),x=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(f.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z);var Z=r(91175),A=r.n(Z),N=r(615402);const F=function(e){var t=e.disabled,r=e.selected,n=e.title,l=e.preview,i=e.previewSrc,a=e.onClick,u=void 0===a?function(){}:a;return o().createElement("div",{className:"ms-square-card".concat(r?" ms-selected":"").concat(t?" ms-disabled":""),onClick:t?null:function(){return u()}},(l||i)&&o().createElement("div",{className:"ms-preview"},l||i&&o().createElement("img",{src:i})),o().createElement("small",null,n))};var D=r(399534),R=r(694745);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=(0,O.Z)("filterPlaceholder")(E.Z),G=(0,O.Z)("placeholder")(g.FormControl),U=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(f.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z),_=function(e){var t=e.title,r=e._abstract,n=/^[a-zA-Z0-9\s]*$/,o=t&&null!==t.match(n);return o&&!r||o&&r&&null!==r.match(n)};var L=r(80717);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=r(893222),H=r(99009),$=r(471891).Z,J=(0,H.YD)(),Y=(0,y.Z)((function(e){return!e.canEdit}),{glyph:"exclamation-mark",title:o().createElement(f.Z,{msgId:"styleeditor.noPermission"})}),X=function(e){return(0,m.Z)(e,{size:150,style:{margin:"auto"}},(function(e){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},o().createElement(v.Z,e))}))},Q=(0,i.compose)((0,i.defaultProps)({templates:J}),(0,l.connect)((0,a.P1)([q.Mc,q.w_,q.lC,q.z_,q.Z0,q.aN],(function(e,t,r,n){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).formats;return{selectedStyle:e,add:t&&e,geometryType:r,canEdit:n,availableFormats:void 0===o?[]:o,loading:arguments.length>5?arguments[5]:void 0}})),{onSelect:d.FU,onClose:d.cu.bind(null,!1),onSave:d.wj}),Y,X((function(e){return!e.geometryType})),(0,i.withState)("filterText","onFilter",""),(0,i.withState)("styleSettings","onUpdate",{}))((function(e){var t=e.selectedStyle,r=e.add,n=e.styleSettings,l=void 0===n?{}:n,i=e.geometryType,a=void 0===i?"":i,u=e.templates,c=void 0===u?[]:u,s=e.filterText,d=e.availableFormats,y=void 0===d?["sld","css"]:d,m=e.formFields,b=void 0===m?[{key:"title",placeholder:"styleeditor.titleSettingsplaceholder",title:o().createElement(f.Z,{msgId:"styleeditor.titleSettings"})},{key:"_abstract",placeholder:"styleeditor.abstractSettingsplaceholder",title:o().createElement(f.Z,{msgId:"styleeditor.abstractSettings"})}]:m,h=e.onFilter,O=void 0===h?function(){}:h,S=e.onSelect,E=void 0===S?function(){}:S,w=e.onClose,P=void 0===w?function(){}:w,k=e.onSave,I=void 0===k?function(){}:k,C=e.onUpdate,T=void 0===C?function(){}:C,x=e.loading;return o().createElement(p.Z,{header:o().createElement("div",null,o().createElement(B,{filterPlaceholder:"styleeditor.templateFilterPlaceholder",filterText:s,onFilter:O}),o().createElement("div",{className:"text-center"},o().createElement("small",null,x?o().createElement(v.Z,{size:15,style:{display:"inline-block"}}):o().createElement(f.Z,{msgId:"styleeditor.createStyleFromTemplate"}))))},o().createElement(U,{colProps:{},cardComponent:F,onItemClick:function(e){var t=e.code,r=e.styleId,n=e.format;E({code:t,templateId:r,format:n||"css"}),T(V(V({},l),{},{title:A()(c.filter((function(e){return e.styleId===r})).map((function(e){return e.title})))}))},items:c.filter((function(e){var t=e.title;return!s||s&&-1!==t.indexOf(s)})).filter((function(e){var t=e.types,r=e.format;return!t||A()(t.filter((function(e){return e===a})))&&-1!==y.indexOf(r)})).map((function(e){var r;return V(V({},e),{},{preview:null!=e&&null!==(r=e.preview)&&void 0!==r&&r.config?o().createElement(j.Z,e.preview.config):null==e?void 0:e.preview,selected:e.styleId===t,disabled:x})}))}),o().createElement(D.Z,null,o().createElement(R.Z,{show:!!r,fitContent:!0,title:o().createElement(f.Z,{msgId:"styleeditor.createStyleModalTitle"}),onClose:function(){return P()},buttons:[{text:o().createElement(f.Z,{msgId:"save"}),bsStyle:"primary",disabled:!_(l),onClick:function(){return I(l)}}]},o().createElement(g.Form,null,o().createElement(g.FormGroup,{controlId:"styleTitle",validationState:!_(l)&&"error"},b.map((function(e){var t=e.title,r=e.placeholder,n=e.key;return o().createElement("span",{key:n},o().createElement(g.ControlLabel,null,t),o().createElement(G,{type:"text",defaultValue:l[n],placeholder:r,onChange:function(e){return T(V(V({},l),{},W({},n,e.target.value)))}}))}))),!_(l)&&o().createElement(g.Alert,{style:{margin:0},bsStyle:"danger"},o().createElement(N.Z,{msgId:"styleeditor.titleRequired"}))))))})),ee=(0,i.compose)((0,l.connect)((0,a.P1)([q.ex,q.ov],(function(e,t){return{status:e,defaultStyle:t.defaultStyle,enabledStyle:t.enabledStyle,availableStyles:t.availableStyles}})),{onSelect:s.Xy}),(0,i.withState)("filterText","onFilter",""),(0,b.Z)((function(e){var t=e.status,r=e.readOnly;return"template"===t&&!r}),(function(){return o().createElement(Q,null)}),{maskContainerStyle:{display:"flex",position:"relative"},maskStyle:{overflowY:"auto",left:0}}))((function(e){var t=e.showDefaultStyleIcon,r=e.enabledStyle,n=e.defaultStyle,l=e.availableStyles,i=void 0===l?[]:l,a=e.onSelect,u=e.formatColors,c=void 0===u?{sld:"#33ffaa",css:"#ffaa33"}:u,s=e.filterText,d=e.onFilter,f=void 0===d?function(){}:d;return o().createElement(p.Z,{className:"ms-style-editor-list",header:o().createElement(C,{filterPlaceholder:"styleeditor.styleListfilterPlaceholder",filterText:s,onFilter:f})},o().createElement(x,{size:"sm",onItemClick:function(e){var t=e.name;return a({style:t},!0)},items:i.filter((function(e){var t,r,n=e.name,o=void 0===n?"":n,l=e.title,i=void 0===l?"":l,a=e._abstract,u=void 0===a?"":a,c=e.metadata,d=void 0===c?{}:c;return!s||s&&(-1!==o.indexOf(s)||-1!==(null==d||null===(t=d.title)||void 0===t?void 0:t.indexOf(s))||-1!==(null==d||null===(r=d.description)||void 0===r?void 0:r.indexOf(s))||-1!==i.indexOf(s)||-1!==u.indexOf(s))})).map((function(e){var l,i,a;return k(k({},e),{},{title:(null==e||null===(l=e.metadata)||void 0===l?void 0:l.title)||e.label||e.title||e.name,description:(null==e||null===(i=e.metadata)||void 0===i?void 0:i.description)||e._abstract,selected:r===e.name,preview:e.format&&o().createElement(j.Z,{backgroundColor:"#333333",texts:[{text:(a=e.format,{sld:"SLD",css:"CSS",mbstyle:"MBS"}[a]||a||"").toUpperCase(),fill:c[e.format]||"#f2f2f2",style:{fontSize:70,fontWeight:"bold"}}]})||o().createElement(T,{glyph:"geoserver"}),tools:t&&n===e.name?o().createElement(T,{glyph:"star",tooltipId:"styleeditor.defaultStyle"}):null})}))}))})),te=(0,i.compose)((0,i.withState)("showModal","onShowModal"),(0,l.connect)((0,a.P1)([q.ex,q.Mc,q.p,q.QW,q.gB,q.aN,q.i7,q.z_,q.ov,q.Z0,q.Ed],(function(e,t,r,n,o,l,i,a,u){var c=u.defaultStyle,s=(arguments.length>9&&void 0!==arguments[9]?arguments[9]:{}).formats,d=arguments.length>10?arguments[10]:void 0;return{status:e,templateId:t,error:r,isCodeChanged:n!==o,loading:l,layerDefaultStyleName:c,selectedStyle:c===i?"":i,editEnabled:a,disableCodeEditing:-1===(void 0===s?["sld"]:s).indexOf(d)}})),{onSelectStyle:d.Nf.bind(null,"template"),onEditStyle:d.Nf.bind(null,"edit"),onBack:d.Nf.bind(null,""),onReset:u.B1.bind(null,H.s1,[{}]),onAdd:d.cu.bind(null,!0),onUpdate:d.Lc,onDelete:d.WQ,onSetDefault:d.WB}))((function(e){var t,r=e.status,n=e.buttons,l=void 0===n?[]:n,i=e.templateId,a=e.error,u=e.isCodeChanged,c=e.showModal,s=e.onShowModal,d=e.loading,p=e.selectedStyle,y=e.layerDefaultStyleName,m=e.editEnabled,b=e.enableSetDefaultStyle,v=e.defaultStyles,h=void 0===v?["generic","point","line","polygon","raster"]:v,O=e.onBack,S=void 0===O?function(){}:O,E=e.onAdd,j=void 0===E?function(){}:E,w=e.onReset,P=void 0===w?function(){}:w,k=e.onDelete,I=void 0===k?function(){}:k,C=e.onSelectStyle,T=void 0===C?function(){}:C,x=e.onEditStyle,Z=void 0===x?function(){}:x,A=e.onUpdate,N=void 0===A?function(){}:A,F=e.onSetDefault,M=void 0===F?function(){}:F,z=e.disableCodeEditing;return o().createElement("div",null,o().createElement(L.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"arrow-left",visible:!!r,tooltipId:"styleeditor.backToList",disabled:!!d,onClick:function(){"edit"===r&&u?s({title:o().createElement(f.Z,{msgId:"styleeditor.closeWithoutSaveAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(f.Z,{msgId:"styleeditor.closeWithoutSaveAlert"})),buttons:[{text:o().createElement(f.Z,{msgId:"close"}),bsStyle:"primary",onClick:function(){s(null),S(),P()}}]}):(S(),P())}},{glyph:"1-stilo",tooltipId:"styleeditor.createNewStyle",visible:!(r||!m),disabled:!!d,onClick:function(){return T()}},{glyph:"code",tooltipId:"styleeditor.editSelectedStyle",visible:!(r||!m),disabled:!!d||-1!==h.indexOf(p)||!p&&-1!==h.indexOf(y)||z,onClick:function(){return Z()}},{glyph:"ok",tooltipId:"styleeditor.saveCurrentStyle",disabled:!!(a&&a.edit&&a.edit.status)||!!d||-1!==h.indexOf(p),visible:!("edit"!==r||!m),onClick:function(){return N()}},{glyph:"plus",tooltipId:"styleeditor.addSelectedTemplate",visible:!("template"!==r||!i||!m),disabled:!!d,onClick:function(){return j()}},{glyph:"trash",tooltipId:"styleeditor.deleteSelectedStyle",disabled:!!d||-1!==h.indexOf(p)||!p,visible:!(r||!m),onClick:function(){s({title:o().createElement(f.Z,{msgId:"styleeditor.deleteStyleAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(f.Z,{msgId:"styleeditor.deleteStyleAlert"})),buttons:[{text:o().createElement(f.Z,{msgId:"styleeditor.delete"}),bsStyle:"primary",onClick:function(){s(null),I(p)}}]})}},{glyph:"star",tooltipId:"styleeditor.setDefaultStyle",disabled:!!d||-1!==h.indexOf(p)||!p,visible:!(!b||r||!m),onClick:function(){return M()}}].concat((t=r?[]:l,function(e){if(Array.isArray(e))return K(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),o().createElement(D.Z,null,o().createElement(R.Z,{show:c,fitContent:!0,title:c&&c.title,onClose:function(){return s(null)},buttons:c&&c.buttons},c&&c.message)))})),re=(0,i.compose)((0,l.connect)((0,a.P1)([q.Vf],(function(e){return{layer:e}})),{onInit:c.k}),(0,i.lifecycle)({UNSAFE_componentWillMount:function(){this.props.onInit&&this.props.layer&&this.props.onInit(this.props.layer)}}),X((function(e){var t=e.layer,r=void 0===t?{}:t;return r&&r.capabilitiesLoading})))((function(){return o().createElement(p.Z,{className:"ms-style-editor-container",footer:o().createElement("div",{style:{height:25}})},o().createElement(ee,{readOnly:!0}))})),ne=(0,i.branch)((function(e){return e.readOnly}),(function(){return re}))(ee)},510284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>b,oB:()=>v});var n=r(49977),o=r.n(n),l=r(227361),i=r.n(l),a=r(505055),u=r(507526);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},s(e)}function d(e,t,r){return d=f()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o},d.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}r(324384);var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,o=(r=l,n=f(),function(){var e,t=y(r);if(n){var o=y(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,e)).name="OGCError",r.code=t,r}return t=l,Object.defineProperty(t,"prototype",{writable:!1}),t}(s(Error)),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0};return o().Observable.bindNodeCallback((function(e,r){return(0,a.parseString)(e,t,r)}))(e)},v=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?o().Observable.bindNodeCallback((function(e,t){return(0,a.parseString)(e,{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=i()(e,"ExceptionReport.Exception.ExceptionText");throw new m(t||"Undefined OGC Service Error",i()(e,"ExceptionReport.Exception.exceptionCode"))})):o().Observable.of(e)}))}},172704:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapstore-filter input::-ms-clear,\r\n.msgapi .mapstore-filter input::-ms-reveal {\r\n  display: none;\r\n}\r\n",""]);const l=o}}]);