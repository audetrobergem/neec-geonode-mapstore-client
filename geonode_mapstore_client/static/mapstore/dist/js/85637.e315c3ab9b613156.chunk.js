"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[85637],{460604:(e,t,r)=>{r.d(t,{hn:()=>n,yg:()=>l,vD:()=>o,jJ:()=>i,oy:()=>a,am:()=>u,W:()=>c,B1:()=>s,YP:()=>d,fU:()=>f,cY:()=>p});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",l="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",i="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",u="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",c=function(e,t){return{type:i,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:a,owner:e,options:t}},d=function(e,t){return{type:u,owner:e,options:t}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:l,id:t,owner:r}},p=function(e){return{type:o,owner:e}}},588176:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(558422),l=r.n(n),o=r(805346),i=r(202576);const a=function(e){var t=e.children,r=e.label,n=e.tools,a=e.divider,u=e.invalid,c=e.warning,s=e.disabled,d=e.valueStyle,f=e.infoMessageId;if(a)return l().createElement("div",{className:"ms-symbolizer-field-divider"});var p=c?" ms-symbolizer-value-warning":"",y=u?" ms-symbolizer-value-invalid":"",m=s?" ms-symbolizer-field-disabled":"";return l().createElement("div",{className:"ms-symbolizer-field"+m},l().createElement("div",{className:"ms-symbolizer-label"},l().createElement(o.Z,{msgId:r}),f?l().createElement(l().Fragment,null,"Â ",l().createElement(i.Z,{text:l().createElement(o.Z,{msgId:f})})):null),l().createElement("div",{className:"ms-symbolizer-value"+y+p,style:d,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,l().createElement("div",{className:"ms-symbolizer-tools"},n)))}},3047:(e,t,r)=>{r.d(t,{Z:()=>Cr});var n=r(558422),l=r.n(n),o=r(45697),i=r.n(o),a=r(313311),u=r.n(a),c=r(701469),s=r.n(c),d=r(271418),f=r(513218),p=r.n(f),y=r(957557),m=r.n(y),b=r(414293),v=r.n(b),g=r(807654),h=r.n(g),O=r(80717),E=r(212961),k=r(1036),S=r(398360),I=r(743129),P=r(598611),w=r.n(P);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function Z(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var R=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Z(e=function(e,t,r){return t=A(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"styleRenderer",(function(t,r,n){var o=e.props.styleRendererPattern||l().createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},l().createElement("path",{className:"ms-dash-array",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return l().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},o)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this,t=w()(this.props.dashArray||"1 0"," "),r=this.props.options.find((function(e){return e.value===t}))?this.props.options:[{value:t}].concat(function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.options)),n=this.props.creatable?I.ZP.Creatable:I.ZP;return l().createElement(n,{options:r,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:t,isValidNewOption:this.props.isValidNewOption,onChange:function(t){if(t){var r=t.value.split(" ");e.props.onChange(r)}}})}}],n&&D(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(l().Component);Z(R,"propTypes",{dashArray:i().array,menuPlacement:i().string,clearable:i().bool,value:i().string,optionRenderer:i().func,styleRendererPattern:i().node,valueRenderer:i().func,disabled:i().bool,onChange:i().func,options:i().array,creatable:i().bool,isValidNewOption:i().func,defaultStrokeWidth:i().number}),Z(R,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4});const F=R;var N=r(10208),z=r(805346),M=r(588176),L=r(290702),W=r(283958);const G=[{value:"Circle",label:"Circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"Square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"Triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"Star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"Cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"X",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"Vertical Line",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"Horizontal Line",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"Slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"Backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"Dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"Plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"Times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"Open Arrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"Closed Arrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}];var K=r(815135),B=r(375875),H=r(624847);function U(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return Y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=(0,K.Z)(H.Z),J={},X=function(e,t,r){return{label:r,value:e,preview:{type:"point",patterns:[{id:t,image:{href:e,width:"120",height:"120"}}],paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#000000",fill:"url(#".concat(t,")"),strokeWidth:0}]}}};const Q=function(e){var t=e.value,r=e.config,o=void 0===r?{}:r,i=e.onChange,a=void 0===i?function(){}:i,u=e.svgSymbolsPath,c=e.onUpdateOptions,s=void 0===c?function(){}:c,d=e.disabled,f=o.options,p=o.excludeSvg,y=f?G.filter((function(e){return f.includes(e.value)})):G,m=p?void 0:u,b=_((0,n.useState)([]),2),v=b[0],g=b[1],h=_((0,n.useState)(!1),2),O=h[0],E=h[1],k=0===v.length&&(t||"").includes(".svg")?X(t,t):[].concat(U(y),U(v)).find((function(e){return e.value===t}));return(0,n.useEffect)((function(){m&&!O&&(E(!0),J[m]?g(J[m]):B.Z.get(m).then((function(e){var t=e.data.map((function(e){var t=e.name,r=e.label,n="".concat(m.replace(/[^\/]*.json$/,"".concat(t,".svg"))),l="".concat(t,"-svg");return X(n,l,r)}));J[m]=t,s([].concat(U(y),U(t))),g(t)})).finally((function(){E(!1)})))}),[m]),l().createElement(L.Z,{disabled:d,content:l().createElement("div",{className:"ms-mark-list"},l().createElement("ul",null,[].concat(U(y),U(v)).map((function(e){return l().createElement("li",{key:e.value},l().createElement($,{tooltip:e.label||e.value,className:"ms-mark-preview",active:e.value===t,onClick:function(){return a(e.value)}},l().createElement(W.Z,e.preview)))}))))},l().createElement($,{className:"ms-mark-preview"},k&&l().createElement(W.Z,k.preview)))},ee=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,o=e.bands,i=e.onChange,a=e.enhancementType;return l().createElement(l().Fragment,null,l().createElement(M.Z,{label:r},l().createElement(I.ZP,{clearable:!1,options:o,value:n,onChange:function(e){return i("band",e.value)}})),l().createElement(M.Z,{label:"styleeditor.contrastEnhancement"},l().createElement(I.ZP,{clearable:!1,options:[{label:l().createElement(z.Z,{msgId:"styleeditor.none"}),value:"none"},{label:l().createElement(z.Z,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:l().createElement(z.Z,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:a||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;i("enhancementType",t)}})))};var te=r(993451),re=r(697111),ne=r(532425),le=r(99009);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ae.apply(null,arguments)}var ue=(0,re.Z)("onChange","value")((0,te.Z)("placeholder")((function(e){return l().createElement(d.NI,ae({},e,{onChange:function(t){return e.onChange(t.target.value)}}))}))),ce=(0,K.Z)(d.gG);function se(e){var t=e.value,r=e.onChange,o=e.onLoad,i=(0,n.useRef)(!0);(0,n.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]);var a=oe((0,n.useState)(!1),2),u=a[0],c=a[1],s=oe((0,n.useState)(!0),2),f=s[0],p=s[1],y=oe((0,n.useState)(t),2),m=y[0],b=y[1],v=function(e,t){b(e),c(!0),p(!1),(0,le.ZF)(e).then((function(t){if(i.current){var r=!1;t.isBase64&&(r={type:"warning",messageId:"imageSrcNotSupportedBase64Image"}),p(r),c(!1),o(r,e)}})).catch((function(t){if(i.current){var r=t.isBase64||"imageSrcLoadError"!==t.messageId?{type:"error",messageId:t.messageId}:{type:"warning",messageId:t.messageId};p(r),c(!1),o(r,e)}})),t&&r(e)},g=(0,n.useRef)(t);return(0,n.useEffect)((function(){v(g.current)}),[]),l().createElement("div",{className:"ms-style-editor-icon-input",style:{position:"relative",display:"flex",alignItems:"center"}},l().createElement(d.cw,{style:{flex:1}},l().createElement(ue,{style:{paddingRight:26},placeholder:"styleeditor.placeholderEnterImageUrl",value:t,debounceTime:300,onChange:function(e){return v(e,!0)}})),l().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m&&!f&&!u&&l().createElement("div",{className:"ms-style-editor-icon-input-image",style:{position:"absolute",margin:2,width:"calc(100% - 2px)",height:"calc(100% - 2px)",backgroundImage:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"contain"}}),f&&l().createElement(ce,{glyph:"exclamation-sign",tooltipId:"styleeditor.".concat(f.messageId)}),u&&l().createElement(ne.Z,{size:20})))}se.propTypes={value:i().bool,onChange:i().node,onLoad:i().object,onError:i().object},se.defaultProps={value:"",onChange:function(){},onLoad:function(){},onError:function(){}};const de=se;var fe=r(611847),pe=r(638445);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var me=(0,K.Z)(d.gG);function be(e){var t,r,o=e.disabled,i=e.value,a=e.onChange,u=void 0===a?function(){}:a,c=e.onError,s=void 0===c?function(){}:c,f=(t=(0,n.useState)(i),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],y=f[1],m=(0,fe.K2)(p);(0,n.useEffect)((function(){s(!m)}),[m]);return l().createElement("div",{className:"ms-style-editor-model-input",style:{position:"relative",display:"flex",alignItems:"center"}},l().createElement(d.cw,{style:{flex:1}},l().createElement(pe.Z,{disabled:o,placeholder:"styleeditor.placeholderEnterModelUrl",style:{paddingRight:26},value:p,debounceTime:300,onChange:function(e){return function(e){y(e),(0,fe.K2)(e)&&u(e)}(e)}})),l().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m?p?l().createElement(me,{glyph:"model"}):null:l().createElement(me,{glyph:"exclamation-sign",tooltipId:"styleeditor.invalidModelUrl"})))}be.propTypes={value:i().bool,onChange:i().node},be.defaultProps={value:"",onChange:function(){}};const ve=be;var ge=r(984596),he=r.n(ge);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}var Ee=["label","value","config","onChange","disabled"];function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(null,arguments)}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e,t){if(e){if("string"==typeof e)return je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ce=(0,te.Z)("options","label","object")((0,te.Z)(["placeholder","noResultsText"])(I.ZP)),De=(0,te.Z)("options","label","object")((0,te.Z)(["placeholder","noResultsText"])(I.ZP.Creatable));const Te=function(e){e.label;var t=e.value,r=e.config,o=void 0===r?{}:r,i=o.getOptions,a=void 0===i?function(){return[]}:i,u=o.selectProps,c=void 0===u?{}:u,s=e.onChange,f=e.disabled,p=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,Ee),y=c.creatable,m=c.clearable,b=void 0!==m&&m,v=c.multi;function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=t.map((function(e){return e.value}));return(null==r?void 0:r.value)&&-1===n.indexOf(r.value)?[r].concat(function(e){if(Array.isArray(e))return je(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t}function h(e){return t?he()(t).map((function(e){return{value:e,label:e}})).reduce(g,e):e}var O,E,k=a(p),S=(O=(0,n.useState)(h(k)),E=2,function(e){if(Array.isArray(e))return e}(O)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(O,E)||we(O,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=S[0],P=S[1];(0,n.useEffect)((function(){P(h(k))}),[JSON.stringify(k)]);var w=y?De:Ce;return l().createElement(w,ke({disabled:f,clearable:b,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},c,{options:I.map((function(e){return Ie(Ie({},e),{},{label:e.labelId?l().createElement(l().Fragment,null,l().createElement(z.Z,{msgId:e.labelId}),e.glyphId&&l().createElement(d.gG,{style:{marginLeft:10},glyph:e.glyphId})):e.label})})),value:t,onChange:function(e){return v?s(e.length>0?e.map((function(e){return e.value})):void 0):(P(g(I,e)),s(null==e?void 0:e.value))}}))};var Ae=r(829436);function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e){if("object"!=xe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"==typeof e)return Me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Le=Ae.Z.markers.extra.getGrid().reduce((function(e,t){return[].concat(Ne(e),Ne(t.markers.map((function(e){return Re(Re({},e),{},{url:Ae.Z.markers.extra.markerToDataUrl({iconColor:e.style.color,iconShape:e.style.shape}),label:"".concat(e.style.color," ").concat(e.style.shape)})}))))}),[]),We=Object.keys(Ae.Z.getGlyphs("fontawesome")),Ge=(0,K.Z)(H.Z);const Ke=function(e){var t=e.value,r=e.onChange,o=void 0===r?function(){}:r,i=Ze((0,n.useState)("marker"),2),a=i[0],u=i[1],c=Ze((0,n.useState)(""),2),s=c[0],f=c[1],p=((t||{}).args||[])[0]||{},y=p.color,m=p.shape,b=p.glyph,v=Le.find((function(e){return e.style.color===y&&e.style.shape===m})),g=Le.filter((function(e){return e.style.color.includes(s||"")||e.style.shape.includes(s||"")||e.label.includes(s||"")})),h=We.filter((function(e){return e.includes(s||"")}));function O(e){return o({name:"msMarkerIcon",args:[e]})}return l().createElement(L.Z,{content:l().createElement("div",{className:"ms-mark-list",style:{height:256}},l().createElement("div",{style:{position:"sticky",top:0,zIndex:10,background:"var(--ms-main-bg, #ffffff)"}},l().createElement(d.JL,{bsStyle:"tabs",activeKey:a},l().createElement(d.LY,{key:"marker",eventKey:"marker",onClick:function(){return u("marker")}},v&&l().createElement("div",{style:{width:"1em",height:"1em",position:"relative",display:"inline-block"}},l().createElement(W.Z,{type:"polygon",patterns:[{id:"".concat(y,"-").concat(m),image:{href:v.url,width:"160",height:"160"}}],paths:[{fill:"url(#".concat(y,"-").concat(m,")")}]}))," ",l().createElement(z.Z,{msgId:"styleeditor.marker"})),l().createElement(d.LY,{key:"glyph",eventKey:"glyph",onClick:function(){return u("glyph")}},b&&l().createElement("i",{className:"fa fa-".concat(b)})," ",l().createElement(z.Z,{msgId:"styleeditor.glyph"}))),l().createElement(d.cw,{style:{margin:"0.5em 0"}},l().createElement(d.BZ,{style:{width:"100%",padding:"0 0.5em"}},l().createElement(pe.Z,{type:"text",value:s,placeholder:"styleeditor.filterByName",style:{zIndex:0},onChange:function(e){return f(e)}})))),l().createElement("ul",null,"marker"===a&&g.map((function(e){var t="".concat(e.style.color,"-").concat(e.style.shape);return l().createElement("li",{key:t},l().createElement(Ge,{tooltip:e.label,className:"ms-mark-preview",active:y===e.style.color&&m===e.style.shape,onClick:function(){return O({color:e.style.color,shape:e.style.shape,glyph:b})}},l().createElement(W.Z,{type:"polygon",patterns:[{id:t,image:{href:e.url,width:"160",height:"160"}}],paths:[{fill:"url(#".concat(t,")")}]})))})),"glyph"===a&&h.map((function(e){return l().createElement("li",{key:e},l().createElement(Ge,{tooltip:e,className:"ms-mark-preview",active:e===b,onClick:function(){return O({glyph:e,color:y,shape:m})}},l().createElement("i",{className:"fa fa-".concat(e)})))}))))},l().createElement(Ge,{className:"ms-mark-preview"},y&&m&&b&&l().createElement(W.Z,{type:"polygon",patterns:[{id:"".concat(y,"-").concat(m,"-").concat(b),image:{href:Ae.Z.markers.extra.markerToDataUrl({iconColor:y,iconShape:m,iconGlyph:b}),width:"160",height:"160"}}],paths:[{fill:"url(#".concat(y,"-").concat(m,"-").concat(b,")")}]})))};function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}var He=["type"],Ue=["type"];function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t,r){return(t=function(e){var t=function(e){if("object"!=Be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var Je=(0,te.Z)("placeholder")(I.ZP),Xe=function(e){var t,r,n,o,i,a,u=e.label,c=e.attributes,s=e.value,d=e.onChange,f=e.disabled,p=e.fieldKey,y=e.config,m=e.disableAlpha,b=e.properties,v=e.valueType,g=!!(m||null!=y&&y.disableAlpha),h=c.map((function(e){var t=e.label,r=e.attribute,n=e.type;return{label:"".concat(t," {").concat(n,"}"),value:r,type:n}}));return l().createElement("div",{className:"ms-symbolizer-property-selector",style:{width:"100%"}},l().createElement(M.Z,{disabled:f,label:u,invalid:void 0===(null==s||null===(t=s.args)||void 0===t?void 0:t[0]),infoMessageId:null==y?void 0:y.propertySelectorInfoMessageId},l().createElement(Je,{value:null==s||null===(r=s.args)||void 0===r?void 0:r[0],placeholder:"styleeditor.selectProperty",options:h.map((function(e){var t=e.type;return qe(qe({},$e(e,He)),{},{disabled:void 0!==v&&t!==v})})),onChange:function(e){return d(Ye({},p,{name:"property",args:[null==e?void 0:e.value]}))}})),!g&&(null==y?void 0:y.opacityKey)&&l().createElement(M.Z,{label:"".concat(u,"Opacity"),tools:l().createElement(pe.Z,{type:"number",value:b[y.opacityKey],disabled:void 0!==(null==b||null===(n=b[y.opacityKey])||void 0===n||null===(o=n.args)||void 0===o?void 0:o[0]),min:0,max:1,step:.1,fallbackValue:1,style:{zIndex:0,maxWidth:60,height:36,borderLeft:"none"},onChange:function(e){d(Ye({},y.opacityKey,void 0===e?1:parseFloat(e)))}})},l().createElement(Je,{value:null==b||null===(i=b[y.opacityKey])||void 0===i||null===(a=i.args)||void 0===a?void 0:a[0],placeholder:"styleeditor.selectProperty",options:h.map((function(e){var t=e.type;return qe(qe({},$e(e,Ue)),{},{disabled:"number"!==t})})),onChange:function(e){return d(Ye({},y.opacityKey,null!=e&&e.value?{name:"property",args:[null==e?void 0:e.value]}:1))}})))};Xe.propTypes={label:i().string,attributes:i().array,value:i().object,onChange:i().func,fieldKey:i().string,config:i().object,disableAlpha:i().bool,properties:i().object,valueType:i().string},Xe.defaultProps={attributes:[],properties:{}};const Qe=Xe;var et=["label","disabled"],tt=["label","value","config","onChange"],rt=["enableFieldExpression"];function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(null,arguments)}function ut(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return(t=function(e){var t=function(e){if("object"!=nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ft={color:function(e){var t=e.label,r=e.config,o=void 0===r?{}:r,i=e.value,a=e.onChange,u=void 0===a?function(){}:a,c=e.disableAlpha,s=e.format,d=e.disabled,f=(0,n.useRef)({value:i});if(f.current={value:i},"pattern"==(p()(i)&&i.kind?"pattern":"solid")){var y=((null==o?void 0:o.getGroupParams(i.kind))||{}).params,b=void 0===y?{}:y,v=(null==o?void 0:o.getGroupConfig(i.kind))||{},g=i;return l().createElement("div",{className:"ms-symbolizer-nested-fields"},l().createElement(pt,{properties:g,params:v.omittedKeys?m()(b,v.omittedKeys):b,config:{disableAlpha:v.disableAlpha},onChange:function(e){return u(st(st({},f.current.value),e))},format:s}),l().createElement(M.Z,{divider:!0}))}return l().createElement(M.Z,{label:t,disabled:d},l().createElement(E.Z,{color:i,line:o.stroke,disabled:d,disableAlpha:o.disableAlpha||c,onChangeColor:function(e){return e&&u(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,o=e.config,i=void 0===o?{}:o,a=e.onChange,u=void 0===a?function(){}:a;return l().createElement(M.Z,{label:t,disabled:n},l().createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},l().createElement(k.Z,{start:[r],disabled:n,tooltips:[!0],format:i.format,range:i.range||{min:0,max:10},onChange:function(e){return u(e)}})))},xyInput:function(e){var t=e.label,r=e.value,n=e.config,o=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return l().createElement(M.Z,{label:t,disabled:u,valueStyle:{flexWrap:"wrap"}},l().createElement(d.cw,null,l().createElement(d.BZ,{style:null!=o&&o.maxWidth?{maxWidth:null==o?void 0:o.maxWidth}:{}},l().createElement(d.BZ.Addon,{style:{padding:"0.2em"}},"x"),l().createElement(pe.Z,{type:"number",value:r[0],disabled:u,min:o.min,max:o.max,fallbackValue:o.fallbackValue[0],placeholder:o.placeholderId,style:{zIndex:0},onChange:function(e){return a([e,r[1]||o.fallbackValue[1]])}}),o.uom&&l().createElement(d.BZ.Addon,null,o.uom))),l().createElement(d.cw,null,l().createElement(d.BZ,{style:null!=o&&o.maxWidth?{maxWidth:null==o?void 0:o.maxWidth}:{}},l().createElement(d.BZ.Addon,{style:{padding:"0.2em"}},"y"),l().createElement(pe.Z,{type:"number",value:r[1],disabled:u,min:o.min,max:o.max,fallbackValue:o.fallbackValue[1],placeholder:o.placeholderId,style:{zIndex:0},onChange:function(e){return a([r[0]||o.fallbackValue[0],e])}}),o.uom&&l().createElement(d.BZ.Addon,null,o.uom))))},input:function(e){var t=e.label,r=e.value,n=e.config,o=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return l().createElement(M.Z,{label:t,disabled:u,infoMessageId:o.infoMessageId},l().createElement(d.cw,null,l().createElement(d.BZ,{style:null!=o&&o.maxWidth?{maxWidth:null==o?void 0:o.maxWidth}:{}},l().createElement(pe.Z,{type:o.type||"text",value:r,disabled:u,min:o.min,max:o.max,fallbackValue:o.fallbackValue,placeholder:o.placeholderId,style:{zIndex:0},onChange:function(e){return a(e)}}),o.uom&&l().createElement(d.BZ.Addon,null,o.uom))))},checkbox:function(e){var t=e.label,r=e.value,n=e.config,o=void 0===n?{}:n,i=e.onChange,a=void 0===i?function(){}:i,u=e.disabled;return l().createElement(M.Z,{label:t,disabled:u,infoMessageId:o.infoMessageId},l().createElement(d.cw,null,l().createElement(d.XZ,{style:{margin:0},disabled:u,checked:!!r,onChange:function(e){return a(!!e.target.checked)}},l().createElement(z.Z,{msgId:r?"styleeditor.boolTrue":"styleeditor.boolFalse"}))))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,o=void 0===n?function(){}:n,i=e.config,a=void 0===i?{}:i,u=e.disabled;return l().createElement(M.Z,{label:t,disabled:u},l().createElement(O.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(a.options||[]).map((function(e){var t=e.glyph,n=e.label,i=e.labelId,a=e.tooltipId,c=e.value;return st(st({glyph:t,tooltipId:a,disabled:u,text:i?l().createElement(z.Z,{msgId:i}):n},c===r&&{bsStyle:"primary"}),{},{onClick:function(){return o(r===c?void 0:c)}})}))}))},mark:function(e){var t=e.label,r=e.disabled,n=ut(e,et);return l().createElement(M.Z,{label:t,disabled:r},l().createElement(Q,at({},n,{disabled:r})))},image:function(e){var t=e.label,r=e.value;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e.config);var o=e.onChange,i=lt((0,n.useState)(!1),2),a=i[0],u=i[1],c=p()(r)&&"msMarkerIcon"===(null==r?void 0:r.name);return l().createElement(M.Z,{label:t,invalid:!("error"!==(null==a?void 0:a.type)),warning:!("warning"!==(null==a?void 0:a.type))},c?l().createElement(Ke,e):l().createElement(de,{label:t,value:p()(r)?r.src:r,onChange:function(e){o(e),u(!1)},onLoad:function(e,t){u(e),e&&o({src:t,errorId:e.messageId})}}))},model:function(e){var t=e.label,r=e.value,o=e.onChange,i=e.disabled,a=lt((0,n.useState)(!1),2),u=a[0],c=a[1];return l().createElement(M.Z,{label:t,invalid:u,disabled:i},l().createElement(ve,{disabled:i,label:t,value:r,onChange:o,onError:c}))},select:function(e){var t=e.label,r=e.value,n=e.config.isValid,o=e.visible;if(void 0!==o&&!o)return null;var i=!n||n({value:r});return l().createElement(M.Z,{label:t,invalid:!i},l().createElement(Te,e))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,o=n.samples,i=void 0===o?5:o,a=n.getOptions,u=void 0===a?function(){return[]}:a,c=n.rampFunction,s=void 0===c?function(e){return e.colors}:c,d=e.onChange,f=u(ut(e,tt));return l().createElement(M.Z,{label:t},l().createElement(S.Z,{items:f,rampFunction:s,samples:i,value:{name:r},onChange:function(e){return d(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return l().createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},l().createElement(N.Z,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,o=e.value,i=e.onChange,a=e.bands,u=o.channelSelection,c=u?u.grayChannel?"gray":"rgb":"auto",s=(a||[]).map((function(e){return{label:e,value:e}}));if("rgb"===c)return Object.keys(u).map((function(e){var t,r,n=null===(t=u[e])||void 0===t?void 0:t.sourceChannelName,a=null===(r=u[e])||void 0===r?void 0:r.contrastEnhancement;return l().createElement(l().Fragment,null,l().createElement(ee,{key:e,value:n,bands:s,label:"styleeditor."+e,enhancementType:(null==a?void 0:a.enhancementType)||"none",onChange:function(t,r){return"band"===t?i({contrastEnhancement:{},channelSelection:st(st({},o.channelSelection),{},dt({},e,st(st({},o.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?i({contrastEnhancement:{},channelSelection:st(st({},o.channelSelection),{},dt({},e,st(st({},o.channelSelection[e]),{},{contrastEnhancement:st(st({},u[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),l().createElement(M.Z,{key:e+"-divider",divider:!0}))}));var d,f=void 0===(null==u||null===(t=u.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==u||null===(r=u.grayChannel)||void 0===r?void 0:r.sourceChannelName,p="auto"===c?o.contrastEnhancement:null==u||null===(n=u.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return l().createElement(ee,{label:"styleeditor.grayChannel",value:f,bands:[{label:l().createElement(z.Z,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat((d=s,function(e){if(Array.isArray(e))return it(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||ot(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),enhancementType:(null==p?void 0:p.enhancementType)||"none",onChange:function(e,t){return"band"===e?i("auto"===t?st(st({},o),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:st(st({contrastEnhancement:{}},null==u?void 0:u.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?i("auto"===c?{channelSelection:void 0,contrastEnhancement:st(st({},o.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(u).reduce((function(e,r){return st(st({},e),{},dt({},r,st(st({},u[r]),{},{contrastEnhancement:st(st({},u[r].contrastEnhancement),{},{enhancementType:t})})))}),{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,o=e.lineDashOptions,i=void 0===o?[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}]:o,a=e.disabled;return l().createElement(M.Z,{label:t,disabled:a},l().createElement(F,{disabled:a,dashArray:r,onChange:n,options:i,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find((function(e){return h()(parseFloat(e))}))},creatable:!0}))},customParams:function(e){var t=e.label,r=e.value,n=e.config.isValid,o=e.thematicCustomParams,i=e.onChange;if(null==o||!o.length)return null;var a=!n||n({value:r});return l().createElement("div",{style:{width:"100%"}},l().createElement("hr",null),l().createElement("div",{className:"ms-symbolizer-field"},l().createElement(z.Z,{msgId:t})),l().createElement("div",null,null==o?void 0:o.map((function(t){var n,o,u=r?r[null==t?void 0:t.field]:void 0,c=null==t||null===(n=t.values)||void 0===n?void 0:n.find((function(e){return e.value===u}));return l().createElement(M.Z,{key:null==t?void 0:t.field,label:(null==t?void 0:t.title)||(null==t?void 0:t.field),invalid:!a},l().createElement(Te,at({},e,{value:null!=c&&c.value?{value:c.value,label:null!==(o=c.name)&&void 0!==o?o:c.value}:u,onChange:function(e){return r=t.field,void i(dt({},r,e));var r},config:st(st({},e.config),{},{getOptions:function(){var e;return null==t||null===(e=t.values)||void 0===e?void 0:e.map((function(e){return{value:e.value,label:e.name}}))}})})))}))),l().createElement("hr",null))}};function pt(e){var t=e.properties,r=e.params,o=e.config,i=e.onChange,a=e.format,u=(0,n.useRef)({properties:t});u.current={properties:t};var c=o||{},s=c.enableFieldExpression,f=ut(c,rt);return l().createElement(l().Fragment,null,Object.keys(r).map((function(e){var n,o=r[e]||{},c=o.type,p=o.setValue,y=o.getValue,m=o.isDisabled,b=o.config,g=o.label,h=o.key,O=o.isVisible,E=o.valueType,k=h||e,S=ft[c];if(!S)return null;var I=((null==f?void 0:f.attributes)||[]).some((function(e){return e.type===E})),P=(b||{}).disablePropertySelection,w=I&&!P&&"property"===(null===(n=t[k])||void 0===n?void 0:n.name),j=w?t[k]:p&&p(t[k],u.current.properties),C=w?Qe:S,D=m&&m(t[k],u.current.properties,f),T=!O||O(t[k],u.current.properties,a);return T?l().createElement("div",{className:"ms-symbolizer-field-wrapper ".concat(c?"ms-symbolizer-type-".concat(c):"")},l().createElement(C,at({},f,{key:k,fieldKey:k,label:g||k,valueType:E,properties:t,config:b,format:a,visible:T,disabled:D,value:v()(j)?t[k]:j,onChange:function(e){return i(w?e:y&&y(e,u.current.properties)||e)}})),s&&!P&&l().createElement(d.PS,{className:"no-border",noCaret:!0,pullRight:!0,disabled:D,style:{padding:0},title:l().createElement(d.gG,{glyph:"option-vertical"})},l().createElement(d.sN,{key:"constant",active:!w,onClick:function(){return i(dt({},k,p&&p(void 0,u.current.properties)))}},l().createElement(z.Z,{msgId:"styleeditor.constantValue"})),l().createElement(d.sN,{key:"attribute",active:w,onClick:function(){return i(dt({},k,{name:"property",args:[]}))}},l().createElement(z.Z,{msgId:"styleeditor.propertyValue"}))),s&&P&&l().createElement("div",{style:{width:14}})):null})))}const yt=pt;var mt=r(423570),bt=r.n(mt),vt=r(372076);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function ht(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function St(e,t,r){return(t=function(e){var t=function(e){if("object"!=gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var It=(0,K.Z)(H.Z),Pt=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,o=void 0===n?[]:n,i=e.format,a=e.groupLevels,u=void 0===a?0:a,c=e.onChange,s=void 0===c?function(){}:c,d=r.groupFields,f=r.filterFields;return l().createElement("div",{className:"ms-style-rule-filter"},l().createElement(vt.Z,{textFieldTooltipMessageId:{css:"queryform.attributefilter.tooltipTextFieldCSS","3dtiles":"queryform.attributefilter.tooltipTextField3DTiles"}[i],attributes:o,filterFields:f,groupFields:d,autocompleteEnabled:!1,groupLevels:u,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};s({filterFields:f,groupFields:d?[].concat(ht(d),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};s({filterFields:f?[].concat(ht(f),[t]):[t],groupFields:d})},onRemoveFilterField:function(e){s({filterFields:f.filter((function(t){return t.rowId!==e})),groupFields:d})},onUpdateFilterField:function(e,t,r,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s({filterFields:f.map((function(o){return o.rowId===e?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=kt(kt({},e),{},St(St(St({},t.fieldName,t.fieldValue),"type",t.fieldType),"fieldOptions",kt(kt({},e.fieldOptions),{},{currentPage:void 0===t.fieldOptions.currentPage?1:t.fieldOptions.currentPage})));return"attribute"===t.fieldName?kt(kt({},r),{},{value:"string"===t.fieldType?"":null,operator:""}):"operator"===t.fieldName?kt(kt({},r),{},{value:null}):r}(o,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:l}):o})),groupFields:d})},onUpdateExceptionField:function(e,t){s({filterFields:f.map((function(r){return r.rowId===e?kt(kt({},r),{},{exception:t}):r})),groupFields:d})},onUpdateLogicCombo:function(e,t){s({filterFields:f,groupFields:d.map((function(r){return r.id===e?kt(kt({},r),{},{logic:t}):r}))})},onRemoveGroupField:function(e){s({filterFields:f.filter((function(t){return t.groupId!==e})),groupFields:d.filter((function(t){return t.id!==e}))})},onChangeCascadingValue:function(){}}}))};function wt(e){var t,r=e.value,n=e.hide,o=e.attributes,i=e.format,a=e.onChange,u=e.placement,c=void 0===u?"right":u;if(n||!o||0===o.length)return null;var s=(null==r||null===(t=r.filterFields)||void 0===t?void 0:t.length)>0;return l().createElement(L.Z,{placement:c,content:l().createElement(Pt,{filterObj:r,attributes:o,format:i,onChange:function(e){return a({filter:e})}})},l().createElement(It,{className:"square-button-md no-border",active:s,tooltipId:"styleeditor.openFilterBuilder"},l().createElement(d.gG,{glyph:"filter"})))}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(e,t,r){return(t=function(e){var t=function(e){if("object"!=jt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e,t){if(e){if("string"==typeof e)return xt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Zt=(0,te.Z)(["placeholder","noResultsText"])(I.ZP.Creatable),Vt=(0,K.Z)(H.Z);function Rt(e){var t=e.label,r=e.currentZoom;return l().createElement("span",null,t,r&&l().createElement(l().Fragment,null,"Â ",l().createElement(d.gG,{glyph:"arrow-left"})))}function Ft(e){var t=e.label,r=e.value,n=e.options,o=e.isValidNewOption,i=e.onChange;return l().createElement(M.Z,{label:t},l().createElement(Zt,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:Rt,valueRenderer:Rt,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!h()(t)&&o(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);i(h()(t)?void 0:t)}}))}function Nt(e){var t=e.value,r=e.zoom,o=e.scales,i=void 0===o?[]:o,a=e.onChange;function u(e,t){var r,n=e.map((function(e){return e.value}));return t&&-1===n.indexOf(t)?[{value:t}].concat((r=e,function(e){if(Array.isArray(e))return xt(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||At(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e.value>t.value?-1:1})):e}var c,s,d=(0,n.useState)(function(e){var r=e.map((function(e,t){return{value:e,zoom:t}})),n=[t.min,t.max].filter((function(e){return void 0!==e}));return 0===n.length?r:n.reduce(u,r)}(i)),f=(s=2,function(e){if(Array.isArray(e))return e}(c=d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw l}}return a}}(c,s)||At(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],y=f[1];return l().createElement("div",{className:"ms-style-rule-scale"},l().createElement(Ft,{label:"styleeditor.maxScaleDenominator",value:t.max,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}})),isValidNewOption:function(e){return e>=t.min},onChange:function(e){a(Dt(Dt({},t),{},{max:e})),y(u(p,e))}}),l().createElement(Ft,{label:"styleeditor.minScaleDenominator",value:t.min,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}})),isValidNewOption:function(e){return e<=t.max},onChange:function(e){a(Dt(Dt({},t),{},{min:e})),y(u(p,e))}}))}function zt(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,o=void 0===n?[]:n,i=e.zoom,a=e.hide,u=e.onChange,c=e.placement,s=void 0===c?"right":c;return a?null:l().createElement(L.Z,{placement:s,content:l().createElement(Nt,{value:r,zoom:i,scales:o,onChange:function(e){return u({scaleDenominator:e})}})},l().createElement(Vt,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},l().createElement(d.gG,{glyph:"1-ruler"})))}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Mt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kt=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Wt(Wt({},e.defaultProperties),{},{symbolizerId:bt()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return Wt(Wt(Wt({},e.defaultProperties),t.Classification.defaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,l=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Wt(Wt({},n),{},Gt({symbolizerId:bt()(),fill:void 0},l,Wt({},r.Mark.defaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,l=e.graphicKey;return{ruleId:t,name:"",symbolizers:[Wt(Wt({},n),{},Gt({symbolizerId:bt()(),fill:void 0},l,Wt({},r.Icon.defaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Wt(Wt({},r.Raster.defaultProperties),{},{symbolizerId:bt()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[Wt(Wt({},r.Raster.defaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:bt()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return Wt(Wt({},t.Raster.defaultProperties),{},{ruleId:r})}}]},Bt=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,l=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?null!=l&&l.redChannel?"RGB":"Gray":void 0!==t?t:null!=r&&r.kind?null==r?void 0:r.kind:"Simple"};function Ht(e){var t,r,n=e.ruleKind,o=e.symbolizerKind,i=e.ruleId,a=e.graphic,u=e.channelSelection,c=e.hide,s=e.ruleBlock,f=e.symbolizerBlock,p=e.getSelected,y=void 0===p?Bt:p,m=e.getOptions,b=void 0===m?Kt:m,v=e.onSelect,g=e.supportedOptions,h=b({ruleBlock:s,symbolizerBlock:f,kind:o}).filter((function(e){return!g||g.includes(e.value)})),O=o?f[o]:{},E=O.defaultProperties,k=O.params,S=void 0===k?{}:k,I=null==S||null===(t=S.color)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.graphicKey,P=y({ruleKind:n,symbolizerKind:o,graphic:a,channelSelection:u});return c?null:l().createElement(d.PS,{className:"no-border",noCaret:!0,pullRight:!0,style:{padding:0},title:l().createElement(d.gG,{glyph:"option-vertical"})},h.map((function(e){return!e.isVisible||e.isVisible({graphicKey:I})?l().createElement(d.sN,{key:e.value,active:P===e.value,onClick:function(){return t=e.value,r=e.onSelect({ruleId:i,ruleKind:n,symbolizerKind:o,defaultProperties:E,graphicKey:I}),t===P?null:v(r);var t,r}},l().createElement(z.Z,{msgId:e.labelId})):null})))}const Ut=function(e){var t=e.className,r=e.glyph,n=e.tools,o=e.children,i=t?" "+t:"";return l().createElement("li",{className:"ms-symbolizer".concat(i)},l().createElement("div",{className:"ms-symbolizer-info"},r&&l().createElement(d.gG,{glyph:r}),l().createElement("div",{className:"ms-symbolizer-tools"},n)),o)};var _t=r(623560),qt=r.n(_t);function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}var $t=["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands","config","supportedSymbolizerMenuOptions","fonts","enableFieldExpression","thematicCustomParamsProperty"],Jt=["name"];function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t,r){return(t=function(e){var t=function(e){if("object"!=Yt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}const rr=function(e){var t=e.ruleId,r=e.glyph,o=e.params,i=e.kind,a=e.symbolizerKind,u=e.classificationType,c=void 0===u?"classificationVector":u,s=e.attributes,d=void 0===s?[]:s,f=e.onUpdate,p=e.onReplace,y=e.methods,m=e.getColors,b=void 0===m?function(){}:m,v=e.ruleBlock,g=void 0===v?{}:v,h=e.symbolizerBlock,O=void 0===h?{}:h,E=e.bands,k=e.config,S=e.supportedSymbolizerMenuOptions,I=e.fonts,P=e.enableFieldExpression,w=e.thematicCustomParamsProperty,j=tr(e,$t),C=j.ramp,D=j.method,T=j.classification,A=j.attribute,x=j.intervals,Z=j.intervalsForUnique,V=void 0===Z?(null==k?void 0:k.intervalsForUnique)||100:Z,R=j.reverse,F=j.continuous,N=j.format,z=j.customParams,M=(0,n.useRef)();M.current={ruleId:t,intervals:x,intervalsForUnique:V,method:D,attribute:A,reverse:R,ramp:C,continuous:F,classification:T,customParams:z||{}};var L=o.reduce((function(e,t){return qt()(t)?Qt(Qt({},e),t(a)):Qt(Qt({},e),t)}),{}),W=(O[a]||{}).glyph;return l().createElement(Ut,{key:"Classification",glyph:W||r,tools:l().createElement(Ht,{ruleKind:i,symbolizerKind:a,ruleId:t,onSelect:p,ruleBlock:g,symbolizerBlock:O,supportedOptions:S})},l().createElement(yt,{properties:j,format:N,config:{attributes:d,methods:y,getColors:function(){var e="custom"===C&&T.length>0&&{name:"custom",colors:T.map((function(e){return e.color}))},t=b(void 0,void 0,5,e);return t?t.map((function(e){var t=e.name,r=tr(e,Jt);return Qt({label:t?"global.colors.".concat(t):void 0,name:t},r)})):[]},bands:E,method:D,methodEdit:null==j?void 0:j.methodEdit,fonts:I,enableFieldExpression:P,thematicCustomParams:w},params:L,onChange:function(e){return f(Qt(Qt({},M.current),{},{type:c,values:e}))}}))};var nr=r(521992),lr=r(180307),or=r(590937);function ir(e){var t=e.title,r=e.icon,o=e.tools,i=e.errorId,a=e.msgParams,u=e.draggable,c=e.connectDragSource,s=e.connectDropTarget,f=e.isDragging,p=e.children,y=e.collapsed,m=e.onCollapse,b=void 0===m?function(){}:m,v=(0,n.useRef)(null);u&&(c(v.current),s(v.current));var g=f?" ms-drop-target":"";return l().createElement("li",{ref:v,className:"ms-style-rule".concat(g)},l().createElement("div",{className:"ms-style-rule-head"},u&&l().createElement("div",{className:"ms-style-rule-grab-handle"},l().createElement(d.gG,{glyph:"grab-handle"})),l().createElement(d.zx,{className:"ms-rule-collapse",onClick:function(){return b(!y)},style:y?{}:{transform:"rotate(90deg)"}},l().createElement(d.gG,{glyph:"next"})),r,l().createElement("div",{className:"ms-style-rule-head-info"},t),l().createElement("div",{className:"ms-style-rule-head-tools"},o)),i&&l().createElement(d.bZ,{bsStyle:"danger"},l().createElement(z.Z,{msgId:i,msgParams:a})),y?null:l().createElement("ul",{className:"ms-style-rule-body"},p))}ir.propTypes={title:i().oneOfType([i().node,i().string]),tools:i().node,errorId:i().string,draggable:i().bool,connectDragSource:i().func,connectDropTarget:i().func,isDragging:i().bool},ir.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var ar="RULE";const ur=(0,or.GR)(ar,{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=(0,lr.findDOMNode)(r);if(!n)return null;var l=t.getItem().index,o=e.index;if(l===o)return null;var i=n.getBoundingClientRect(),a=i.bottom,u=i.top,c=(a-u)/2,s=t.getClientOffset().y-u;l<o&&s<c||l>o&&s>c||(e.onSort(l,o),t.getItem().index=o)}(e,t,r)}},(function(e){return{connectDropTarget:e.dropTarget()}}))((0,or.Ej)(ar,{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(ir));var cr=r(202576),sr=r(808224),dr=["ruleId"],fr=["kind","symbolizerId"];function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yr.apply(null,arguments)}function mr(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function br(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return(t=function(e){var t=function(e){if("object"!=pr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Er=(0,K.Z)(H.Z),kr=(0,te.Z)("placeholder")(d.NI);function Sr(){return l().createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},l().createElement("div",null,l().createElement(d.gG,{glyph:"exclamation-mark",style:{fontSize:150}}),l().createElement("h1",null,l().createElement(z.Z,{msgId:"styleeditor.emptyRuleEditorTitle"})),l().createElement("p",null,l().createElement(z.Z,{msgId:"styleeditor.emptyRuleEditor"}))))}var Ir=(0,n.forwardRef)((function(e,t){var r=e.rules,o=void 0===r?[]:r,i=e.loading,a=e.toolbar,c=e.config,f=void 0===c?{}:c,p=e.ruleBlock,y=void 0===p?{}:p,m=e.symbolizerBlock,b=void 0===m?{}:m,v=e.onUpdate,g=void 0===v?function(){}:v,h=e.onChange,E=void 0===h?function(){}:h,k=f.geometryType,S=f.attributes,I=f.bands,P=f.scales,w=f.zoom,j=f.fonts,C=f.methods,D=f.getColors,T=f.classification,A=f.format,x=f.simple,Z=f.svgSymbolsPath,V=f.lineDashOptions,R=f.supportedSymbolizerMenuOptions,F=f.enableFieldExpression,N=f.thematicCustomParams,M=(0,n.useRef)();function L(e,t){var r=e.values,n=e.ruleId,l=e.symbolizerId;if(t){var o=M.current.rules.map((function(e){return e.ruleId===n?hr(hr({},e),r):e}));return E(o)}var i=M.current.rules.map((function(e){return e.symbolizers?hr(hr({},e),{},{symbolizers:e.symbolizers.map((function(t){return t.symbolizerId===l&&e.ruleId===n?hr(hr({},t),r):t}))}):e}));return E(i)}function W(e){var t=[e].concat(br(M.current.rules));E(t)}function G(e){var t=e.ruleId,r=mr(e,dr),n=M.current.rules.map((function(e){return e.ruleId===t?hr({ruleId:t},r):e}));return E(n)}function K(e,t){var r=u()(M.current.rules,(function(t,r){return r===e})),n=M.current.rules.reduce((function(n,l,o){return o===e?n:[].concat(br(n),o===t?e>t?[r,l]:[l,r]:[l])}),[]);return E(n)}function B(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!u()(n,(function(e){return"Text"===e.kind}))&&t>0}return M.current={rules:o},l().createElement("div",{ref:t,className:"ms-style-rules-editor"},l().createElement("div",{className:"ms-style-rules-editor-head"},l().createElement("div",{className:"ms-style-rules-editor-left"},a),l().createElement("div",{className:"ms-style-rules-editor-right"},l().createElement(O.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat(br(Object.keys(b).map((function(e){var t=b[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,disabled:!(null==t||!t.disableAdd)&&t.disableAdd(),onClick:function(){return W({name:"",ruleId:bt()(),symbolizers:[hr(hr({},b[e].defaultProperties),{},{symbolizerId:bt()()})]})}}}))),br(Object.keys(y).filter((function(e){return y[e].add})).map((function(e){var t=y[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,onClick:function(){return W(hr({name:"",ruleId:bt()()},y[e].defaultProperties))}}}))))}))),l().createElement("ul",{className:"ms-style-rules-editor-body"},0===o.length&&l().createElement(Sr,null),o.map((function(e,t){var r,n=e.name,i=e.symbolizers,a=void 0===i?[]:i,u=e.filter,c=e.scaleDenominator,f=void 0===c?{}:c,p=e.ruleId,m=e.kind,v=e.errorId,h=e.msgParams,O=e.mandatory,W=e.collapsed,H=y[m]||{},U=H.params,_=H.glyph,q=H.hideInputLabel,Y=H.hideFilter,$=H.hideScaleDenominator,J=H.classificationType,X=!!s()(S)&&"number"===(null===(r=S.find((function(t){return t.attribute===(null==e?void 0:e.attribute)}))||{})||void 0===r?void 0:r.type);return l().createElement(ur,{key:p+(o.length>1?"_draggable":""),draggable:o.length>1,id:p,index:t,errorId:v,msgParams:h,onSort:K,icon:l().createElement(sr.Z,{rule:e}),collapsed:W,onCollapse:function(e){return L({values:{collapsed:e},ruleId:p},!0)},title:q?l().createElement(z.Z,{msgId:"styleeditor.rule".concat(m)}):l().createElement(d.cw,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},l().createElement(kr,{value:n,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return L({values:{name:e.target.value},ruleId:p},!0)}})),tools:l().createElement(l().Fragment,null,B(e,t)&&l().createElement(cr.Z,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:l().createElement(z.Z,{msgId:"styleeditor.warningTextOrderTitle"}),text:l().createElement(z.Z,{msgId:"styleeditor.warningTextOrder"})}),l().createElement(wt,{hide:Y,value:u,attributes:S,format:A,onChange:function(e){return L({values:e,ruleId:p},!0)}}),P&&l().createElement(zt,{hide:$,value:f,scales:P,zoom:w,onChange:function(e){return L({values:e,ruleId:p},!0)}}),!O&&l().createElement(Er,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=M.current.rules.filter((function(t){return t.ruleId!==e}));E(t)}(p)}},l().createElement(d.gG,{glyph:"trash"})))},"Classification"===m||"Raster"===m?l().createElement(rr,yr({},e,{ruleBlock:y,symbolizerBlock:b,glyph:_,classificationType:J,config:T||{},supportedSymbolizerMenuOptions:R,params:U,methods:C,getColors:D,bands:I,fonts:j,attributes:S&&S.map((function(t){return hr(hr({},t),"customInterval"===e.method?{disabled:X?"number"!==t.type:t.attribute!==e.attribute}:"uniqueInterval"!==e.method&&{disabled:"number"!==t.type})})),onUpdate:g,onChange:function(e){return L({values:e,ruleId:p},!0)},onReplace:G,format:A,enableFieldExpression:F,thematicCustomParamsProperty:N})):a.map((function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,o=mr(e,fr),i=function(e){var t=Object.keys(b).filter((function(e){return b[e].supportedTypes.includes(k)})).find((function(t){var r;return(null===(r=b[t])||void 0===r?void 0:r.kind)===e}));return b[t]||b[e]||{}}(r),a=i.params,u=i.glyph,c=i.hideMenu;return a&&l().createElement(Ut,{key:n,defaultExpanded:!0,draggable:!0,glyph:u,tools:!x&&l().createElement(Ht,{hide:c,supportedOptions:R,symbolizerKind:r,ruleBlock:y,symbolizerBlock:b,ruleId:p,onSelect:G,graphic:o.graphicFill||o.graphicStroke,channelSelection:o.channelSelection})},l().createElement(yt,{properties:o,format:A,params:a,config:{bands:I,attributes:S,fonts:j,svgSymbolsPath:Z,lineDashOptions:V,enableFieldExpression:F},onChange:function(e){return L({values:e,ruleId:p,symbolizerId:n})}}))})))})),i&&l().createElement("div",{className:"ms-style-rule-overlay-loader",style:{position:"absolute",width:"100%",height:"100%",zIndex:10,transition:"0.3s all"}})))})),Pr=(0,nr.Z)(),wr=Pr.symbolizerBlock,jr=Pr.ruleBlock;Ir.propTypes={rules:i().array,loading:i().bool,toolbar:i().node,config:i().object,ruleBlock:i().object,symbolizerBlock:i().object,onUpdate:i().func,onChange:i().func},Ir.defaultProps={rules:[],config:{},ruleBlock:jr,symbolizerBlock:wr,onUpdate:function(){},onChange:function(){}};const Cr=Ir},283958:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(558422),l=r.n(n),o=["type"],i=["text"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(null,arguments)}function u(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}const c=function(e){var t=e.type,r=e.patterns,n=e.paths,c=e.texts,s=e.backgroundColor,d=void 0===s?"#ffffff":s;return l().createElement("svg",{viewBox:"0 0 200 200"},l().createElement("defs",null,r&&r.filter((function(e){return e.icon})).map((function(e){return l().createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&l().createElement("path",e.icon))})),r&&r.filter((function(e){return e.image})).map((function(e){return l().createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&l().createElement("image",e.image))}))),l().createElement("path",{fill:d,d:"M0 0 L200 0 L200 200 L0 200Z"}),n&&n.map((function(e){var r=e.type,n=u(e,o);return"polygon"===(r||t)&&l().createElement("path",a({},n,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&l().createElement("path",a({},n,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&l().createElement("path",n)})),c&&c.map((function(e){var t=e.text,r=u(e,i);return l().createElement("text",a({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)})))}},521992:(e,t,r)=>{r.d(t,{Z:()=>ue});var n=r(264721),l=r.n(n),o=r(513218),i=r.n(o),a=r(957557),u=r.n(a),c=r(618446),s=r.n(c),d=r(807654),f=r.n(d),p=r(414293),y=r.n(p),m=r(717621),b=r.n(m),v=["a"];function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,l=void 0===n?"opacity":n,o=e.graphicKey,a=e.label,u=void 0===a?"Fill":a,c=e.stroke,s=e.pattern,d=e.disableAlpha,f=e.getGroupParams,p=e.getGroupConfig,m=e.isDisabled,g=e.propertySelectorInfoMessageId;return{type:"color",valueType:"string",label:u,config:{stroke:c,pattern:s,disableAlpha:d,getGroupParams:f,getGroupConfig:p,graphicKey:o,opacityKey:l,propertySelectorInfoMessageId:void 0===g?"styleeditor.colorPropertyInfoMessage":g},setValue:function(e,t){var r;if(s&&null!==(r=t[o])&&void 0!==r&&r.kind)return t[o];var n=y()(t[l])?1:t[l];return b()(e).setAlpha(n).toRgb()},getValue:function(e){if(s&&i()(e)&&e.kind)return E(E(E({},o,e),r,void 0),l,void 0);var t=e||{},n=t.a,a=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(t,v);return O(E(E({},r,b()(O(O({},a),{},{a:1})).toHexString()),l,n),s&&E({},o,void 0))},isDisabled:m}},S=function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,l=void 0===n?"Width":n,o=e.fallbackValue,i=void 0===o?1:o,a=e.isDisabled;return{type:"input",label:l,valueType:"number",config:{min:0,fallbackValue:i,type:"number",maxWidth:105,uom:"px"},setValue:function(e){return void 0===e?i:parseFloat(e)},getValue:function(e){var t=void 0===e?i:parseFloat(e);return E({},r,t)},isDisabled:a}},I=function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label,l=void 0===n?"Dash array":n,o=e.disablePropertySelection;return{type:"dash",label:l,config:{disablePropertySelection:void 0===o||o},setValue:function(e){return void 0!==e?e.map((function(e){return Math.round(e)})):[0]},getValue:function(e){if(s()(e,["0"])||s()(e,["1","0"]))return E({},r,void 0);var t=!(e||[]).find((function(e){return f()(parseFloat(e))}));return E({},r,void 0!==e&&t?e.map((function(e){return parseFloat(e)})):void 0)},isDisabled:e.isDisabled}},P=function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},w=function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},j=function(e){var t=e.key,r=void 0===t?"colorMapType":t,n=e.label;return{type:"toolbar",label:void 0===n?"Color map type":n,config:{options:[{labelId:"styleeditor.colorMapType.ramp",value:"ramp"},{labelId:"styleeditor.colorMapType.intervals",value:"intervals"},{labelId:"styleeditor.colorMapType.values",value:"values"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},C=function(e){var t,r=e.key,n=void 0===r?"radius":r,l=e.label,o=void 0===l?"Radius":l,i=e.range,a=e.fallbackValue,u=void 0===a?1:a,c=e.infoMessageId;return{type:"input",valueType:"number",label:o,config:{fallbackValue:u,type:"number",maxWidth:105,uom:"px",min:null!==(t=null==i?void 0:i.min)&&void 0!==t?t:0,max:null==i?void 0:i.max,infoMessageId:c},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return void 0===e?u:parseFloat(e)},getValue:function(e){return E({},n,void 0===e?u:parseFloat(e))}}},D=function(e){var t=e.key,r=void 0===t?"scale":t,n=e.label,l=void 0===n?"Scale":n,o=e.min,i=e.max,a=e.fallbackValue,u=e.maxWidth,c=e.uom,s=e.isDisabled,d=e.placeholderId;return{type:"input",valueType:"number",label:l,config:{min:o,max:i,fallbackValue:a,type:"number",maxWidth:u,uom:c,placeholderId:d},setValue:function(e){return void 0===e?a:parseFloat(e)},getValue:function(e){return E({},r,void 0===e?void 0:parseFloat(e))},isDisabled:s}},T=function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",valueType:"number",label:void 0===n?"Opacity":n,config:{disablePropertySelection:e.disablePropertySelection,range:{min:0,max:1}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return E({},r,parseFloat(t))}}},A=function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,l=void 0===n?"":n,o=e.fallbackValue,i=void 0===o?[0,0]:o,a=e.disablePropertySelection;return{key:r,type:"xyInput",label:l,config:{fallbackValue:i,uom:"px",disablePropertySelection:void 0===a||a},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0];return void 0===e?i:e},getValue:function(e){return E({},r,void 0===e?i:e)}}},x=function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label,l=void 0===n?"Rotation (deg)":n,o=e.fallbackValue,i=void 0===o?0:o;return{type:"input",valueType:"number",label:l,config:{fallbackValue:i,type:"number",maxWidth:105,uom:"Â°"},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===e?i:parseFloat(e)},getValue:function(e){return E({},r,void 0===e?i:parseFloat(e))}}},Z=function(e){var t=e.key,r=void 0===t?"msClampToGround":t,n=e.label,l=void 0===n?"Clamp to ground":n,o=e.isDisabled,i=e.disablePropertySelection;return{type:"checkbox",valueType:"string",label:l,config:{disablePropertySelection:void 0===i||i},getValue:function(e){return E({},r,e)},setValue:function(e){return!!e},isDisabled:o}},V=function(e){var t=e.key,r=void 0===t?"msBringToFront":t,n=e.label,l=void 0===n?"Arrange":n,o=e.isDisabled,i=e.disablePropertySelection;return{type:"checkbox",valueType:"string",label:l,config:{disablePropertySelection:void 0===i||i},getValue:function(e){return E({},r,e)},setValue:function(e){return!!e},isDisabled:o}},R=function(e){var t=e.key,r=void 0===t?"msClassificationType":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"PolygonType":n,config:{options:[{labelId:"styleeditor.3dTile",value:"3d"},{labelId:"styleeditor.terrain",value:"terrain"},{labelId:"styleeditor.both",value:"both"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},F=function(e){var t=e.key,r=void 0===t?"msHeightReference":t,n=e.label;return{type:"toolbar",valueType:"string",label:void 0===n?"Height reference from ground":n,config:{options:[{labelId:"styleeditor.none",value:"none"},{labelId:"styleeditor.relative",value:"relative"},{labelId:"styleeditor.clamp",value:"clamp"}]},getValue:function(e){return E({},r,e)},isDisabled:e.isDisabled}},N=function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",valueType:"string",label:t,config:{options:e.options,excludeSvg:e.excludeSvg},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},isDisabled:e.isDisabled}},z=function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",valueType:"string",label:t,config:{},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},M=function(e){var t=e.label,r=e.key,n=void 0===r?"model":r;return{type:"model",valueType:"string",label:t,config:{},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},isDisabled:e.isDisabled}},L=function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",valueType:"string",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},W=function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",valueType:"string",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},G=function(e){var t=e.key,r=void 0===t?"label":t,n=e.label,l=e.isDisabled;return{type:"checkbox",label:n,config:{disablePropertySelection:e.disablePropertySelection},isDisabled:l,getValue:function(e){return E({},r,e)}}},K=function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,l=e.isDisabled,o=void 0===l?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:l,i=e.disablePropertySelection;return{type:"slider",label:n,config:{disablePropertySelection:void 0===i||i,range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:o,setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)},getValue:function(){return E({},r,parseFloat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]))}}},B=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,l=e.getOptions,o=void 0===l?function(){return[]}:l,i=e.selectProps,a=e.isValid,u=e.isDisabled,c=e.isVisible,s=e.setValue,d=e.getValue;return{type:"select",valueType:"string",label:t,config:{getOptions:o,selectProps:i,isValid:a,disablePropertySelection:e.disablePropertySelection},getValue:d||function(e){return E({},n,e)},isDisabled:u,isVisible:c,setValue:s}},H=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,l=e.getOptions,o=void 0===l?function(){return[]}:l,i=e.disablePropertySelection;return{type:"colorRamp",label:t,config:{disablePropertySelection:void 0===i||i,getOptions:o},getValue:function(){return E({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},U=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,l=e.disablePropertySelection;return{type:"colorMap",label:t,config:{disablePropertySelection:void 0===l||l},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,l=e.type,o="customInterval"===t.method,i="interval"===l||o,a="color"===l||"custom"===t.ramp;return O(O(E({},n,r),i&&{method:"customInterval",methodEdit:o?t.methodEdit:t.method}),a&&{ramp:"custom"})}}},_=function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}},q=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,l=e.getOptions,o=void 0===l?function(){return[]}:l,i=e.selectProps,a=e.isValid,u=e.isDisabled,c=e.isVisible,s=e.setValue,d=e.getValue,f=e.disablePropertySelection;return{type:"customParams",valueType:"string",label:t,config:{getOptions:o,selectProps:O(O({},i),{},{clearable:!0}),isValid:a,disablePropertySelection:f},getValue:d||function(e,t){return E({},n,O(O({},t[n]||{}),e))},isDisabled:u,isVisible:c,setValue:s}};var Y=r(99009);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){var t=e.label,r=void 0===t?"styleeditor.clampToGround":t,n=e.isDisabled;return{msClampToGround:Z({label:r,isDisabled:n})}},ne=function(){return{msGeometry:B({label:"styleeditor.geometryTransformation",key:"msGeometry",disablePropertySelection:!0,setValue:function(e){return e?null==e?void 0:e.name:"unset"},getValue:function(e){return"unset"===e?{msGeometry:void 0}:{msGeometry:{name:e}}},getOptions:function(){return[{value:"unset",labelId:"styleeditor.center"},{value:"startPoint",labelId:"styleeditor.startPoint"},{value:"endPoint",labelId:"styleeditor.endPoint"}]}})}},le=function(){return{anchor:B({label:"styleeditor.anchor",key:"anchor",setValue:function(e){return e||"center"},getOptions:function(){return[{value:"top-left",labelId:"styleeditor.topLeft"},{value:"top",labelId:"styleeditor.top"},{value:"top-right",labelId:"styleeditor.topRight"},{value:"left",labelId:"styleeditor.left"},{value:"center",labelId:"styleeditor.center"},{value:"right",labelId:"styleeditor.right"},{value:"bottom-left",labelId:"styleeditor.bottomLeft"},{value:"bottom",labelId:"styleeditor.bottom"},{value:"bottom-right",labelId:"styleeditor.bottomRight"}]}})}},oe=function(e){var t=e.isDisabled,r=e.enableTranslation;return ee(ee({msHeightReference:F({label:"styleeditor.heightReferenceFromGround",isDisabled:t}),msHeight:D({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.pointHeight",isDisabled:function(e,r){return t(e,r)||"clamp"===(null==r?void 0:r.msHeightReference)}})},r&&{msTranslateX:D({key:"msTranslateX",label:"styleeditor.msTranslateX",uom:"m",fallbackValue:0,isDisabled:t}),msTranslateY:D({key:"msTranslateY",label:"styleeditor.msTranslateY",uom:"m",fallbackValue:0,isDisabled:t})}),{},{msLeaderLineColor:k({key:"msLeaderLineColor",opacityKey:"msLeaderLineOpacity",label:"styleeditor.leaderLineColor",stroke:!0,isDisabled:t}),msLeaderLineWidth:S({key:"msLeaderLineWidth",label:"styleeditor.leaderLineWidth",fallbackValue:0,isDisabled:t})})},ie=function(e){var t=e.isDisabled;return ee({msBringToFront:V({label:"styleeditor.msBringToFront",isDisabled:t})},oe({isDisabled:t}))},ae=function(e){var t=e.isDisabled;return{msClassificationType:R({label:"styleeditor.classificationtype",isDisabled:t})}};const ue=function(){var e,t,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.exactMatchGeometrySymbol,c=o.enable3dStyleOptions,s=void 0===c,d={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],params:ee(ee(ee({wellKnownName:N({label:"styleeditor.shape"}),color:k({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:k({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:S({key:"strokeWidth",label:"styleeditor.strokeWidth"})},!s&&{strokeDasharray:I({label:"styleeditor.strokeStyle",key:"strokeDasharray"})}),{},{radius:C({key:"radius",label:"styleeditor.radius"}),rotate:x({label:"styleeditor.rotation"})},!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],hideMenu:!0,params:ee(ee(ee({image:z({label:"styleeditor.image",key:"image"}),format:B({label:"styleeditor.format",key:"format",isVisible:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).image,r=arguments.length>2?arguments[2]:void 0;return void 0!==t&&"msMarkerIcon"!==(null==e?void 0:e.name)&&"css"!==r&&!i()(t)&&!["png","jpg","svg","gif","jpeg"].includes(t.split(".").pop())},getOptions:function(){return Y.qL}}),opacity:T({label:"styleeditor.opacity"}),size:C({key:"size",label:"styleeditor.size"}),rotate:x({label:"styleeditor.rotation"})},!s&&le()),!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:a?["linestring","vector"]:["linestring","polygon","vector"],params:ee(ee(ee({color:k({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:S({label:"styleeditor.strokeWidth",key:"width"}),dasharray:I({label:"styleeditor.lineStyle",key:"dasharray"}),cap:P({label:"styleeditor.lineCap",key:"cap",isDisabled:function(){return!!c}}),join:w({label:"styleeditor.lineJoin",key:"join",isDisabled:function(){return!!c}})},!s&&re({label:"styleeditor.clampToGround",isDisabled:function(){return!c}})),!s&&{msGeometry:B({label:"styleeditor.geometryTransformation",key:"msGeometry",disablePropertySelection:!0,setValue:function(e){return e?null==e?void 0:e.name:"unset"},getValue:function(e){return"unset"===e?{msGeometry:void 0}:{msGeometry:{name:e}}},getOptions:function(){return[{value:"unset",labelId:"styleeditor.line"},{value:"lineToArc",labelId:"styleeditor.geodesicLine"}]}})}),!s&&(r={isDisabled:function(e,t){return!((null==t||!t.msClampToGround)&&c)}},n=r.isDisabled,{msHeightReference:F({key:"msHeightReference",label:"styleeditor.heightReferenceFromGround",isDisabled:n}),msHeight:D({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.geometryHeight",isDisabled:function(e,t){return n(e,t)||"clamp"===(null==t?void 0:t.msHeightReference)}}),msExtrusionRelativeToGeometry:G({key:"msExtrusionRelativeToGeometry",label:"styleeditor.msExtrusionRelativeToGeometry",isDisabled:function(e,t){return n(e,t)||!(null==t||!t.msExtrusionType)}}),msExtrudedHeight:D({key:"msExtrudedHeight",label:"styleeditor.msExtrudedHeight",uom:"m",fallbackValue:0,isDisabled:n}),msExtrusionColor:k({key:"msExtrusionColor",opacityKey:"msExtrusionOpacity",label:"styleeditor.msExtrusionColor",isDisabled:n}),msExtrusionType:B({key:"msExtrusionType",label:"styleeditor.msExtrusionType",setValue:function(e){return e||""},getOptions:function(){return[{value:"",labelId:"styleeditor.wall"},{value:"Circle",labelId:"styleeditor.circle"},{value:"Square",labelId:"styleeditor.square"}]},isDisabled:n})})),defaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round",msClampToGround:!0}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:ee(ee(ee(ee({color:k({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:k({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0,isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}}),outlineWidth:S({key:"outlineWidth",label:"styleeditor.outlineWidth",isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}})},!s&&{outlineDasharray:I({label:"styleeditor.outlineStyle",key:"outlineDasharray",isDisabled:function(e,t){return!(null!=t&&t.msClampToGround||null==t||!t.msExtrudedHeight)}})}),!s&&re({label:"styleeditor.clampOutlineToGround",isDisabled:function(){return!c}})),!s&&ae({isDisabled:function(e,t){return!(null!=t&&t.msClampToGround&&c)}})),!s&&(e={isDisabled:function(e,t){return!((null==t||!t.msClampToGround)&&c)}},t=e.isDisabled,{msHeightReference:F({key:"msHeightReference",label:"styleeditor.heightReferenceFromGround",isDisabled:t}),msHeight:D({key:"msHeight",label:"styleeditor.height",uom:"m",placeholderId:"styleeditor.geometryHeight",isDisabled:function(e,r){return t(e,r)||"clamp"===(null==r?void 0:r.msHeightReference)}}),msExtrusionRelativeToGeometry:G({key:"msExtrusionRelativeToGeometry",label:"styleeditor.msExtrusionRelativeToGeometry",isDisabled:t}),msExtrudedHeight:D({key:"msExtrudedHeight",label:"styleeditor.msExtrudedHeight",uom:"m",fallbackValue:0,isDisabled:t})})),defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1,msClassificationType:"both",msClampToGround:!0}},PointCloud:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["pointcloud"],hideMenu:!0,params:{color:k({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),radius:C({key:"radius",label:"styleeditor.radius",range:{min:1,max:10},infoMessageId:"styleeditor.pointCloudSizeInfo"})},defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,radius:1}},Polyhedron:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polyhedron"],hideMenu:!0,params:{color:k({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return d[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}})},defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1}},Model:{kind:"Model",glyph:"model",glyphAdd:"model-plus",disableAdd:function(){return!c},tooltipAddId:"styleeditor.addModelRule",supportedTypes:["point","linestring","polygon","vector","annotation-point","annotation-linestring","annotation-polygon","annotation-circle"],hideMenu:!0,params:ee(ee({model:M({label:"styleeditor.model",key:"model",isDisabled:function(){return!c}}),scale:D({key:"scale",label:"styleeditor.scale",fallbackValue:1,maxWidth:80,isDisabled:function(){return!c}}),pitch:D({key:"pitch",label:"styleeditor.pitch",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),roll:D({key:"roll",label:"styleeditor.roll",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),heading:D({key:"heading",label:"styleeditor.heading",fallbackValue:0,maxWidth:105,uom:"Â°",isDisabled:function(){return!c}}),color:k({key:"color",opacityKey:"opacity",label:"styleeditor.color",isDisabled:function(){return!c}})},oe({isDisabled:function(){return!c},enableTranslation:!0})),!s&&ne()),defaultProperties:{kind:"Model",model:"",scale:1,color:"#ffffff",opacity:1,msHeightReference:"none"}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:["point","linestring","polygon","vector"],params:ee(ee(ee({label:B({key:"label",label:"styleeditor.label",disablePropertySelection:!0,selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map((function(e){return{value:"{{"+e.attribute+"}}",label:e.label||e.attribute}})))||[]}}),font:B({key:"font",label:"styleeditor.fontFamily",disablePropertySelection:!0,selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map((function(e){return{value:e,label:e}})))||[]}}),color:k({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:C({label:"styleeditor.fontSize",key:"size"}),fontStyle:L({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:W({label:"styleeditor.fontWeight",key:"fontWeight"})},!s&&le()),{},{haloColor:k({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:S({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:x({label:"styleeditor.rotation"}),offset:A({label:"styleeditor.offset"})},!s&&ie({isDisabled:function(){return!c}})),!s&&ne()),defaultProperties:{kind:"Text",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0],msBringToFront:!1,msHeightReference:"none"}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:_({}),opacity:T({label:"styleeditor.opacity"})},defaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}},Circle:{kind:"Circle",glyph:"1-circle",glyphAdd:"1-circle-add",tooltipAddId:"styleeditor.addCircleRule",supportedTypes:[],params:ee(ee({color:k({key:"color",opacityKey:"opacity",label:"styleeditor.color"}),outlineColor:k({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:S({key:"outlineWidth",label:"styleeditor.outlineWidth"}),outlineDasharray:I({label:"styleeditor.outlineStyle",key:"outlineDasharray"}),radius:D({key:"radius",label:"styleeditor.radius",uom:"m",fallbackValue:0,maxWidth:125}),geodesic:G({key:"geodesic",label:"styleeditor.geodesic"})},!s&&re({label:"styleeditor.clampOutlineToGround",isDisabled:function(){return!c}})),!s&&ae({isDisabled:function(e,t){return!(null!=t&&t.msClampToGround&&c)}})),defaultProperties:{kind:"Circle",color:"#dddddd",opacity:1,outlineColor:"#777777",outlineWidth:1}}},f={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:H({key:"ramp",label:"styleeditor.colorRamp",disablePropertySelection:!0,getOptions:function(e){return(0,e.getColors)()}}),reverse:G({key:"reverse",label:"styleeditor.reverse",disablePropertySelection:!0,isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:B({key:"attribute",label:"styleeditor.attribute",disablePropertySelection:!0,isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map((function(e){return{value:e.attribute,label:e.label||e.attribute,disabled:e.disabled}}))}}),method:B({key:"method",label:"styleeditor.method",disablePropertySelection:!0,isDisabled:function(e,t,r){var n,l,o=r.attributes;return"string"===(null==o||null===(n=o.filter((function(e){return e.label===(null==t?void 0:t.attribute)})))||void 0===n||null===(l=n[0])||void 0===l?void 0:l.type)&&"customInterval"!==(null==t?void 0:t.method)},getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,l=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(J("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),J(l))}}),intervals:K({label:"styleeditor.intervals",disablePropertySelection:!0,isDisabled:function(e,t){return l()(["customInterval","uniqueInterval"],null==t?void 0:t.method)}})},function(e){var t,r,n,l;if(!e)return{};switch(e){case"Mark":return ee({fillOpacity:T({key:"fillOpacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(t=d[e])||void 0===t?void 0:t.params,["color"]));case"Line":return ee({opacity:T({key:"opacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(r=d[e])||void 0===r?void 0:r.params,["color"]));case"Fill":return ee({fillOpacity:T({key:"fillOpacity",label:"styleeditor.opacity",disablePropertySelection:!0})},u()(null===(n=d[e])||void 0===n?void 0:n.params,["color"]));default:return null===(l=d[e])||void 0===l?void 0:l.params}},{msViewParams:q({key:"msViewParams",label:"styleeditor.customParams",disablePropertySelection:!0}),classification:U({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:_({}),opacity:T({label:"styleeditor.opacity"}),ramp:H({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:G({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),continuous:G({key:"continuous",label:"styleeditor.continuous",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),colorMapType:j({key:"colorMapType",label:"styleeditor.colorMapType.label"}),method:B({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,l=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(J("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),J(l))}}),intervals:K({label:"styleeditor.intervals"})},{classification:U({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,colorMapType:"ramp",symbolizerKind:"Raster"}}};return{symbolizerBlock:d,ruleBlock:f}}}}]);