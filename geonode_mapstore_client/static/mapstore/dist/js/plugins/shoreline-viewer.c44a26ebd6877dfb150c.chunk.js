(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5730,47310],{460604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>n,yg:()=>o,vD:()=>i,jJ:()=>a,oy:()=>l,am:()=>u,W:()=>c,B1:()=>s,YP:()=>f,fU:()=>p,cY:()=>d});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",l="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",u="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",c=function(e,t){return{type:a,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:l,owner:e,options:t}},f=function(e,t){return{type:u,owner:e,options:t}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},d=function(e){return{type:i,owner:e}}},580416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>a,OX:()=>l,sb:()=>u,K$:()=>c,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>d,oE:()=>v,Po:()=>y,qv:()=>m,cI:()=>E,g6:()=>h,I4:()=>b,l$:()=>g,Xv:()=>O,k3:()=>S,CQ:()=>w,R8:()=>_,HN:()=>A,sH:()=>N,c7:()=>T,_7:()=>P,eF:()=>I,O6:()=>R,ED:()=>M,RP:()=>D,sF:()=>L,VP:()=>F,He:()=>j,vO:()=>C,WO:()=>x,bh:()=>U,MK:()=>V,ZF:()=>G,tV:()=>Y,Dv:()=>k,Yz:()=>H,kI:()=>Z,XG:()=>W,A4:()=>q,Rp:()=>X,$o:()=>z,ct:()=>J,oh:()=>K,$h:()=>$,ud:()=>Q,Qr:()=>B,LR:()=>ee,nN:()=>te,UG:()=>re,c9:()=>ne,Xy:()=>oe});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",l="SORT_NODE",u="REMOVE_NODE",c="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",d="LAYER_ERROR",v="ADD_LAYER",y="ADD_GROUP",m="REMOVE_LAYER",E="SHOW_SETTINGS",h="HIDE_SETTINGS",b="UPDATE_SETTINGS",g="REFRESH_LAYERS",O="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",w="LAYERS_REFRESH_ERROR",_="LAYERS:BROWSE_DATA",A="LAYERS:DOWNLOAD",N="LAYERS:CLEAR_LAYERS",T="LAYERS:SELECT_NODE",P="LAYERS:FILTER_LAYERS",I="LAYERS:SHOW_LAYER_METADATA",R="LAYERS:HIDE_LAYER_METADATA",M="LAYERS:UPDATE_SETTINGS_PARAMS";function D(e,t,r){return{type:E,node:e,nodeType:t,options:r}}function L(){return{type:h}}function F(e){return{type:b,options:e}}function j(e,t){return{type:n,newProperties:t,layer:e}}function C(e,t){return{type:o,layer:e,params:t}}function x(e,t){return{type:i,newProperties:t,group:e}}function U(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function V(e,t){return{type:l,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function G(e,t){return{type:u,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function Y(e,t,r){return{type:c,node:e,nodeType:t,options:r}}function k(e,t,r){return{type:s,node:e,groupId:t,index:r}}function H(e){return{type:f,layerId:e}}function Z(e,t){return{type:p,layerId:e,error:t}}function W(e,t,r){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:r}}function q(e){return{type:v,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function X(e,t,r){return{type:y,group:e,parent:t,options:r,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function z(e){return{type:m,layerId:e}}function J(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function K(e){return{type:S,layers:e}}function $(e,t){return{type:w,layers:e,error:t}}function Q(e,t,r,n){return{type:O,dimension:e,value:t,options:r,layers:n}}function B(e){return{type:_,layer:e}}function ee(e){return{type:A,layer:e}}function te(){return{type:N}}function re(e,t,r){return{type:T,id:e,nodeType:t,ctrlKey:r}}function ne(e,t){return{type:I,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:M,newParams:e,update:t}}},801550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>n,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>l,Qy:()=>u,IL:()=>c,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>d,TF:()=>v,Ls:()=>y,Ec:()=>m,Eu:()=>E,JJ:()=>h,nZ:()=>b,YD:()=>g,GI:()=>O,Jb:()=>S,Uh:()=>w,e$:()=>_,eh:()=>A,$j:()=>N,bJ:()=>T,Mk:()=>P,xy:()=>I,o6:()=>R,NH:()=>M,FP:()=>D,Mo:()=>L,sO:()=>F,Px:()=>j,hd:()=>C,y9:()=>x,Ju:()=>U,BV:()=>V,SO:()=>G,H0:()=>Y,$X:()=>k,ou:()=>H,NE:()=>Z,Lq:()=>W,aN:()=>q});var n="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",l="PAN_TO",u="ZOOM_TO_EXTENT",c="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",v="CREATION_ERROR_LAYER",y="UPDATE_VERSION",m="INIT_MAP",E="RESIZE_MAP",h="CHANGE_MAP_LIMITS",b="SET_MAP_RESOLUTIONS",g="REGISTER_EVENT_LISTENER",O="UNREGISTER_EVENT_LISTENER",S="MOUSE_MOVE",w="MOUSE_OUT",_="MAP:MAP_PLUGIN_LOAD",A="MAP:ORIENTATION",N="MAP:UPDATE_MAP_VIEW",T="MAP:UPDATE_MAP_OPTIONS";function P(e,t,r,n){return{type:_,mapType:t,loading:e,loaded:r,error:n}}function I(e,t,r){return{type:c,pos:e,zoom:t,crs:r}}function R(e,t,r,o,i,a,l,u){return{type:n,center:e,zoom:t,bbox:r,size:o,mapStateSource:i,projection:a,viewerOptions:l,resolution:u}}function M(e){return{type:s,crs:e}}function D(e,t){return{type:o,point:e,layer:t}}function L(e){return{type:i,pointer:e}}function F(e,t){return{type:a,zoom:e,mapStateSource:t}}function j(e,t,r,n){return{type:u,extent:e,crs:t,maxZoom:r,options:n}}function C(e,t){return{type:p,style:e,mapStateSource:t}}function x(e){return{type:m,disableFeedbackMask:e}}function U(){return{type:E}}function V(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:h,restrictedExtent:t,crs:r,minZoom:n}}function G(e){return{type:b,resolutions:e}}var Y=function(e,t){return{type:g,eventName:e,toolName:t}},k=function(e,t){return{type:O,eventName:e,toolName:t}},H=function(e){return{type:S,position:e}},Z=function(){return{type:w}},W=function(e){return{type:A,orientation:e}},q=function(e){return{type:T,configUpdate:e}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>l,Pn:()=>u,DZ:()=>c,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>d,pb:()=>v,Re:()=>y,ih:()=>m,xy:()=>E,jL:()=>h,oz:()=>b,ph:()=>g,lF:()=>O,gG:()=>S,cb:()=>w,GI:()=>_,B1:()=>A,fv:()=>N,gc:()=>T,zX:()=>P,ZF:()=>I,Zb:()=>R,DW:()=>M,Xp:()=>D,Fm:()=>L,sV:()=>F,LU:()=>j,XP:()=>C,WU:()=>x,mK:()=>U,g:()=>V,ws:()=>G,HP:()=>Y,aN:()=>k,Pg:()=>Z,u0:()=>W,TM:()=>q,PM:()=>X,lK:()=>z,sv:()=>J,MO:()=>K,oO:()=>$,Mc:()=>Q,Zw:()=>B,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe,Qu:()=>ie,kT:()=>ae});var n=r(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",u="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",v="HIDE_REVERSE_GEOCODE",y="NO_QUERYABLE_LAYERS",m="CLEAR_WARNING",E="FEATURE_INFO_CLICK",h="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",b="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",g="TOGGLE_MAPINFO_STATE",O="UPDATE_CENTER_TO_MARKER",S="IDENTIFY:CHANGE_PAGE",w="IDENTIFY:CLOSE_IDENTIFY",_="IDENTIFY:CHANGE_FORMAT",A="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",N="IDENTIFY:EDIT_LAYER_FEATURES",T="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",P="IDENTIFY:SET_MAP_TRIGGER",I="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",R="IDENTIFY:SET_SHOW_IN_MAP_POPUP",M="IDENTIFY:IDENTIFY_IS_MOUNTED",D="IDENTIFY:INIT_PLUGIN";function L(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function F(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function j(){return{type:y}}function C(){return{type:m}}function x(e,t){return{type:u,reqId:e,request:t}}function U(e){return{type:l,enabled:e}}function V(){return{type:c}}function G(e){return{type:s,infoFormat:e}}function Y(){return{type:f}}function k(){return{type:p}}function H(e){return{type:d,reverseGeocodeData:e.data}}function Z(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function W(){return{type:v}}function q(){return{type:g}}function X(e){return{type:O,status:e}}function z(e,t){return{type:E,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function J(e){return{type:h,point:e}}function K(e){return{type:b,enabled:e}}function $(e){return{type:S,index:e}}var Q=function(){return{type:w}},B=function(e){return{type:_,format:e}},ee=function(e){return{type:A,showCoordinateEditor:e}},te=function(e){return{type:N,layer:e}},re=function(e){return{type:T,query:e}},ne=function(e){return{type:P,trigger:e}},oe=function(e){return{type:R,value:e}},ie=function(e){return{type:M,isMounted:e}},ae=function(e){return{type:D,cfg:e}}},362520:(e,t,r)=>{"use strict";r.d(t,{dn:()=>n,NS:()=>o,Kn:()=>i,FV:()=>a,Vd:()=>l,yS:()=>u});var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT",o="MAP_LAYOUT:UPDATE_DOCK_PANELS",i="MAP_LAYOUT:FORCE_UPDATE_MAP_LAYOUT";function a(e){return{type:n,layout:e}}function l(e){return{type:o,name:e,action:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",location:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right"}}function u(){return{type:i}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(375875),o=r.n(n),i=r(472500),a=r.n(i),l=r(727418),u=r.n(l),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var r=u()({q:e},c,t||{}),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=u()({lat:e.lat,lon:e.lng},t||{},c),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},249243:(e,t,r)=>{"use strict";r.d(t,{y:()=>h});var n=r(747037),o=r.n(n),i=r(414293),a=r.n(i),l=r(49977),u=r(945402),c=r(375875),s=r.n(c),f=r(916651),p=r(453005);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=i.attachJSON,d=i.itemId,y=void 0===d?null:d,E=(0,u.pf)(r,e,t)?function(t){return(0,u.pf)(r,e,t)}:function(t){return l.Observable.defer((function(){return s().get(e,{params:t})}))};return c&&!(0,u.Ku)(t)?l.Observable.forkJoin(E(t),E(m(m({},t),{},{info_format:null!=r&&null!==(n=r.infoFormats)&&void 0!==n&&n.includes(p.qk)?p.qk:p.CV})).map((function(e){return e.data})).catch((function(){return l.Observable.of({})}))).map((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];return m(m({},o),{},{features:i&&i.features&&i.features.filter((function(e){return!!a()(y)||e.id===y})),featuresCrs:i&&i.crs&&(0,f.parseURN)(i.crs)})})):E(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:o()(e)?e:m(m({},e),{},{features:e.features&&e.features.filter((function(e){return!y||e.id===y}))}),features:e.features&&e.features.filter((function(e){return!y||e.id===y})),featuresCrs:e&&e.crs&&(0,f.parseURN)(e.crs)}}))}},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>v,Nr:()=>y,QJ:()=>m,ic:()=>E,Jz:()=>h,VM:()=>b,CF:()=>g,Ju:()=>O,Fc:()=>S,gQ:()=>w});var n=r(91175),o=r.n(n),i=r(288306),a=r.n(i),l=r(800827),u=r(552259),c=r(737275);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){return e.maplayout&&e.maplayout.layout||{}},y=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},m=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},E=a()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v(e),o=m(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},d({},t,r&&null!==(i=o[t])&&void 0!==i?i:n[t]))}),{})||{}}),(function(e,t,r){return JSON.stringify(v(e))+JSON.stringify(m(e))+JSON.stringify(t)+(r?"_isDock":"")})),h=function(e){var t;return!(null===(t=v(e))||void 0===t||!t.rightPanel)},b=function(e){var t,r=c.ZP.getConfigProp("mapLayout")||u.Ur;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=v(e);return!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==r?void 0:r.bottom.sm)&&void 0!==t?t:0,type:"not"}])},g=function(e){var t=(0,l.Od)(e),r=y(e);return r&&t&&t.size&&{left:(0,u.pb)(r.left,t.size.width),bottom:(0,u.pb)(r.bottom,t.size.height),right:(0,u.pb)(r.right,t.size.width),top:(0,u.pb)(r.top,t.size.height)}},O=function(e){var t,r;return null!==(t=null==e||null===(r=e.maplayout)||void 0===r?void 0:r.dockPanels)&&void 0!==t?t:{left:[],right:[]}},S=function(e){return E(e,{height:!0,right:!0},!0)},w=function(e){return E(e,{right:!0},!0)}},902870:(e,t,r)=>{"use strict";r.d(t,{Qo:()=>d,jg:()=>v,oH:()=>y});var n=r(227361),o=r.n(n),i=r(453005),a=r(916651),l=r(552259);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&i.O7[r]||t.format},v=function(e){return!!o()(e,"layer.search.url")},y=function(e,t){var r,n,i,u=o()(e,"latlng.lng"),c=o()(e,"latlng.lat"),f=(0,a.reproject)([u,c],"EPSG:4326",t),d=(0,l.v5)(l.hL);if(d){var v=(n=d([f.x,f.y]),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,i)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());r={x:v[0],y:v[1]}}else r=e.pixel;var y=(0,l.v5)(l.kW),m=y?(0,a.calculateCircleRadiusFromPixel)(y,r,f,5):5*e.resolution,E={type:"geometry",enabled:!0,value:{geometry:{center:[f.x,f.y],coordinates:(0,a.calculateCircleCoordinates)(f,m,12),extent:[f.x-m,f.y-m,f.x+m,f.y+m],projection:t,radius:m,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return s(s({},e),{},{pixel:r,geometricFilter:E})}},228261:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n),i=r(45697),a=r.n(i),l=["id","className","style","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}function c(e){var t=e.id,r=e.className,n=e.style,i=e.children,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l),c=r?" "+r:"";return o().createElement(o().Fragment,null,o().createElement("div",u({},a,{id:t,className:"gn-spinner".concat(c),style:n}),o().createElement("div",null)),i)}c.propTypes={id:a().string,className:a().string,style:a().object},c.defaultProps={};const s=c},51605:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n.Z});var n=r(228261)},406722:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>me});var n=r(124852),o=r.n(n),i=r(45697),a=r.n(i),l=r(322843),u=r(171703),c=r(480681),s=r(22222),f=r(805346),p=r(303744),d=r(507412),v=r(790796),y=r(184131),m=r(200020),E=r(51605),h=r(782904),b="SHORELINE:SET_SHORELINE_REGION",g="SHORELINE:UPDATE_SHORELINE_SELECTED_MEDIA_TYPE",O="SHORELINE:SHORELINE_FEATURE_INFO_CLICK",S="SHORELINE:SHORELINE_SELECTED_FEATURE",w="SHORELINE:LOAD_SELECTED_MEDIA_DATASET_FEATURES",_="SHORELINE:SELECT_FIRST_MEDIA_FEATURE",A="SHORELINE:SELECT_PREVIOUS_MEDIA_FEATURE",N="SHORELINE:SELECT_NEXT_MEDIA_FEATURE",T="SHORELINE:SELECT_LAST_MEDIA_FEATURE",P="SHORELINE:SET_SHORELINE_LOADING",I=function(e){return{type:b,selectedRegion:e}},R=function(e){return{type:g,selectedMediaType:e}},M=function(e,t){return{type:S,selectedFeature:e,selectedFeatureProjection:t}},D=function(e){return{type:P,loading:e}},L=r(49977),F=r.n(L),j=r(362520),C=r(55105),x=r(737275),U=r(226735),V=r(801550),G=r(580416),Y=r(460604),k=r(902870),H=r(800827),Z=r(921914),W=r(249243),q=r(916651),X=r(432420);function z(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var K={radius:10,weight:3,color:"#33eeff",opacity:.9,fillColor:"#33eeff",fillOpacity:0},$={weight:8,color:"#33eeff",opacity:.8,fillColor:"#33eeff",fillOpacity:.8};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ne={gnUpdateShorelineViewerMapLayoutEpic:function(e,t){return e.ofType(j.dn).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r||null===(n=r.shorelineViewer)||void 0===n?void 0:n.enabled})).filter((function(e){return e.source!==U.O.PANEL})).map((function(e){var r,n,o,i=e.layout,a=(0,x.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}},l=(0,C.QJ)(t.getState()),u=null!==(r=t.getState())&&void 0!==r&&null!==(n=r.controls)&&void 0!==n&&null!==(o=n.drawer)&&void 0!==o&&o.enabled?a.left.sm:null,c=(0,j.FV)(te(te(te(te({},(0,C.Ss)(t.getState())),i),{},{right:a.right.md},u&&{left:u}),{},{boundingMapRect:te(te({},(null==i?void 0:i.boundingMapRect)||{}),{},{right:a.right.md},u&&{left:u}),boundingSidebarRect:te(te({},l),i.boundingSidebarRect)}));return te(te({},c),{},{source:U.O.PANEL})}))},openShorelineViewerEpic:function(e,t){return e.ofType(h.At).filter((function(e){return"shorelineViewer"===e.control})).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r||null===(n=r.shorelineViewer)||void 0===n?void 0:n.enabled})).switchMap((function(){var e,r,n,o,i,a=t.getState().localConfig.plugins.map_viewer.find((function(e){return"ShorelineViewer"===e.name}));return F().Observable.of((0,Z.g)(),(0,Z.aN)(),(0,Z.TM)(),(0,V.H0)("click","shorelineViewer"),(0,Y.W)("shoreline-viewer-extents","ShorelineViewer","overlay",{id:"shoreline-viewer-extents",name:"shoreline-viewer-extents",type:"vector",features:a.cfg.regions.map((function(e){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[e.extent[0],e.extent[1]],[e.extent[0],e.extent[3]],[e.extent[2],e.extent[3]],[e.extent[2],e.extent[1]],[e.extent[0],e.extent[1]]]]},style:{weight:3,color:"#007d4d",opacity:.8,fillColor:"#007d4d",fillOpacity:0}}}))}),(0,V.Px)((r=(e=a.cfg.regions.map((function(e){return e.extent}))).map((function(e){return e[0]})),n=e.map((function(e){return e[1]})),o=e.map((function(e){return e[2]})),i=e.map((function(e){return e[3]})),[Math.min.apply(Math,z(r)),Math.min.apply(Math,z(n)),Math.max.apply(Math,z(o)),Math.max.apply(Math,z(i))]),"EPSG:4326"))}))},closeShorelineViewerEpic:function(e){return e.ofType(h.At).filter((function(e){return"shorelineViewer"===e.control})).filter((function(e){return"enabled"===e.property&&!1===e.value})).switchMap((function(){return F().Observable.of((0,Y.fU)({owner:"ShorelineViewer"}),I(null),R(null),M(null),(0,Z.TM)(),(0,V.$X)("click","shorelineViewer"))}))},zoomToSelectedShorelineRegionEpic:function(e,t){return e.ofType(b).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r||null===(n=r.shorelineViewer)||void 0===n?void 0:n.enabled})).switchMap((function(e){var r,n,o,i,a=t.getState(),l=null===(r=a.security)||void 0===r||null===(n=r.user)||void 0===n||null===(o=n.info)||void 0===o?void 0:o.access_token,u=null===(i=a.gnsettings)||void 0===i?void 0:i.geoserverUrl;return F().Observable.of(M(null),R(null),(0,Y.fU)({id:"shoreline-viewer-selected-feature"}),(0,Y.fU)({id:"shoreline-classification-layer"}),(0,Y.W)("shoreline-classification-layer","ShorelineViewer","overlay",{type:"wms",url:"".concat(u,"wms"),name:e.selectedRegion.shorelineClassificationDataset,format:"image/png8",params:{access_token:l}}),(0,V.Px)(e.selectedRegion.extent,"EPSG:4326"))}))},selectShorelineFeatureEpic:function(e,t){return e.ofType(V.TR).filter((function(){var e,r;return null===(e=t.getState().controls)||void 0===e||null===(r=e.shorelineViewer)||void 0===r?void 0:r.enabled})).switchMap((function(e){var r,n=e.point,o=[],i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(t.getState().additionallayers);try{for(i.s();!(r=i.n()).done;){var a=r.value;"shoreline-classification-layer"!==a.id&&"shoreline-media-layer"!==a.id||o.push(a.options.name)}}catch(e){i.e(e)}finally{i.f()}if(o){var l=(0,H.uy)(t.getState()),u=(0,k.oH)(n,l);return F().Observable.of(function(e,t){return{type:O,point:e,layers:t}}(u,o))}return F().Observable.empty()}))},getShorelineFeatureInfoClickEpic:function(e,t){return e.ofType(O).filter((function(e){return e.layers&&e.layers.length>0})).switchMap((function(e){var r,n,o,i=e.point,a=e.layers,l=t.getState(),u=null===(r=l.security)||void 0===r||null===(n=r.user)||void 0===n||null===(o=n.info)||void 0===o?void 0:o.access_token,c=l.map.present.bbox,s=l.map.present.size,f=l.map.present.projection,p=l.additionallayers.filter((function(e){return e.options.name===a[0]}))[0].options.url;if(p){var d=[c.bounds.minx,c.bounds.miny,c.bounds.maxx,c.bounds.maxy],v=parseInt(i.pixel.x,10),y=parseInt(i.pixel.y,10),m={service:"WMS",version:"1.1.1",request:"GetFeatureInfo",info_format:"application/json",layers:"".concat(a),query_layers:"".concat(a),access_token:u,bbox:"".concat(d),srs:"".concat(c.crs),x:"".concat(v),y:"".concat(y),height:"".concat(s.height),width:"".concat(s.width)};return(0,W.y)(p,m,a).map((function(e){return M(e.features[0],f)}))}return F().Observable.empty()}))},selectMediaFeatureEpic:function(e,t){return e.ofType(S).filter((function(e){return e.selectedFeature})).filter((function(){var e;return null===(e=t.getState().shorelineViewer)||void 0===e?void 0:e.selectedFeature})).switchMap((function(e){var t,r,n,o,i,a,l=e.selectedFeature.geometry.coordinates,u=e.selectedFeature.geometry;if("MultiLineString"===u.type){var c=[];u.coordinates[0].filter((function(t){var r=(0,q.reproject)(t,e.selectedFeatureProjection,"EPSG:4326");c.push(r)})),i=(o=c).map((function(e){return e.x})),a=o.map((function(e){return e.y})),t=[Math.min.apply(Math,z(i)),Math.min.apply(Math,z(a)),Math.max.apply(Math,z(i)),Math.max.apply(Math,z(a))],r=[c.map((function(e){return[e.x,e.y]}))],n=$}else if("Point"===u.type){var s=(0,q.reproject)(l,e.selectedFeatureProjection,"EPSG:4326");r=[s.x,s.y],n=K,t=[r[0],r[1],r[0],r[1]]}return F().Observable.of((0,Y.W)("shoreline-viewer-selected-feature","ShorelineViewer","overlay",{id:"shoreline-viewer-selected-feature",name:"shoreline-viewer-selected-feature",type:"vector",features:[{type:"Feature",properties:{},geometry:{type:u.type,coordinates:r},style:n}]}),(0,V.Px)(t,"EPSG:4326",14))}))},displayShorelineMediaLayerEpic:function(e,t){return e.ofType(g).filter((function(e){return e.selectedMediaType})).switchMap((function(e){var r,n,o,i,a=t.getState(),l="Photos"===e.selectedMediaType.name?a.shorelineViewer.selectedRegion.photoDataset:a.shorelineViewer.selectedRegion.videoLayerName,u=null===(r=a.security)||void 0===r||null===(n=r.user)||void 0===n||null===(o=n.info)||void 0===o?void 0:o.access_token,c=null===(i=a.gnsettings)||void 0===i?void 0:i.geoserverUrl;return F().Observable.of((0,Y.fU)({id:"shoreline-viewer-selected-feature"}),M(null),(0,Y.W)("shoreline-media-layer","ShorelineViewer","overlay",{layerId:"shoreline-viewer-selected-feature",type:"wms",url:"".concat(c,"wms"),name:l,format:"image/png8",params:{access_token:u}}))}))},loadSelectedMediaDatasetFeaturesEpic:function(e,t){return e.ofType(Y.jJ).filter((function(){var e,r;return null===(e=t.getState().controls)||void 0===e||null===(r=e.shorelineViewer)||void 0===r?void 0:r.enabled})).filter((function(e){return"shoreline-media-layer"===e.id})).filter((function(){var e;return"Photos"===(null===(e=t.getState().shorelineViewer)||void 0===e?void 0:e.selectedMediaType.name)})).switchMap((function(){var e,r,n,o,i=t.getState(),a=null===(e=i.security)||void 0===e||null===(r=e.user)||void 0===r||null===(n=r.info)||void 0===n?void 0:n.access_token,l=t.getState().additionallayers.filter((function(e){return"shoreline-media-layer"===e.id}))[0],u=null===(o=i.gnsettings)||void 0===o?void 0:o.geoserverUrl,c="".concat(u,"wfs"),s={service:"WFS",version:"1.1.0",request:"GetFeature",outputFormat:"application/json",sortBy:"name",access_token:a};return F().Observable.fromPromise((0,X.Bm)(c,l.options.name,s)).map((function(e){return t=e.data,{type:w,selectedMediaDatasetFeatures:t};var t}))}))},selectFirstMediaFeatureEpic:function(e,t){return e.ofType(_).switchMap((function(){var e,r,n=null===(e=t.getState().shorelineViewer)||void 0===e||null===(r=e.selectedMediaDatasetFeatures)||void 0===r?void 0:r.features[0];return F().Observable.of(M(n,"EPSG:4269"))}))},selectPreviousMediaFeatureEpic:function(e,t){return e.ofType(A).switchMap((function(e){var r,n,o,i,a=null===(r=t.getState().shorelineViewer)||void 0===r||null===(n=r.selectedMediaDatasetFeatures)||void 0===n?void 0:n.features,l=e.selectedFeature.properties.name,u=a.findIndex((function(e){return e.properties.name===l})),c=null===(o=t.getState().shorelineViewer)||void 0===o||null===(i=o.selectedMediaDatasetFeatures)||void 0===i?void 0:i.features[u-1];return F().Observable.of(M(c,"EPSG:4269"))}))},selectNextMediaFeatureEpic:function(e,t){return e.ofType(N).switchMap((function(e){var r,n,o,i,a=null===(r=t.getState().shorelineViewer)||void 0===r||null===(n=r.selectedMediaDatasetFeatures)||void 0===n?void 0:n.features,l=e.selectedFeature.properties.name,u=a.findIndex((function(e){return e.properties.name===l})),c=null===(o=t.getState().shorelineViewer)||void 0===o||null===(i=o.selectedMediaDatasetFeatures)||void 0===i?void 0:i.features[u+1];return F().Observable.of(M(c,"EPSG:4269"))}))},selectLastMediaFeatureEpic:function(e,t){return e.ofType(T).switchMap((function(){var e,r,n=null===(e=t.getState().shorelineViewer)||void 0===e||null===(r=e.selectedMediaDatasetFeatures)||void 0===r?void 0:r.features,o=n[n.length-1];return F().Observable.of(M(o,"EPSG:4269"))}))},shorelineStartLoadingEpic:function(e,t){return e.ofType(G.cX).filter((function(){var e,r;return null===(e=t.getState().controls)||void 0===e||null===(r=e.shorelineViewer)||void 0===r?void 0:r.enabled})).filter((function(e){return!e.layerId})).switchMap((function(){return F().Observable.of(D(!0))}))},shorelineStopLoadingEpic:function(e,t){return e.ofType(G.x9).filter((function(){var e,r;return null===(e=t.getState().controls)||void 0===e||null===(r=e.shorelineViewer)||void 0===r?void 0:r.enabled})).filter((function(e){return!e.layerId})).switchMap((function(){return F().Observable.of(D(!1))}))}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=r(815135),ce=r(86638),se=["enabled"],fe=(0,ue.Z)(p.Z),pe=(0,u.connect)((0,s.P1)([function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedRegion},function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedMediaType}],(function(e,t){return{selectedRegion:e,selectedMediaType:t}})),{onSelectMediaType:R})((function(e){var t=e.selectedRegion,r=e.selectedMediaType,n=e.onSelectMediaType;return o().createElement("div",{className:"text-center col-xs-12"},[{name:"Photos",icon:"camera",tooltip:"shorelineviewer.displayPhotoTracklogsTooltip",datasetName:"photoDataset"},{name:"Videos",icon:"video-camera",tooltip:"shorelineviewer.displayVideoTracklogsTooltip",datasetName:"videoDataset"}].map((function(e){return o().createElement(fe,{className:"btn-primary",tooltipId:o().createElement(f.Z,{msgId:e.tooltip}),disabled:!(e.datasetName in t),key:e.name,active:r===e,onClick:function(){n(e)}},o().createElement(d.Z,{name:e.icon}))})))})),de=(0,u.connect)((0,s.P1)([function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedFeature},function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedMediaDatasetFeatures}],(function(e,t){return{selectedFeature:e,selectedMediaDatasetFeatures:t}})),{firstPhoto:function(e){return{type:_,selectedFeature:e}},previousPhoto:function(e){return{type:A,selectedFeature:e}},nextPhoto:function(e){return{type:N,selectedFeature:e}},lastPhoto:function(e){return{type:T,selectedFeature:e}}})((function(e){var t=e.selectedFeature,r=e.selectedMediaDatasetFeatures,n=e.firstPhoto,i=e.previousPhoto,a=e.nextPhoto,l=e.lastPhoto,u=r.features.findIndex((function(e){return e.properties.name===t.properties.name})),c=!1;0===u&&(c=!0);var s=!1;return u===r.features.length-1&&(s=!0),o().createElement("div",{className:"text-center col-xs-12"},o().createElement(fe,{className:"shoreline-viewer-media-navigation-button",tooltipId:o().createElement(f.Z,{msgId:"shorelineviewer.firstPhotoTooltip"}),disabled:c,onClick:function(){n(t)}},o().createElement(d.Z,{name:"angle-double-left"})),o().createElement(fe,{className:"shoreline-viewer-media-navigation-button",tooltipId:o().createElement(f.Z,{msgId:"shorelineviewer.previousPhotoTooltip"}),disabled:c,onClick:function(){i(t)}},o().createElement(d.Z,{name:"angle-left"})),o().createElement(fe,{className:"shoreline-viewer-media-navigation-button",tooltipId:o().createElement(f.Z,{msgId:"shorelineviewer.nextPhotoTooltip"}),disabled:s,onClick:function(){a(t)}},o().createElement(d.Z,{name:"angle-right"})),o().createElement(fe,{className:"shoreline-viewer-media-navigation-button",tooltipId:o().createElement(f.Z,{msgId:"shorelineviewer.lastPhotoTooltip"}),disabled:s,onClick:function(){l(t)}},o().createElement(d.Z,{name:"angle-double-right"})))}));function ve(e){var t=e.style,r=e.selectedRegion,i=e.selectedFeature,a=e.loading,l=e.messages,u=e.onClose,s=e.regions,p=e.onSelectRegion,d=(0,n.useRef)(!1);(0,n.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var v=s.map((function(e){return e.labelId=(0,ce.S$)(l,e.labelId),e}));return o().createElement("div",{className:"shoreline-viewer",style:t},o().createElement("div",{className:"shoreline-viewer-head"},o().createElement("div",{className:"shoreline-viewer-title"},o().createElement(f.Z,{msgId:"shorelineviewer.shorelineViewerTitle"})),o().createElement(fe,{className:"square-button",onClick:function(){return u()}},o().createElement(c.gG,{glyph:"1-close"}))),o().createElement("div",{className:"shoreline-viewer-body"},o().createElement(m.DropdownList,{className:"shoreline-viewer-dropdown",defaultValue:(0,ce.S$)(l,"shorelineviewer.defaultRegionSelect"),onChange:function(e){p(e)},data:v,textField:"labelId",valueField:"id"}),o().createElement("div",{className:"shoreline-viewer-body"},null!=r&&o().createElement(pe,null)),o().createElement("div",{className:"shoreline-viewer-body-content"},a&&o().createElement("div",{className:"shoreline-viewer-spinner-container"},o().createElement(E.Z,null)),null!=i&&i.id.includes("shoreline_classification")&&o().createElement("div",{className:"shoreline-viewer-info-table"},o().createElement("div",{className:"shoreline-viewer-info-fields"},i.properties.upper_intertidal_scat_class&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Upper Intertidal SCAT Class"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.upper_intertidal_scat_class)),i.properties.shoreline_processes&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Shoreline Processes"),o().createElement("div",{className:"shoreline-viewer-info-value"},o().createElement("ul",{className:"shoreline-viewer-list"},i.properties.shoreline_processes.replace("[","").replace("]","").replace(/"/g,"").split(",").map((function(e){return o().createElement("li",null,e)}))))),i.properties.transportation_mode&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Transportation Mode"),o().createElement("div",{className:"shoreline-viewer-info-value"},o().createElement("ul",{className:"shoreline-viewer-list"},i.properties.transportation_mode.replace("[","").replace("]","").replace(/"/g,"").split(",").map((function(e){return o().createElement("li",null,e)}))))),i.properties.backshore_access&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Backshore Access"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.backshore_access)),i.properties.alongshore_access&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Alongshore Access"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.alongshore_access)),i.properties.length_m&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Length (m)"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.length_m)),i.properties.name&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Name"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.name)),i.properties.survey_year&&o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Survey Year"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.survey_year)))),null!=i&&i.id.includes("shoreline_photos")&&o().createElement("div",{className:"shoreline-viewer-body"},o().createElement("a",{href:"javascript:window.open('"+i.properties.photo+"', 'popup', 'width=800,height=600'); void(0)"},o().createElement("img",{className:"img-responsive",src:i.properties.photo})),o().createElement(de,null),o().createElement("div",{className:"shoreline-viewer-body"},o().createElement("div",{className:"shoreline-viewer-info-table"},o().createElement("div",{className:"shoreline-viewer-info-fields"},o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Date"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.date)),o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Time"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.time)),o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Latitude"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.lat)),o().createElement("div",{className:"shoreline-viewer-info-row"},o().createElement("div",{className:"shoreline-viewer-info-label"},"Longitude"),o().createElement("div",{className:"shoreline-viewer-info-value"},i.properties.lon)))))))))}ve.propTypes={onClose:a().func,onSelectRegion:a().func,addMarkers:a().func},ve.defaultProps={onClose:function(){},onSelectRegion:function(){},addMarkers:function(){}};var ye=(0,u.connect)((0,s.P1)([function(e){return(0,C.ic)(e,{height:!0})},function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.shorelineViewer)||void 0===r?void 0:r.enabled},function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedMediaType},function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedRegion},function(e){var t;return null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.selectedFeature},function(e){var t;return(null==e||null===(t=e.shorelineViewer)||void 0===t?void 0:t.loading)||!1},function(e){var t;return null==e||null===(t=e.locale)||void 0===t?void 0:t.messages}],(function(e,t,r,n,o,i,a){return{style:e,enabled:t,selectedMediaType:r,selectedRegion:n,selectedFeature:o,loading:i,messages:a}})),{onClose:h.Xg.bind(null,"shorelineViewer","enabled",!1),onSelectRegion:I,addMarkers:Y.W})((function(e){var t=e.enabled,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,se);return t?o().createElement(ve,r):null}));const me=(0,l.rx)("ShorelineViewer",{component:ye,containers:{SidebarMenu:{name:"ShorelineViewer",position:5,tooltip:"shorelineviewer.shorelineViewer",icon:o().createElement(v.G,{icon:y.FpQ,size:"2x"}),action:h.Xg.bind(null,"shorelineViewer","enabled","true"),doNotHide:!0,priority:2}},epics:ne,reducers:{shorelineViewer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return ae(ae({},e),{},{selectedRegion:t.selectedRegion});case g:return ae(ae({},e),{},{selectedMediaType:t.selectedMediaType});case O:return ae(ae({},e),{},{clickPoint:t.point,clickLayers:t.layers});case S:return ae(ae({},e),{},{selectedFeature:t.selectedFeature,selectedFeatureProjection:t.selectedFeatureProjection});case w:return ae(ae({},e),{},{selectedMediaDatasetFeatures:t.selectedMediaDatasetFeatures});case P:return ae(ae({},e),{},{loading:t.loading});default:return e}}}})},226735:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={PANEL:"PANEL"}}}]);