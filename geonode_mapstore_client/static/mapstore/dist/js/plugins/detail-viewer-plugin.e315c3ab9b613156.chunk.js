"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[95121],{893222:(e,r,n)=>{n.d(r,{gc:()=>g,Mc:()=>h,ex:()=>O,p:()=>w,aN:()=>P,iB:()=>E,j5:()=>j,gB:()=>S,QW:()=>k,w_:()=>Z,ji:()=>T,Z0:()=>C,Vf:()=>D,z_:()=>I,lC:()=>R,m2:()=>N,i7:()=>A,Ed:()=>M,ov:()=>L,WW:()=>V});var t=n(227361),o=n.n(t),i=n(91175),a=n.n(i),l=n(545578),u=n.n(l),s=(n(313311),n(747037)),c=n.n(s),d=n(675110),f=n(99009),v=n(274621);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function b(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){y(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function y(e,r,n){return(r=function(e){var r=function(e){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var g=function(e){return o()(e,"styleeditor.temporaryId")},h=function(e){return o()(e,"styleeditor.templateId")},O=function(e){return o()(e,"styleeditor.status")},w=function(e){return o()(e,"styleeditor.error")||{}},P=function(e){return o()(e,"styleeditor.loading")},E=function(e){return o()(e,"styleeditor.format")||"css"},j=function(e){return o()(e,"styleeditor.languageVersion")||{}},S=function(e){return o()(e,"styleeditor.code")},k=function(e){return o()(e,"styleeditor.initialCode")||""},Z=function(e){return o()(e,"styleeditor.addStyle")||""},T=function(e){return o()(e,"styleeditor.enabled")},C=function(e){return o()(e,"styleeditor.service")||{}},D=function(e){var r=(0,d.jN)(e);return b(b({},(0,d.Iz)(e)||{}),r&&r.options||{})},I=function(e){var r=function(e){return o()(e,"styleeditor.editingAllowedRoles",[])}(e),n=function(e){return o()(e,"styleeditor.editingAllowedGroups",[])}(e),t=(0,f.uW)(D(e),C(e));return(0,v.tv)({allowedRoles:r,allowedGroups:n})(e)&&t},R=function(e){var r=D(e),n=(0,f.Py)(r).geometryType;return void 0===n?"vector":n},N=function(e){var r=D(e),n=(0,f.Py)(r).properties;return void 0===n?{}:n},A=function(e){var r=D(e);return r.style||r.availableStyles&&r.availableStyles[0]&&r.availableStyles[0].name},M=function(e){var r=(D(e)||{}).availableStyles,n=void 0===r?[]:r,t=A(e);return a()(n.filter((function(e){return e.name===t})).map((function(e){return e.format})))},L=function(e){var r=D(e),n=r.availableStyles||[],t=(a()(n)||{}).name,o=r.style||r&&!r.style&&t;return{availableStyles:u()(n.map((function(e){var r=e&&e.title&&c()(e.title)&&e.title.split(f.I$),n=r&&r[0]||e.name;return b(b({},e),{},{label:n})})),"name"),defaultStyle:t,enabledStyle:o}},V=function(e){var r;return null==e||null===(r=e.styleeditor)||void 0===r?void 0:r.metadata}},474916:(e,r,n)=>{n.d(r,{Z:()=>c});var t=n(558422),o=n.n(t),i=n(45697),a=n.n(i),l=["href","readOnly","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},u.apply(null,arguments)}function s(e){var r=e.href,n=e.readOnly,t=e.children,i=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l);return n?t:o().createElement("a",u({href:r},i),t)}s.propTypes={href:a().string,readOnly:a().bool.isRequired,children:a().any},s.defaultProps={href:"",readOnly:!1};const c=s},834065:(e,r,n)=>{n.d(r,{Z:()=>f});var t=n(558422),o=n.n(t),i=n(45697),a=n.n(i),l=n(877593),u=n(474916),s=["resource","readOnly","formatHref","pathname"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(null,arguments)}function d(e){var r,n,t,i=e.resource,a=e.readOnly,d=e.formatHref,f=e.pathname,v=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);return v.detailsPanel?o().createElement(u.Z,{readOnly:a,href:d({pathname:f,query:{"filter{owner.username.in}":null===(t=i.owner)||void 0===t?void 0:t.username}})},i.owner&&(0,l.vW)(i.owner)):o().createElement("p",c({className:"card-text gn-card-user"},v),(null===(r=i.owner)||void 0===r?void 0:r.avatar)&&o().createElement("img",{src:i.owner.avatar,alt:(0,l.vW)(i.owner),className:"gn-card-author-image"}),o().createElement(u.Z,{readOnly:a,href:d({pathname:f,query:{"filter{owner.username.in}":null===(n=i.owner)||void 0===n?void 0:n.username}})},i.owner&&(0,l.vW)(i.owner)))}d.propTypes={resource:a().object,readOnly:a().bool,formatHref:a().func,props:a().any},d.defaultProps={resource:{},readOnly:!1,formatHref:function(){return"#"}};const f=d},138241:(e,r,n)=>{n.d(r,{Z:()=>b});var t=n(558422),o=n.n(t),i=n(805346),a=n(45697),l=n.n(a),u=n(507412),s=n(815135),c=n(441609),d=n.n(c),f=n(535721),v=n(638323),m=(0,s.Z)(v.Z),p=function(e){var r,n,t,a=e.resource,l=void 0===a?{}:a,s=(0,f.fu)(l),c=s.isApproved,v=s.isPublished,p=s.isProcessing,b=s.isCopying,y=s.isDeleting,g=s.isDeleted;return d()(l)?null:o().createElement("p",{className:"gn-resource-status-text"},!p&&(!c||!v)&&o().createElement(m,{variant:"default",className:"gn-resource-status gn-status-button",tooltip:(r={isApproved:c,isPublished:v},n=r.isApproved,t=r.isPublished,!n&&t?o().createElement(i.Z,{msgId:"gnhome.pendingApproval"}):n||t?t||n?"":o().createElement(i.Z,{msgId:"gnhome.unpublished"}):o().createElement(i.Z,{msgId:"gnhome.unApprovedunPublished"})),style:{marginRight:(y||g||b)&&"0.4rem"},tooltipPosition:"top"},o().createElement(u.Z,{name:"info-circle",className:"gn-resource-status-pending"})),y&&o().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},o().createElement(i.Z,{msgId:"gnviewer.deleting"})),g&&o().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},o().createElement(i.Z,{msgId:"gnviewer.deleted"})),b&&o().createElement("span",{className:"gn-resource-status gn-resource-status-primary"},o().createElement(i.Z,{msgId:"gnviewer.cloning"})))};p.propTypes={isApproved:l().bool,isPublished:l().bool},p.defaultProps={isApproved:!0,isPublished:!0};const b=p},30762:(e,r,n)=>{n.d(r,{Z:()=>d});var t=n(558422),o=n.n(t),i=n(414293),a=n.n(i),l=n(815135),u=n(17594);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(null,arguments)}var c=(0,l.Z)((function(e){return o().createElement("div",s({},e,{className:"gn-unadvertised"}),o().createElement(u.Z,{name:"eye-slash"}))}));const d=function(e){var r=e.resource;return a()(r.advertised)||r.advertised?null:o().createElement(c,{tooltipId:"gnviewer.unadvertised",className:"gn-unadvertised"})}},650079:(e,r,n)=>{n.d(r,{Z:()=>o});var t=n(558422);const o=function(e){var r=e.disabled,n=e.onClickOut,o=(0,t.useRef)();return(0,t.useEffect)((function(){function e(e){var t;!r&&(null==o||null===(t=o.current)||void 0===t?void 0:t.contains)&&!o.current.contains(e.target)&&n()}return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}),[r,o,n]),o}},829863:(e,r,n)=>{n.r(r),n.d(r,{default:()=>V});var t=n(558422),o=n.n(t),i=n(322843),a=n(171703),l=n(22222),u=n(737275),s=n(257218),c=n(274621),d=n(643892),f=n(452992),v=n(17594),m=n(925108),p=n(782904),b=n(572036),y=n(299392),g=n(638323),h=n(650079),O=n(64469),w=n(709275),P=n(877593),E=n(805346),j=n(675110),S=n(800827),k=n(770058),Z=n(678833),T=n(535721),C=["hide"];function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function I(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function R(e,r,n){return(r=function(e){var r=function(e){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var N=(0,a.connect)((0,l.P1)([function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.data)||null},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.loading)||!1},function(e){var r,n;return(null==e||null===(r=e.gnresource)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.favorite)||!1},function(e){var r;return(null==e||null===(r=e.gnsave)||void 0===r?void 0:r.savingThumbnailMap)||!1},j.l2,y.km,y.Bs,S.Od,function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.showMapThumbnail)||!1},f.WB],(function(e,r,n,t,o,i,a,l,u,s){return{layers:o,resource:e,loading:r,savingThumbnailMap:t,favorite:n,isThumbnailChanged:i,resourceThumbnailUpdating:a,initialBbox:null==l?void 0:l.bbox,enableMapViewer:u,downloading:s,resourceId:e.pk}})),{closePanel:p.Xg.bind(null,"rightOverlay","enabled",!1),onFavorite:d.gw,onMapThumbnail:d.CB,onResourceThumbnail:d.e5,onClose:d.qs,onSetExtent:d.rg})(s.Z),A=(0,a.connect)((0,l.P1)([y.V$,y.fg,y.L4],(function(e,r,n){return{hide:e||!r,resourceType:n}})),{onClick:p.Xg.bind(null,"rightOverlay","enabled","DetailViewer")})((function(e){var r=e.onClick,n=e.hide,t=e.variant,i=e.size,a=e.showMessage,l=e.resourceType,u=((0,T.s2)()[l]||{}).icon,s=void 0===u?"info-circle":u;return n?null:o().createElement(g.Z,{variant:t,size:i,onClick:function(){r()}},a?o().createElement(E.Z,{msgId:"gnviewer.viewInfo"}):o().createElement(v.Z,{name:s}))}));function M(e,r){var n=e.location,t=e.enabled,i=e.onEditResource,a=e.onEditAbstractResource,l=e.onEditThumbnail,u=e.canEdit,s=e.user,c=e.onClose,d=e.monitoredState,f=e.queryPathname,v=void 0===f?"/":f,m=e.tabs,p=void 0===m?[]:m,b=e.items,y=e.resourceId,g=(0,k._y)(d,{tabs:p}),w=(0,h.Z)({disabled:!t,onClickOut:function(){c()}}),E=r.loadedPlugins,j=(0,Z.Z)({items:b,loadedPlugins:E},[y]).filter((function(e){return"toolbar"===e.target}));return o().createElement(O.Z,{enabled:t,ref:w,className:"gn-overlay-wrapper"},o().createElement(N,{editTitle:function(e){i(e)},editAbstract:function(e){a(e)},editThumbnail:function(e){l(e,!0)},activeEditMode:t&&u,enableFavorite:!!s,formatHref:function(e){return(0,P.nz)(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?I(Object(n),!0).forEach((function(r){R(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({location:n},e))},tabs:g.tabs,pathname:v,toolbarItems:j}))}var L=(0,a.connect)((0,l.P1)([function(e){var r,n;return"DetailViewer"===(null==e||null===(r=e.controls)||void 0===r||null===(n=r.rightOverlay)||void 0===n?void 0:n.enabled)},y.il,y.V$,y.fg,c.np,function(e){return(0,i.bh)(e,(0,u.u8)("monitorState"))},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.data)||null}],(function(e,r,n,t,o,i,a){return{enabled:e,canEdit:r,hide:n||!t,user:o,monitoredState:i,resourceId:null==a?void 0:a.pk}})),{onEditResource:d.Br,onEditAbstractResource:d.bI,onEditThumbnail:d.U5,onClose:p.Xg.bind(null,"rightOverlay","enabled",!1)})((0,w.EN)((function(e){var r=e.hide,n=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,C);return r?null:o().createElement(M,n)})));const V=(0,i.rx)("DetailViewer",{component:L,containers:{ActionNavbar:{name:"DetailViewerButton",Component:A}},reducers:{gnresource:b.Z,controls:m.Z}})},713954:(e,r,n)=>{n.r(r),n.d(r,{default:()=>W});var t=n(558422),o=n.n(t),i=n(322843),a=n(171703),l=n(22222),u=n(737275),s=n(257218),c=n(274621),d=n(643892),f=n(452992),v=n(17594),m=n(925108),p=n(782904),b=n(572036),y=n(805207),g=n(299392),h=n(893222),O=n(638323),w=n(650079),P=n(64469),E=n(709275),j=n(877593),S=n(805346),k=n(800827),Z=n(535721),T=n(770058),C=n(815135),D=n(49977),I=n(441609),R=n.n(I),N=n(995307);const A={gnGetLayerLinkedResources:function(e,r){return e.ofType(d.ac).filter((function(e){var n,t;return!e.pending&&(null===(n=e.data)||void 0===n?void 0:n.pk)&&R()(null===(t=(0,g.Js)(r.getState()))||void 0===t?void 0:t.linkedResources)})).switchMap((function(e){return D.Observable.defer((function(){return(0,N.NH)(e.data.pk).then((function(e){var r,n,t=null!==(r=e.linked_to)&&void 0!==r?r:[],o=null!==(n=e.linked_by)&&void 0!==n?n:[];return R()(t)&&R()(o)?{}:{linkedTo:t,linkedBy:o}})).catch((function(){return[]}))})).switchMap((function(e){return D.Observable.of((0,d.Ao)({linkedResources:e}))}))}))}};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function L(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function V(e,r,n){return(r=function(e){var r=function(e){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var B=(0,C.Z)(O.Z),_=(0,a.connect)((0,l.P1)([function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.layerDataset)||null},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.loading)||!1},function(e){var r,n;return(null==e||null===(r=e.gnresource)||void 0===r||null===(n=r.layerDataset)||void 0===n?void 0:n.favorite)||!1},function(e){var r;return(null==e||null===(r=e.gnsave)||void 0===r?void 0:r.savingThumbnailMap)||!1},g.km,g.Bs,k.Od,function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.showMapThumbnail)||!1},f.WB],(function(e,r,n,t,o,i,a,l,u){return{resource:e,loading:r,savingThumbnailMap:t,favorite:n,isThumbnailChanged:o,resourceThumbnailUpdating:i,initialBbox:null==a?void 0:a.bbox,enableMapViewer:l,downloading:u,canDownload:(0,Z.sH)(e,"download_resourcebase"),resourceId:e.pk}})),{closePanel:p.Xg.bind(null,"rightOverlay","enabled",!1),onFavorite:d.gw,onMapThumbnail:d.CB,onResourceThumbnail:d.e5,onClose:d.qs,onAction:d.Rk})(s.Z),x=(0,a.connect)((0,l.P1)([h.Vf],(function(e){return{layer:e}})),{onClick:p.Xg.bind(null,"rightOverlay","enabled","LayerDetailViewer")})((function(e){var r,n=e.onClick,t=e.layer,i=e.size,a=e.status,l=e.showMessage;return(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk)&&"LAYER"===a?o().createElement(B,{variant:"primary",className:"square-button-md",size:i,onClick:function(){n()},tooltipId:o().createElement(S.Z,{msgId:"gnviewer.info"})},l?o().createElement(S.Z,{msgId:"gnviewer.editInfo"}):o().createElement(v.Z,{name:"info-circle"})):null})),z=(0,a.connect)((0,l.P1)([function(e){var r,n;return"LayerDetailViewer"===(null==e||null===(r=e.controls)||void 0===r||null===(n=r.rightOverlay)||void 0===n?void 0:n.enabled)},g.il,h.Vf,g.fg,c.np,function(e){return(0,i.bh)(e,(0,u.u8)("monitorState"))}],(function(e,r,n,t,o){return{enabled:e,canEdit:r,layer:n,user:t,monitoredState:o}})),{onEditResource:d.Br,onEditAbstractResource:d.bI,onEditThumbnail:d.U5,onClose:p.Xg.bind(null,"rightOverlay","enabled",!1)})((0,E.EN)((function(e){var r=e.location,n=e.enabled,t=e.onEditResource,i=e.onEditAbstractResource,a=e.onEditThumbnail,l=e.canEdit,u=e.user,s=e.onClose,c=e.monitoredState,d=e.queryPathname,f=void 0===d?"/":d,v=e.tabs,m=void 0===v?[]:v,p=(0,T._y)(c,{tabs:m}),b=(0,w.Z)({disabled:!n,onClickOut:function(){s()}});return o().createElement(P.Z,{enabled:n,ref:b,className:"gn-overlay-wrapper"},o().createElement(_,{editTitle:function(e){t(e)},editAbstract:function(e){i(e)},editThumbnail:function(e){a(e,!0)},activeEditMode:n&&l,enableFavorite:!!u,formatHref:function(e){return(0,j.nz)(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?L(Object(n),!0).forEach((function(r){V(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({location:r},e))},tabs:p.tabs,pathname:f}))})));const W=(0,i.rx)("LayerDetailViewer",{component:z,containers:{TOC:{target:"toolbar",Component:x}},epics:A,reducers:{gnresource:b.Z,gnsearch:y.Z,controls:m.Z}})},572036:(e,r,n)=>{n.d(r,{Z:()=>P});var t=n(618446),o=n.n(t),i=n(441609),a=n.n(i),l=n(957557),u=n.n(l),s=n(643892),c=n(535721),d=["data"],f=["data"],v=["features"],m=["features"],p=["features"];function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function h(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?g(Object(n),!0).forEach((function(r){O(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function O(e,r,n){return(r=function(e){var r=function(e){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var w={selectedLayerPermissions:[],data:{},permissions:[]};const P=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s.$X:return w;case s.ql:return h(h({},r),{},{configError:void 0,loadingResourceConfig:n.loading});case s.nS:return h(h({},r),{},{loading:!1,configError:n.message});case s.W:return h(h({},r),{},{loading:!0});case s.Zf:var t,i,l=(0,c.NN)(n.data||{}),b=(l.data,h({},y(l,d))),g=null===(t=r.data)||void 0===t?void 0:t.linkedResources;return a()(g)||b.pk!==(null===(i=r.data)||void 0===i?void 0:i.pk)||(b.linkedResources=g),h(h({},r),{},{error:null,initialResource:h({},l),data:b,loading:!1,isNew:!1});case s.ac:var O,P,E=n.data||{},j=(E.data,h({},y(E,f))),S=null===(O=r.layerDataset)||void 0===O?void 0:O.linkedResources;return a()(S)||j.pk!==(null===(P=r.layerDataset)||void 0===P?void 0:P.pk)||(j.linkedResources=S),h(h({},r),{},{error:null,initialLayerResource:h({},n.data),layerDataset:j,loading:!1});case s.Eu:return h(h({},r),{},{initialResource:null,data:null,error:n.error,loading:!1});case s.Vy:return h(h({},r),{},{data:h(h({},r.data),n.properties)});case s.I:return h(h({},r),{},{layerDataset:h(h({},r.layerDataset),n.properties)});case s.YB:return h(h({},r),{},{type:n.resourceType});case s.xm:return h(h({},w),{},{isNew:!0});case s._f:return h(h({},r),{},{id:n.id});case s.ek:return h(h({},r),{},{permissions:n.permissions});case s.cd:return h(h({},r),{},{data:h(h({},null==r?void 0:r.data),{},{title:null==n?void 0:n.title,name:null==n?void 0:n.title})});case s.pt:return h(h({},r),{},{data:h(h({},null==r?void 0:r.data),{},{abstract:null==n?void 0:n.abstract})});case s.ww:return h(h({},r),{},{data:h(h({},null==r?void 0:r.data),{},{thumbnail_url:null==n?void 0:n.thumbnailUrl,thumbnailChanged:null==n?void 0:n.thumbnailChanged})});case s._Z:return h(h({},r),{},{data:h(h({},null==r?void 0:r.data),{},{updatingThumbnail:!0})});case s.dh:return h(h({},r),{},{showMapThumbnail:n.enabled});case s.p2:return h(h({},r),{},{selectedLayerPermissions:n.permissions});case s.ih:return h(h({},r),{},{initialCompactPermissions:n.compactPermissions,compactPermissions:n.compactPermissions,isCompactPermissionsChanged:!1,geoLimits:[]});case s.J5:return h(h({},r),{},{compactPermissions:n.compactPermissions,isCompactPermissionsChanged:!o()((0,c.go)(r.initialCompactPermissions),(0,c.go)(n.compactPermissions)),geoLimits:(0,c.vB)(n.compactPermissions)});case s.uA:if(r.compactPermissions){var k=r.compactPermissions,Z=k.users,T=k.organizations,C=k.groups;return h(h({},r),{},{compactPermissions:{users:Z.map((function(e){return e.features,y(e,v)})),organizations:T.map((function(e){return e.features,y(e,m)})),groups:C.map((function(e){return e.features,y(e,p)}))},geoLimits:[]})}return r;case s.Y0:return h(h({},r),{},{data:h(h({},r.data),{},{extent:h(h({},null===(e=r.data)||void 0===e?void 0:e.extent),{},{coords:n.coords})})});case s.sA:return h(h({},r),{},{params:n.params});case s.ip:return h(h({},r),{},{viewerLinkedResource:h({},(0,c.NN)(u()(n.resource,["data"])))});case s.F_:return h(h({},r),{},{defaultViewerPlugins:n.plugins});case s.um:return h(h({},r),{},{selectedLayer:n.layer});default:return r}}}}]);