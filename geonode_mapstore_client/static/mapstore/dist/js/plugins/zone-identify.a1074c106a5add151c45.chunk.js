(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[15014,47310],{460604:(e,t,n)=>{"use strict";n.d(t,{hn:()=>r,yg:()=>o,vD:()=>i,jJ:()=>u,oy:()=>a,am:()=>l,W:()=>c,B1:()=>f,YP:()=>s,fU:()=>y,cY:()=>p});var r="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",l="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",c=function(e,t){return{type:u,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},f=function(e,t){return{type:a,owner:e,options:t}},s=function(e,t){return{type:l,owner:e,options:t}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:o,id:t,owner:n}},p=function(e){return{type:i,owner:e}}},604206:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r,pb:()=>o,kD:()=>i,DI:()=>u,IC:()=>a,uB:()=>f,Rh:()=>s,G_:()=>y,vU:()=>p,Vw:()=>d,KD:()=>E,uj:()=>m,lo:()=>v,Yf:()=>O,fo:()=>g,PY:()=>b,bp:()=>I,oJ:()=>A,k4:()=>_,sc:()=>T,Li:()=>N});var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",c="DRAW:DRAWING_FEATURES",f="DRAW:SET_SNAPPING_LAYER",s="DRAW:SNAPPING_IS_LOADING",y="DRAW:TOGGLE_SNAPPING",p="DRAW:SET_SNAPPING_CONFIG";function d(e,t,n,r,o){return{type:u,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function E(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function m(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function v(){return{type:a}}function O(e,t,n,o,i,u){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:u}}function g(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var I=function(e){return O("clean","",e,[],{})};function A(){return{type:y}}function _(e){return{type:f,snappingLayer:e}}function T(){return{type:s}}function N(e,t,n){return{type:p,value:e,prop:t,pluginCfg:n}}},580416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>u,OX:()=>a,sb:()=>l,K$:()=>c,k7:()=>f,cX:()=>s,x9:()=>y,vs:()=>p,oE:()=>d,Po:()=>E,qv:()=>m,cI:()=>v,g6:()=>O,I4:()=>g,l$:()=>b,Xv:()=>I,k3:()=>A,CQ:()=>_,R8:()=>T,HN:()=>N,sH:()=>S,c7:()=>P,_7:()=>R,eF:()=>h,O6:()=>D,ED:()=>L,RP:()=>F,sF:()=>M,VP:()=>w,He:()=>G,vO:()=>Y,WO:()=>C,bh:()=>z,MK:()=>U,ZF:()=>j,tV:()=>Z,Dv:()=>H,Yz:()=>k,kI:()=>W,XG:()=>x,A4:()=>V,Rp:()=>X,$o:()=>q,ct:()=>J,oh:()=>K,$h:()=>Q,ud:()=>B,Qr:()=>$,LR:()=>ee,nN:()=>te,UG:()=>ne,c9:()=>re,Xy:()=>oe});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",u="TOGGLE_NODE",a="SORT_NODE",l="REMOVE_NODE",c="UPDATE_NODE",f="MOVE_NODE",s="LAYER_LOADING",y="LAYER_LOAD",p="LAYER_ERROR",d="ADD_LAYER",E="ADD_GROUP",m="REMOVE_LAYER",v="SHOW_SETTINGS",O="HIDE_SETTINGS",g="UPDATE_SETTINGS",b="REFRESH_LAYERS",I="LAYERS:UPDATE_LAYERS_DIMENSION",A="LAYERS_REFRESHED",_="LAYERS_REFRESH_ERROR",T="LAYERS:BROWSE_DATA",N="LAYERS:DOWNLOAD",S="LAYERS:CLEAR_LAYERS",P="LAYERS:SELECT_NODE",R="LAYERS:FILTER_LAYERS",h="LAYERS:SHOW_LAYER_METADATA",D="LAYERS:HIDE_LAYER_METADATA",L="LAYERS:UPDATE_SETTINGS_PARAMS";function F(e,t,n){return{type:v,node:e,nodeType:t,options:n}}function M(){return{type:O}}function w(e){return{type:g,options:e}}function G(e,t){return{type:r,newProperties:t,layer:e}}function Y(e,t){return{type:o,layer:e,params:t}}function C(e,t){return{type:i,newProperties:t,group:e}}function z(e,t,n){return{type:u,node:e,nodeType:t,status:!n}}function U(e,t){return{type:a,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function j(e,t){return{type:l,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function Z(e,t,n){return{type:c,node:e,nodeType:t,options:n}}function H(e,t,n){return{type:f,node:e,groupId:t,index:n}}function k(e){return{type:s,layerId:e}}function W(e,t){return{type:y,layerId:e,error:t}}function x(e,t,n){return{type:p,layerId:e,tilesCount:t,tilesErrorCount:n}}function V(e){return{type:d,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function X(e,t,n){return{type:E,group:e,parent:t,options:n,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function q(e){return{type:m,layerId:e}}function J(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function K(e){return{type:A,layers:e}}function Q(e,t){return{type:_,layers:e,error:t}}function B(e,t,n,r){return{type:I,dimension:e,value:t,options:n,layers:r}}function $(e){return{type:T,layer:e}}function ee(e){return{type:N,layer:e}}function te(){return{type:S}}function ne(e,t,n){return{type:P,id:e,nodeType:t,ctrlKey:n}}function re(e,t){return{type:h,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:L,newParams:e,update:t}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>u,uv:()=>a,Qy:()=>l,IL:()=>c,Li:()=>f,OW:()=>s,ZO:()=>y,Um:()=>p,TF:()=>d,Ls:()=>E,Ec:()=>m,Eu:()=>v,JJ:()=>O,nZ:()=>g,YD:()=>b,GI:()=>I,Jb:()=>A,Uh:()=>_,e$:()=>T,eh:()=>N,$j:()=>S,bJ:()=>P,Mk:()=>R,xy:()=>h,o6:()=>D,NH:()=>L,FP:()=>F,Mo:()=>M,sO:()=>w,Px:()=>G,hd:()=>Y,y9:()=>C,Ju:()=>z,BV:()=>U,SO:()=>j,H0:()=>Z,$X:()=>H,ou:()=>k,NE:()=>W,Lq:()=>x,aN:()=>V});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",a="PAN_TO",l="ZOOM_TO_EXTENT",c="ZOOM_TO_POINT",f="CHANGE_MAP_CRS",s="CHANGE_MAP_SCALES",y="CHANGE_MAP_STYLE",p="CHANGE_ROTATION",d="CREATION_ERROR_LAYER",E="UPDATE_VERSION",m="INIT_MAP",v="RESIZE_MAP",O="CHANGE_MAP_LIMITS",g="SET_MAP_RESOLUTIONS",b="REGISTER_EVENT_LISTENER",I="UNREGISTER_EVENT_LISTENER",A="MOUSE_MOVE",_="MOUSE_OUT",T="MAP:MAP_PLUGIN_LOAD",N="MAP:ORIENTATION",S="MAP:UPDATE_MAP_VIEW",P="MAP:UPDATE_MAP_OPTIONS";function R(e,t,n,r){return{type:T,mapType:t,loading:e,loaded:n,error:r}}function h(e,t,n){return{type:c,pos:e,zoom:t,crs:n}}function D(e,t,n,o,i,u,a,l){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:u,viewerOptions:a,resolution:l}}function L(e){return{type:f,crs:e}}function F(e,t){return{type:o,point:e,layer:t}}function M(e){return{type:i,pointer:e}}function w(e,t){return{type:u,zoom:e,mapStateSource:t}}function G(e,t,n,r){return{type:l,extent:e,crs:t,maxZoom:n,options:r}}function Y(e,t){return{type:y,style:e,mapStateSource:t}}function C(e){return{type:m,disableFeedbackMask:e}}function z(){return{type:v}}function U(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:O,restrictedExtent:t,crs:n,minZoom:r}}function j(e){return{type:g,resolutions:e}}var Z=function(e,t){return{type:b,eventName:e,toolName:t}},H=function(e,t){return{type:I,eventName:e,toolName:t}},k=function(e){return{type:A,position:e}},W=function(){return{type:_}},x=function(e){return{type:N,orientation:e}},V=function(e){return{type:P,configUpdate:e}}},921914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>a,Pn:()=>l,DZ:()=>c,e8:()=>f,E0:()=>s,F9:()=>y,X_:()=>p,pb:()=>d,Re:()=>E,ih:()=>m,xy:()=>v,jL:()=>O,oz:()=>g,ph:()=>b,lF:()=>I,gG:()=>A,cb:()=>_,GI:()=>T,B1:()=>N,fv:()=>S,gc:()=>P,zX:()=>R,ZF:()=>h,Zb:()=>D,DW:()=>L,Xp:()=>F,Fm:()=>M,sV:()=>w,LU:()=>G,XP:()=>Y,WU:()=>C,mK:()=>z,g:()=>U,ws:()=>j,HP:()=>Z,aN:()=>H,Pg:()=>W,u0:()=>x,TM:()=>V,PM:()=>X,lK:()=>q,sv:()=>J,MO:()=>K,oO:()=>Q,Mc:()=>B,Zw:()=>$,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe,Qu:()=>ie,kT:()=>ue});var r=n(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",l="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",f="CHANGE_MAPINFO_FORMAT",s="SHOW_MAPINFO_MARKER",y="HIDE_MAPINFO_MARKER",p="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",E="NO_QUERYABLE_LAYERS",m="CLEAR_WARNING",v="FEATURE_INFO_CLICK",O="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",g="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",b="TOGGLE_MAPINFO_STATE",I="UPDATE_CENTER_TO_MARKER",A="IDENTIFY:CHANGE_PAGE",_="IDENTIFY:CLOSE_IDENTIFY",T="IDENTIFY:CHANGE_FORMAT",N="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",S="IDENTIFY:EDIT_LAYER_FEATURES",P="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",R="IDENTIFY:SET_MAP_TRIGGER",h="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP",L="IDENTIFY:IDENTIFY_IS_MOUNTED",F="IDENTIFY:INIT_PLUGIN";function M(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function w(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function G(){return{type:E}}function Y(){return{type:m}}function C(e,t){return{type:l,reqId:e,request:t}}function z(e){return{type:a,enabled:e}}function U(){return{type:c}}function j(e){return{type:f,infoFormat:e}}function Z(){return{type:s}}function H(){return{type:y}}function k(e){return{type:p,reverseGeocodeData:e.data}}function W(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(k(e))})).catch((function(e){t(k(e))}))}}function x(){return{type:d}}function V(){return{type:b}}function X(e){return{type:I,status:e}}function q(e,t){return{type:v,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function J(e){return{type:O,point:e}}function K(e){return{type:g,enabled:e}}function Q(e){return{type:A,index:e}}var B=function(){return{type:_}},$=function(e){return{type:T,format:e}},ee=function(e){return{type:N,showCoordinateEditor:e}},te=function(e){return{type:S,layer:e}},ne=function(e){return{type:P,query:e}},re=function(e){return{type:R,trigger:e}},oe=function(e){return{type:D,value:e}},ie=function(e){return{type:L,isMounted:e}},ue=function(e){return{type:F,cfg:e}}},362520:(e,t,n)=>{"use strict";n.d(t,{dn:()=>r,NS:()=>o,Kn:()=>i,FV:()=>u,Vd:()=>a,yS:()=>l});var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT",o="MAP_LAYOUT:UPDATE_DOCK_PANELS",i="MAP_LAYOUT:FORCE_UPDATE_MAP_LAYOUT";function u(e){return{type:r,layout:e}}function a(e){return{type:o,name:e,action:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",location:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right"}}function l(){return{type:i}}},647310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(375875),o=n.n(r),i=n(472500),u=n.n(i),a=n(727418),l=n.n(a),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const f={geocode:function(e,t){var n=l()({q:e},c,t||{}),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=l()({lat:e.lat,lon:e.lng},t||{},c),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},55105:(e,t,n)=>{"use strict";n.d(t,{Ss:()=>d,Nr:()=>E,QJ:()=>m,ic:()=>v,Jz:()=>O,VM:()=>g,CF:()=>b,Ju:()=>I,Fc:()=>A,gQ:()=>_});var r=n(91175),o=n.n(r),i=n(288306),u=n.n(i),a=n(800827),l=n(552259),c=n(737275);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return e.maplayout&&e.maplayout.layout||{}},E=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},m=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},v=u()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(e),o=m(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){var i;return y(y({},e),{},p({},t,n&&null!==(i=o[t])&&void 0!==i?i:r[t]))}),{})||{}}),(function(e,t,n){return JSON.stringify(d(e))+JSON.stringify(m(e))+JSON.stringify(t)+(n?"_isDock":"")})),O=function(e){var t;return!(null===(t=d(e))||void 0===t||!t.rightPanel)},g=function(e){var t,n=c.ZP.getConfigProp("mapLayout")||l.Ur;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=d(e);return!!o()(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==n?void 0:n.bottom.sm)&&void 0!==t?t:0,type:"not"}])},b=function(e){var t=(0,a.Od)(e),n=E(e);return n&&t&&t.size&&{left:(0,l.pb)(n.left,t.size.width),bottom:(0,l.pb)(n.bottom,t.size.height),right:(0,l.pb)(n.right,t.size.width),top:(0,l.pb)(n.top,t.size.height)}},I=function(e){var t,n;return null!==(t=null==e||null===(n=e.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==t?t:{left:[],right:[]}},A=function(e){return v(e,{height:!0,right:!0},!0)},_=function(e){return v(e,{right:!0},!0)}},228261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(124852),o=n.n(r),i=n(45697),u=n.n(i),a=["id","className","style","children"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}function c(e){var t=e.id,n=e.className,r=e.style,i=e.children,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a),c=n?" "+n:"";return o().createElement(o().Fragment,null,o().createElement("div",l({},u,{id:t,className:"gn-spinner".concat(c),style:r}),o().createElement("div",null)),i)}c.propTypes={id:u().string,className:u().string,style:u().object},c.defaultProps={};const f=c},51605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(228261)},684751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>pe});var r=n(124852),o=n.n(r),i=n(45697),u=n.n(i),a=n(322843),l=n(171703),c=n(480681),f=n(200020),s=n(815135),y=n(303744),p=n(22222),d=n(805346),E=n(782904),m=n(55105),v=n(49977),O=n.n(v),g=n(813292),b=n.n(g),I=n(455877),A=n.n(I),_=n(362520),T=n(604206),N="ZONEIDENTIFY:SELECT_FEATURES",S="ZONEIDENTIFY:SELECT_LAYER",P="ZONEIDENTIFY:FORMAT_SELECTION",R="ZONEIDENTIFY:HIGHLIGHT_SELECTED_FEATURE",h="ZONEIDENTIFY:ZOOM_TO_SELECTED_FEATURE",D="ZONEIDENTIFY:ADD_LAYER_TO_MAP",L="ZONEIDENTIFY:SET_ZONE_IDENTIFY_LOADING",F=function(e){return{type:N,selectedFeatures:e}},M=function(e){return{type:S,selectedLayer:e}},w=function(e){return{type:P,formattedFeatures:e}},G=function(e){return{type:L,loading:e}},Y=n(737275),C=n(226735),z=n(921914),U=n(432420),j=n(801550),Z=n(460604),H=n(580416),k=n(916651);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={radius:10,weight:3,color:"#33eeff",opacity:1,fillColor:"#33eeff",fillOpacity:.8},J={weight:8,color:"#33eeff",opacity:.8,fillColor:"#33eeff",fillOpacity:.8},K={weight:3,color:"#33eeff",opacity:.8,fillColor:"#33eeff",fillOpacity:.8};const Q={gnUpdateZoneIdentifyMapLayoutEpic:function(e,t){return e.ofType(_.dn).filter((function(){var e,n,r;return null===(e=t.getState())||void 0===e||null===(n=e.controls)||void 0===n||null===(r=n.zoneIdentify)||void 0===r?void 0:r.enabled})).filter((function(e){return e.source!==C.O.PANEL})).map((function(e){var n,r,o,i=e.layout,u=(0,Y.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}},a=(0,m.QJ)(t.getState()),l=null!==(n=t.getState())&&void 0!==n&&null!==(r=n.controls)&&void 0!==r&&null!==(o=r.drawer)&&void 0!==o&&o.enabled?u.left.sm:null,c=(0,_.FV)(V(V(V(V({},(0,m.Ss)(t.getState())),i),{},{right:u.right.md},l&&{left:l}),{},{boundingMapRect:V(V({},(null==i?void 0:i.boundingMapRect)||{}),{},{right:u.right.md},l&&{left:l}),boundingSidebarRect:V(V({},a),i.boundingSidebarRect)}));return V(V({},c),{},{source:C.O.PANEL})}))},openZoneIdentifyEpic:function(e,t){return e.ofType(E.At).filter((function(e){return"zoneIdentify"===e.control})).filter((function(){var e,n,r;return null===(e=t.getState())||void 0===e||null===(n=e.controls)||void 0===n||null===(r=n.zoneIdentify)||void 0===r?void 0:r.enabled})).switchMap((function(){return O().Observable.of((0,z.g)(),(0,z.aN)(),(0,z.TM)(),F(null),M("visible_layers"),w(null))}))},closeZoneIdentifyEpic:function(e){return e.ofType(E.At).filter((function(e){return"zoneIdentify"===e.control})).filter((function(e){return"enabled"===e.property&&!1===e.value})).switchMap((function(){return O().Observable.of((0,z.TM)(),F(null),M(null),w(null),(0,Z.fU)({owner:"ZoneIdentify"}),(0,T.Yf)("clean","","zoneIdentify",[],{}))}))},getFeaturesInfoClickEpic:function(e,t){return e.ofType(T.hZ).filter((function(e){return"zoneIdentify"===e.owner&&"stop"===e.status})).switchMap((function(e){var n,r,o,i,u,a=e.features,l=t.getState();u="visible_layers"===l.zoneIdentify.selectedLayer?l.layers.flat.filter((function(e){return!0===e.visibility&&"wms"===e.type&&"background"!==e.group&&e.name.includes("neec_geodb")&&"Error"!==e.loadingError})).map((function(e){return e.name})):l.zoneIdentify.selectedLayer;var c=null===(n=l.security)||void 0===n||null===(r=n.user)||void 0===r||null===(o=r.info)||void 0===o?void 0:o.access_token,f=l.map.present.projection,s=null===(i=l.gnsettings)||void 0===i?void 0:i.geoserverUrl,y="".concat(s,"wfs"),p={service:"WFS",version:"1.1.0",request:"GetFeature",outputFormat:"application/json",bbox:a[0].extent.join(",")+","+f,access_token:c};return O().Observable.fromPromise((0,U.Bm)(y,u.toString(),p)).map((function(e){return F(e.data.features)}))}))},cleanSelectionEpic:function(e){return e.ofType(T.hZ).filter((function(e){return"zoneIdentify"===e.owner&&"clean"===e.status})).switchMap((function(){return O().Observable.of(F(null),w(null),(0,Z.fU)({owner:"ZoneIdentify"}))}))},convertFeaturesForTreeEpic:function(e,t){return e.ofType(N).filter((function(e){return null!=e.selectedFeatures})).switchMap((function(e){var n=t.getState(),r=e.selectedFeatures,o=n.layers.flat.filter((function(e){return!0===e.visibility&&"wms"===e.type&&"background"!==e.group})),i=[],u=1;return o.forEach((function(e){var t=1,o=e.name.split(":")[1],a=e.title,l=[];if(r.forEach((function(e){if(e.id.includes(o)){var r;r="en-US"===n.locale.current?e.properties.label_en&&null!==e.properties.label_en?e.properties.label_en:e.properties.name_en:e.properties.label_fr&&null!==e.properties.label_fr?e.properties.label_fr:e.properties.name_fr;var i={id:u+"-"+t,title:r,geometry:e.geometry,properties:e.properties};t++,l.push(i)}})),l.length>0){var c={id:u,name:o,title:a,children:l};u++,i.push(c)}})),O().Observable.of(w(i))}))},highlightSelectedFeatureEpic:function(e){return e.ofType(R).switchMap((function(e){var t;return["Point","POINT","MultiPoint"].includes(e.selectedFeature.type)?t=q:["LINE","Line","MultiLineString"].includes(e.selectedFeature.type)?t=J:["POLYGON","Polygon","MultiPolygon"].includes(e.selectedFeature.type)&&(t=K),O().Observable.of((0,Z.W)("zone-identify-selected-feature","ZoneIdentify","overlay",{id:"zone-identify-selected-feature",name:"zone-identify-selected-feature",type:"vector",features:[{type:"Feature",properties:{},geometry:{type:e.selectedFeature.type,coordinates:e.selectedFeature.coordinates},style:t}]}))}))},zoomToSelectedFeatureEpic:function(e){return e.ofType(h).switchMap((function(e){return O().Observable.of((0,j.Px)(b()(e.selectedFeature),"EPSG:4326",17))}))},addExtentToMapEpic:function(e){return e.ofType(D).switchMap((function(e){var t={id:"zoneidentify:"+A()(),title:"Query Extent",type:"vector",features:[{type:"Feature",id:A()(),properties:{name:"Query Extent"},geometry:{type:"Polygon",coordinates:[e.layer.coordinates[0].map((function(e){return(0,k.reproject)(e,"EPSG:3857","EPSG:4326")})).map((function(e){return[e.x,e.y]}))]}}],style:{format:"geostyler",body:{rules:[{name:"Query Extent",symbolizers:[{symbolizerId:"d4f18121-501f-11ef-952e-5f52f1343b22",kind:"Fill",color:"#eb0951",fillOpacity:.1,outlineColor:"#eb0951",outlineWidth:2,msClassificationType:"both"}]}]}},visibility:!0,invalidFeatures:null};return O().Observable.of((0,H.A4)(t))}))},zoneIdentifyStartLoadingEpic:function(e){return e.ofType(T.hZ).filter((function(e){return"zoneIdentify"===e.owner&&"stop"===e.status})).switchMap((function(){return O().Observable.of(G(!0))}))},zoneIdentifyStopLoadingEpic:function(e,t){return e.ofType(P).filter((function(){var e,n;return null===(e=t.getState().controls)||void 0===e||null===(n=e.zoneIdentify)||void 0===n?void 0:n.enabled})).switchMap((function(){return O().Observable.of(G(!1))}))}};function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=n(51605),re=n(86638),oe=["enabled"];function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ue=(0,s.Z)(y.Z),ae=(0,l.connect)((0,p.P1)([function(e){var t;return null==e||null===(t=e.draw)||void 0===t?void 0:t.features[0]},function(e){var t;return null==e||null===(t=e.zoneIdentify)||void 0===t?void 0:t.selectedFeatures}],(function(e,t){return{extent:e,selectedFeatures:t}})),{onchangeDrawingStatus:T.Yf,onAddLayerToMap:function(e){return{type:D,layer:e}}})((function(e){var t=e.extent,n=e.selectedFeatures,r=e.onchangeDrawingStatus,i=e.onAddLayerToMap;return o().createElement("div",{className:"zone-identify-menu-buttons"},o().createElement(ue,{className:"btn-primary",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.drawPolygon"}),onClick:function(){r("start","BBOX","zoneIdentify",[],{stopAfterDrawing:!0})}},o().createElement(c.gG,{glyph:"polygon-plus"})),o().createElement(ue,{className:"btn-primary",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.removePolygon"}),disabled:null===n,onClick:function(){r("clean","","zoneIdentify",[],{})}},o().createElement(c.gG,{glyph:"polygon-trash"})),o().createElement(ue,{className:"btn-primary",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.addLayer"}),disabled:null===n,onClick:function(){i(t)}},o().createElement(c.gG,{glyph:"add-layer"})))})),le=(0,l.connect)((0,p.P1)([],(function(){return{}})),{onHighlightSelectedFeature:function(e){return{type:R,selectedFeature:e}},onZoomToSelectedFeature:function(e){return{type:h,selectedFeature:e}}})((function(e){var t,n,i=e.node,u=e.onHighlightSelectedFeature,a=e.onZoomToSelectedFeature,l=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],s=l[1];return o().createElement("div",{className:"zone-identify-tree-node"},o().createElement(ue,{onClick:function(){return s(!f)},className:"zone-identify-toggle-icon",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.expandFeature"})},o().createElement(c.gG,{glyph:f?"bottom":"next"})),o().createElement("span",{className:"zone-identify-layer-title"},i.title),null==i.children&&o().createElement("div",{className:"zone-identify-navigation-buttons"},o().createElement(ue,{onClick:function(){return u(i.geometry)},className:"zone-identify-navigation-icon",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.highlightFeature"})},o().createElement(c.gG,{glyph:"map-filter"})),o().createElement(ue,{onClick:function(){return a(i.geometry)},className:"zone-identify-navigation-icon",tooltipId:o().createElement(d.Z,{msgId:"zoneIdentify.zoomToFeature"})},o().createElement(c.gG,{glyph:"zoom-to"}))),i.children&&f&&o().createElement(ce,{data:null==i?void 0:i.children}),null==i.children&&f&&o().createElement(fe,{data:i}))})),ce=function(e){var t=e.data;return o().createElement("div",{className:"zone-identify-tree-view"},t.map((function(e){return o().createElement(le,{key:e.id,node:e})})))},fe=function(e){var t=e.data,n=Object.entries(t.properties);return o().createElement("div",{className:"zone-identify-attribute-table"},o().createElement("div",{className:"zone-identify-info-table"},o().createElement("div",{className:"zone-identify-info-fields"},n.map((function(e){return o().createElement("div",{className:"zone-identify-info-row"},o().createElement("div",{className:"zone-identify-info-label"},e[0]),o().createElement("div",{className:"zone-identify-info-value"},e[1]))})))))};function se(e){var t=e.style,n=e.formattedFeatures,i=e.layers,u=e.loading,a=e.messages,l=e.onClose,s=e.onSelectLayer,y=(0,r.useRef)(!1);(0,r.useEffect)((function(){return y.current=!0,function(){y.current=!1}}),[]);var p=i.filter((function(e){return!0===e.visibility&&"wms"===e.type&&"background"!==e.group&&e.name.includes("neec_geodb")&&"Error"!==e.loadingError})),E=[{layerName:"visible_layers",layerTitle:(0,re.S$)(a,"zoneIdentify.visibleLayers")}];return p.forEach((function(e){E.push({layerName:e.name,layerTitle:e.title})})),o().createElement("div",{className:"zone-identify",style:t},o().createElement("div",{className:"zone-identify-head"},o().createElement("div",{className:"zone-identify-title"},o().createElement(d.Z,{msgId:"zoneIdentify.title"})),o().createElement(ue,{className:"square-button",onClick:function(){return l()}},o().createElement(c.gG,{glyph:"1-close"}))),o().createElement("div",{className:"zone-identify-body"},o().createElement("div",{className:"zone-identify-menu"},o().createElement(f.DropdownList,{className:"zone-identify-menu-dropdown",defaultValue:"visible_layers",onChange:function(e){s(e.layerName)},data:E,textField:"layerTitle",valueField:"layerName"}),o().createElement(ae,null)),o().createElement("div",{className:"zone-identify-body-content"},u&&o().createElement("div",{className:"zone-identify-spinner-container"},o().createElement(ne.Z,null)),n&&o().createElement(ce,{data:n}))))}se.propTypes={onClose:u().func,onSelectLayer:u().func},se.defaultProps={onClose:function(){},onSelectLayer:function(){}};var ye=(0,l.connect)((0,p.P1)([function(e){return(0,m.ic)(e,{height:!0})},function(e){var t,n;return null==e||null===(t=e.controls)||void 0===t||null===(n=t.zoneIdentify)||void 0===n?void 0:n.enabled},function(e){var t;return null==e||null===(t=e.zoneIdentify)||void 0===t?void 0:t.formattedFeatures},function(e){var t;return null==e||null===(t=e.layers)||void 0===t?void 0:t.flat},function(e){var t;return(null==e||null===(t=e.zoneIdentify)||void 0===t?void 0:t.loading)||!1},function(e){var t;return null==e||null===(t=e.locale)||void 0===t?void 0:t.messages}],(function(e,t,n,r,o,i){return{style:e,enabled:t,formattedFeatures:n,layers:r,loading:o,messages:i}})),{onClose:E.Xg.bind(null,"zoneIdentify","enabled",!1),onSelectLayer:M})((function(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,oe);return t?o().createElement(se,n):null}));const pe=(0,a.rx)("ZoneIdentify",{component:ye,containers:{SidebarMenu:{name:"ZoneIdentify",position:15,tooltip:"zoneIdentify.title",icon:o().createElement(c.gG,{glyph:"layer-info"}),action:E.Xg.bind(null,"zoneIdentify","enabled","true"),doNotHide:!0,priority:2}},epics:Q,reducers:{zoneIdentify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return ee(ee({},e),{},{selectedFeatures:t.selectedFeatures});case S:return ee(ee({},e),{},{selectedLayer:t.selectedLayer});case P:return ee(ee({},e),{},{formattedFeatures:t.formattedFeatures});case R:case h:return ee(ee({},e),{},{selectedFeature:t.selectedFeature});case D:return ee(ee({},e),{},{layer:t.layer});case L:return ee(ee({},e),{},{loading:t.loading});default:return e}}}})},226735:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r={PANEL:"PANEL"}}}]);