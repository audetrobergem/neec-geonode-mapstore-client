(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[95121,2095],{650079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(124852);const o=function(e){var t=e.disabled,r=e.onClickOut,o=(0,n.useRef)();return(0,n.useEffect)((function(){function e(e){var n;!t&&(null==o||null===(n=o.current)||void 0===n?void 0:n.contains)&&!o.current.contains(e.target)&&r()}return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}),[t,o,r]),o}},678833:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(598611),a=r.n(i),u=r(322843);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==l(a)?a:a+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e){var t=e.items,r=e.loadedPlugins,i=e.loaderComponent,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=(0,n.useRef)({});c.current={items:t,loadedPlugins:r,loaderComponent:i};var d=a()(Object.keys(r||{}),","),y=(0,n.useMemo)((function(){return function(e){return f(e.items).sort((function(e,t){return e.position>t.position?1:-1})).map((function(t){return s(s({},t),{},{Component:t.Component||(0,u.KB)(t,e.loadedPlugins,e.loaderComponent||o().createElement("div",null))})}))||[]}(c.current)}),[d].concat(f(l)));return y}},829863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(124852),o=r.n(n),i=r(322843),a=r(171703),u=r(22222),l=r(737275),c=r(398288),s=r(274621),f=r(643892),d=r(452992),y=r(17594),m=r(925108),p=r(782904),v=r(572036),b=r(76907),g=r(303744),h=r(650079),O=r(100824),w=r(625635),P=r(877593),j=r(805346),S=r(675110),E=r(800827),C=r(770058),_=r(807461),k=r(678833),T=["hide"];function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Z=(0,a.connect)((0,u.P1)([function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data)||null},function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading)||!1},function(e){var t,r;return(null==e||null===(t=e.gnresource)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.favorite)||!1},function(e){var t;return(null==e||null===(t=e.gnsave)||void 0===t?void 0:t.savingThumbnailMap)||!1},S.l2,b.km,b.Bs,E.Od,function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.showMapThumbnail)||!1},d.WB],(function(e,t,r,n,o,i,a,u,l,c){return{layers:o,resource:e,loading:t,savingThumbnailMap:n,favorite:r,isThumbnailChanged:i,resourceThumbnailUpdating:a,initialBbox:null==u?void 0:u.bbox,enableMapViewer:l,downloading:c,resourceId:e.pk}})),{closePanel:p.Xg.bind(null,"rightOverlay","enabled",!1),onFavorite:f.gw,onMapThumbnail:f.CB,onResourceThumbnail:f.e5,onClose:f.qs,onSetExtent:f.rg})(c.Z),x=(0,a.connect)((0,u.P1)([b.V$,b.fg],(function(e,t){return{hide:e||!t}})),{onClick:p.Xg.bind(null,"rightOverlay","enabled","DetailViewer")})((function(e){var t=e.onClick,r=e.hide,n=e.variant,i=e.size,a=e.showMessage;return r?null:o().createElement(g.Z,{variant:n,size:i,onClick:function(){t()}},a?o().createElement(j.Z,{msgId:"gnviewer.viewInfo"}):o().createElement(y.Z,{name:"info-circle"}))}));function R(e,t){var r=e.location,n=e.enabled,i=e.onEditResource,a=e.onEditAbstractResource,u=e.onEditThumbnail,l=e.canEdit,c=e.user,s=e.onClose,f=e.monitoredState,d=e.queryPathname,y=void 0===d?"/":d,m=e.tabs,p=void 0===m?[]:m,v=e.items,b=e.resourceId,g=(0,C._y)(f,{tabs:p}),w=(0,h.Z)({disabled:!n,onClickOut:function(){s()}}),j=t.loadedPlugins,S=(0,k.Z)({items:v,loadedPlugins:j},[b]).filter((function(e){return"toolbar"===e.target}));return o().createElement(O.Z,{enabled:n,ref:w,className:"gn-overlay-wrapper"},o().createElement(Z,{editTitle:function(e){i(e)},editAbstract:function(e){a(e)},editThumbnail:function(e){u(e,!0)},activeEditMode:n&&l,enableFavorite:!!c,formatHref:function(e){return(0,P.nz)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==A(a)?a:a+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({location:r},e))},tabs:g.tabs,pathname:y,toolbarItems:S}))}var I=(0,a.connect)((0,u.P1)([function(e){var t,r;return"DetailViewer"===(null==e||null===(t=e.controls)||void 0===t||null===(r=t.rightOverlay)||void 0===r?void 0:r.enabled)},b.il,b.V$,b.fg,s.np,function(e){return(0,i.bh)(e,(0,l.u8)("monitorState"))},function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data)||null}],(function(e,t,r,n,o,i,a){return{enabled:e,canEdit:t,hide:r||!n,user:o,monitoredState:i,resourceId:null==a?void 0:a.pk}})),{onEditResource:f.Br,onEditAbstractResource:f.bI,onEditThumbnail:f.U5,onClose:p.Xg.bind(null,"rightOverlay","enabled",!1)})((0,w.EN)((function(e){var t=e.hide,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,T);return t?null:o().createElement(R,r)})));const N=(0,i.rx)("DetailViewer",{component:I,containers:{ActionNavbar:{name:"DetailViewerButton",Component:x}},epics:_.Z,reducers:{gnresource:v.Z,controls:m.Z}})},969438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var n=r(124852),o=r.n(n),i=r(322843),a=r(171703),u=r(22222),l=r(737275),c=r(398288),s=r(274621),f=r(643892),d=r(452992),y=r(17594),m=r(925108),p=r(782904),v=r(572036),b=r(805207),g=r(76907),h=r(893222),O=r(303744),w=r(650079),P=r(100824),j=r(625635),S=r(877593),E=r(805346),C=r(800827),_=r(535721),k=r(770058),T=r(815135),A=r(49977),D=r(441609),Z=r.n(D),x=r(337326);const R={gnGetLayerLinkedResources:function(e,t){return e.ofType(f.ac).filter((function(e){var r,n;return!e.pending&&(null===(r=e.data)||void 0===r?void 0:r.pk)&&Z()(null===(n=(0,g.Js)(t.getState()))||void 0===n?void 0:n.linkedResources)})).switchMap((function(e){return A.Observable.defer((function(){return(0,x.NH)(e.data.pk).then((function(e){var t,r,n=null!==(t=e.linked_to)&&void 0!==t?t:[],o=null!==(r=e.linked_by)&&void 0!==r?r:[];return Z()(n)&&Z()(o)?{}:{linkedTo:n,linkedBy:o}})).catch((function(){return[]}))})).switchMap((function(e){return A.Observable.of((0,f.Ao)({linkedResources:e}))}))}))}};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var M=(0,T.Z)(O.Z),G=(0,a.connect)((0,u.P1)([function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.layerDataset)||null},function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading)||!1},function(e){var t,r;return(null==e||null===(t=e.gnresource)||void 0===t||null===(r=t.layerDataset)||void 0===r?void 0:r.favorite)||!1},function(e){var t;return(null==e||null===(t=e.gnsave)||void 0===t?void 0:t.savingThumbnailMap)||!1},g.km,g.Bs,C.Od,function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.showMapThumbnail)||!1},d.WB],(function(e,t,r,n,o,i,a,u,l){return{resource:e,loading:t,savingThumbnailMap:n,favorite:r,isThumbnailChanged:o,resourceThumbnailUpdating:i,initialBbox:null==a?void 0:a.bbox,enableMapViewer:u,downloading:l,canDownload:(0,_.sH)(e,"download_resourcebase"),resourceId:e.pk}})),{closePanel:p.Xg.bind(null,"rightOverlay","enabled",!1),onFavorite:f.gw,onMapThumbnail:f.CB,onResourceThumbnail:f.e5,onClose:f.qs,onAction:f.Rk})(c.Z),L=(0,a.connect)((0,u.P1)([h.Vf],(function(e){return{layer:e}})),{onClick:p.Xg.bind(null,"rightOverlay","enabled","LayerDetailViewer")})((function(e){var t,r=e.onClick,n=e.layer,i=e.size,a=e.status,u=e.showMessage;return(null==n||null===(t=n.extendedParams)||void 0===t?void 0:t.pk)&&"LAYER"===a?o().createElement(M,{variant:"primary",className:"square-button-md",size:i,onClick:function(){r()},tooltipId:o().createElement(E.Z,{msgId:"gnviewer.info"})},u?o().createElement(E.Z,{msgId:"gnviewer.editInfo"}):o().createElement(y.Z,{name:"info-circle"})):null})),B=(0,a.connect)((0,u.P1)([function(e){var t,r;return"LayerDetailViewer"===(null==e||null===(t=e.controls)||void 0===t||null===(r=t.rightOverlay)||void 0===r?void 0:r.enabled)},g.il,h.Vf,g.fg,s.np,function(e){return(0,i.bh)(e,(0,l.u8)("monitorState"))}],(function(e,t,r,n,o){return{enabled:e,canEdit:t,layer:r,user:n,monitoredState:o}})),{onEditResource:f.Br,onEditAbstractResource:f.bI,onEditThumbnail:f.U5,onClose:p.Xg.bind(null,"rightOverlay","enabled",!1)})((0,j.EN)((function(e){var t=e.location,r=e.enabled,n=e.onEditResource,i=e.onEditAbstractResource,a=e.onEditThumbnail,u=e.canEdit,l=e.user,c=e.onClose,s=e.monitoredState,f=e.queryPathname,d=void 0===f?"/":f,y=e.tabs,m=void 0===y?[]:y,p=(0,k._y)(s,{tabs:m}),v=(0,w.Z)({disabled:!r,onClickOut:function(){c()}});return o().createElement(P.Z,{enabled:r,ref:v,className:"gn-overlay-wrapper"},o().createElement(G,{editTitle:function(e){n(e)},editAbstract:function(e){i(e)},editThumbnail:function(e){a(e,!0)},activeEditMode:r&&u,enableFavorite:!!l,formatHref:function(e){return(0,S.nz)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==I(a)?a:a+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({location:t},e))},tabs:p.tabs,pathname:d}))})));const V=(0,i.rx)("LayerDetailViewer",{component:B,containers:{TOC:{target:"toolbar",Component:L}},epics:R,reducers:{gnresource:v.Z,gnsearch:b.Z,controls:m.Z}})},572036:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(618446),o=r.n(n),i=r(441609),a=r.n(i),u=r(643892),l=r(535721),c=["data"],s=["data"],f=["features"],d=["features"],y=["features"];function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==m(a)?a:a+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={selectedLayerPermissions:[],data:{},permissions:[]};const h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case u.$X:return g;case u.ql:return b(b({},t),{},{configError:void 0,loadingResourceConfig:r.loading});case u.nS:return b(b({},t),{},{loading:!1,configError:r.message});case u.W:return b(b({},t),{},{loading:!0});case u.Zf:var n,i,m=r.data||{},v=(m.data,b({},p(m,c))),h=null===(n=t.data)||void 0===n?void 0:n.linkedResources;return a()(h)||v.pk!==(null===(i=t.data)||void 0===i?void 0:i.pk)||(v.linkedResources=h),b(b({},t),{},{error:null,initialResource:b({},r.data),data:v,loading:!1,isNew:!1});case u.ac:var O,w,P=r.data||{},j=(P.data,b({},p(P,s))),S=null===(O=t.layerDataset)||void 0===O?void 0:O.linkedResources;return a()(S)||j.pk!==(null===(w=t.layerDataset)||void 0===w?void 0:w.pk)||(j.linkedResources=S),b(b({},t),{},{error:null,initialLayerResource:b({},r.data),layerDataset:j,loading:!1});case u.Eu:return b(b({},t),{},{initialResource:null,data:null,error:r.error,loading:!1});case u.Vy:return b(b({},t),{},{data:b(b({},t.data),r.properties)});case u.I:return b(b({},t),{},{layerDataset:b(b({},t.layerDataset),r.properties)});case u.YB:return b(b({},t),{},{type:r.resourceType});case u.xm:return b(b({},g),{},{isNew:!0});case u._f:return b(b({},t),{},{id:r.id});case u.ek:return b(b({},t),{},{permissions:r.permissions});case u.cd:return b(b({},t),{},{data:b(b({},null==t?void 0:t.data),{},{title:null==r?void 0:r.title,name:null==r?void 0:r.title})});case u.pt:return b(b({},t),{},{data:b(b({},null==t?void 0:t.data),{},{abstract:null==r?void 0:r.abstract})});case u.ww:return b(b({},t),{},{data:b(b({},null==t?void 0:t.data),{},{thumbnail_url:null==r?void 0:r.thumbnailUrl,thumbnailChanged:null==r?void 0:r.thumbnailChanged})});case u._Z:return b(b({},t),{},{data:b(b({},null==t?void 0:t.data),{},{updatingThumbnail:!0})});case u.dh:return b(b({},t),{},{showMapThumbnail:r.enabled});case u.p2:return b(b({},t),{},{selectedLayerPermissions:r.permissions});case u.ih:return b(b({},t),{},{initialCompactPermissions:r.compactPermissions,compactPermissions:r.compactPermissions,isCompactPermissionsChanged:!1,geoLimits:[]});case u.J5:return b(b({},t),{},{compactPermissions:r.compactPermissions,isCompactPermissionsChanged:!o()((0,l.go)(t.initialCompactPermissions),(0,l.go)(r.compactPermissions)),geoLimits:(0,l.vB)(r.compactPermissions)});case u.uA:if(t.compactPermissions){var E=t.compactPermissions,C=E.users,_=E.organizations,k=E.groups;return b(b({},t),{},{compactPermissions:{users:C.map((function(e){return e.features,p(e,f)})),organizations:_.map((function(e){return e.features,p(e,d)})),groups:k.map((function(e){return e.features,p(e,y)}))},geoLimits:[]})}return t;case u.Y0:return b(b({},t),{},{data:b(b({},t.data),{},{extent:b(b({},null===(e=t.data)||void 0===e?void 0:e.extent),{},{coords:r.coords})})});default:return t}}},770058:(e,t,r)=>{"use strict";r.d(t,{gj:()=>d,QH:()=>y,mk:()=>m,BK:()=>p,bH:()=>v,_y:()=>b});var n=r(227361),o=r.n(n),i=r(414293),a=r.n(i),u=r(322843),l=r(368523);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t,r){var n=t?t.filter((function(e){return e.type===r})):void 0;return void 0===n||n&&0===n.length||n&&n.some((function(t){return e&&e.includes(null==t?void 0:t.value)}))}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",n=t.split(r).map((function(t){return function(e,t){return 0===(null==t?void 0:t.indexOf("${"))?o()(e,t.replace(/^\$\{(.*)\}$/,"$1")):t}(e,t)}));return n.join(r)}var m=function(e){return!(""===e||a()(e))},p=function(e){return function t(r){return r&&"object"===f(r)?Array.isArray(r)?r.map(t):Object.fromEntries(Object.entries(r).map((function(e){var r=c(e,2),n=r[0],o=r[1];return[n,t(o)]}))):e(r)}},v=function e(t,r){return t&&t.reduce((function(t,n){var o=n;return Object.entries(n).forEach((function(t){var i=c(t,2),a=i[0],u=i[1];Array.isArray(u)&&(o[a]=e(n[a],r))})),r(o)&&t.push(o),t}),[])},b=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).filterFunc,n=void 0===r?function(e){return!e.disableIf}:r;return c(v([p((function(t){return(0,u.CU)((function(t){return o()(e,t)}),(0,l.z)(),t)}))(t)],n),1)[0]}},887157:(e,t,r)=>{var n=r(640554),o=r(588958);e.exports=function(e,t,r,i){var a=e.length;for((r=n(r))<0&&(r=-r>a?0:a+r),(i=void 0===i||i>a?a:n(i))<0&&(i+=a),i=r>i?0:o(i);r<i;)e[r++]=t;return e}},580760:(e,t,r)=>{var n=r(989881);e.exports=function(e,t){var r=[];return n(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}},441761:(e,t,r)=>{var n=r(644239),o=r(637005);e.exports=function(e){return o(e)&&"[object Date]"==n(e)}},389179:(e,t,r)=>{var n=r(555639),o=r(640554),i=r(14841),a=r(479833),u=n.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,r){if(e=i(e),(r=null==r?0:l(o(r),292))&&u(e)){var n=(a(e)+"e").split("e"),c=t(n[0]+"e"+(+n[1]+r));return+((n=(a(c)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}},819873:(e,t,r)=>{var n=r(887157),o=r(816612);e.exports=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&o(e,t,r)&&(r=0,i=a),n(e,t,r,i)):[]}},763105:(e,t,r)=>{var n=r(234963),o=r(580760),i=r(267206),a=r(701469);e.exports=function(e,t){return(a(e)?n:o)(e,i(t,3))}},647960:(e,t,r)=>{var n=r(441761),o=r(307518),i=r(531167),a=i&&i.isDate,u=a?o(a):n;e.exports=u},313880:(e,t,r)=>{var n=r(479833);e.exports=function(){var e=arguments,t=n(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},59854:(e,t,r)=>{var n=r(389179)("round");e.exports=n},588958:(e,t,r)=>{var n=r(829750),o=r(640554);e.exports=function(e){return e?n(o(e),0,4294967295):0}},623068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(438906),o=r(613002),i=r(173381),a=r(558493);const u=function(e){function t(t){if(e.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,o.oL)(this,(0,a.v_)(this.geometryName_),this.handleGeometryChanged_,this),t)if("function"==typeof t.getSimplifiedGeometry){var r=t;this.setGeometry(r)}else{var n=t;this.setProperties(n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var e=new t(this.getProperties());e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,o.oL)(e,i.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){var t,r;this.style_=e,this.styleFunction_=e?"function"==typeof(t=e)?t:(Array.isArray(t)?r=t:((0,n.h)("function"==typeof t.getZIndex,41),r=[t]),function(){return r}):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){(0,o.Ev)(this,(0,a.v_)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,(0,o.oL)(this,(0,a.v_)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},t}(a.ZP)},934007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}}}]);