(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[14831],{228261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(124852),i=n.n(r),o=n(675263),s=n.n(o),a=["id","className","style","children"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){var t=e.id,n=e.className,r=e.style,o=e.children,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,a),c=n?" "+n:"";return i().createElement(i().Fragment,null,i().createElement("div",l({},s,{id:t,className:"gn-spinner".concat(c),style:r}),i().createElement("div",null)),o)}c.propTypes={id:s().string,className:s().string,style:s().object},c.defaultProps={};const u=c},51605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(228261)},93136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(124852),i=n.n(r),o=n(675263),s=n.n(o),a=n(171703),l=n(22222),c=n(322843),u=n(805346),p=n(757588),f=n(800827),m=n(532425),h=n(693473),g=n(51605),y=n(274621),d=n(925108),v=n(572036),b=n(162170),_=n(18576),O=n(73443),E=n(903828),G=n(452992),w=n(805803),j=n(782904),C=n(86638);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=(0,a.connect)((0,l.P1)([function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving}],(function(e){return{saving:e}})))((function(e){return e.saving?i().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.75)",top:"0px",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",right:"0px"}},i().createElement(m.Z,{size:150})):null}));function N(e,t){var n=e.enabled,o=e.onClick,s=e.variant,a=e.size,l=e.loading,c=e.className,p=e.dirtyState,f=e.location,m=e.history,y=e.onStorePendingChanges,d=t.messages,v=(0,r.useRef)();return v.current=p,(0,r.useEffect)((function(){var e,t=null==m||null===(e=m.location)||void 0===e?void 0:e.pathname;function n(e){v.current&&((e||window.event).returnValue=null)}return window.addEventListener("beforeunload",n),function(){var e;window.removeEventListener("beforeunload",n),t!==(null==m||null===(e=m.location)||void 0===e?void 0:e.pathname)&&v.current&&(window.confirm((0,C.S$)(d,"gnviewer.prompPendingChanges"))?y(null):(y(v.current),m.replace(f)))}}),[]),n?i().createElement(h.Z,{variant:p?"warning":s||"primary",size:a,onClick:function(){return o()},disabled:l,className:c},i().createElement(u.Z,{msgId:"save"})," ",l&&i().createElement(g.Z,null)):null}N.contextTypes={messages:s().object};var T=(0,a.connect)((0,l.P1)(y.jl,E.V$,E.il,f._H,G.IX,E.YR,(function(e,t,n,r,i,o){return{enabled:e&&!t&&(n||(null==r?void 0:r.canEdit)),loading:i,dirtyState:o}})),{onClick:O.nY,onStorePendingChanges:j.Xg.bind(null,"pendingChanges","value")})((0,w.EN)(N));const k=(0,c.rx)("Save",{component:Z,containers:{BurgerMenu:{name:"save",position:30,text:i().createElement(u.Z,{msgId:"save"}),icon:i().createElement(p.Glyphicon,{glyph:"floppy-open"}),action:O.nY,selector:(0,l.P1)(y.jl,E.V$,E.il,f._H,(function(e,t,n,r){return{style:e&&!t&&(n||null!=r&&r.canEdit)?{}:{display:"none"}}}))},ActionNavbar:{name:"Save",Component:T}},epics:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_.ZP),reducers:{gnresource:v.Z,gnsave:b.Z,controls:d.Z}})},798090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(613002),i=n(173381),o=n(421915),s=n(208204),a=n(28795),l=n(913580);function c(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const u=function(e){function t(t){e.call(this),this.geometries_=t||null,this.listenGeometriesChange_()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,r.Ev)(this.geometries_[e],i.Z.CHANGE,this.changed,this)},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,r.oL)(this.geometries_[e],i.Z.CHANGE,this.changed,this)},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,n,r){if(r<(0,o.qf)(this.getExtent(),e,t))return r;for(var i=this.geometries_,s=0,a=i.length;s<a;++s)r=i[s].closestPointXY(e,t,n,r);return r},t.prototype.containsXY=function(e,t){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){(0,o.YN)(e);for(var t=this.geometries_,n=0,r=t.length;n<r;++n)(0,o.l7)(e,t[n].getExtent());return e},t.prototype.getGeometries=function(){return c(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,l.ZH)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var c=i[s],u=c.getSimplifiedGeometry(e);r.push(u),u!==c&&(o=!0)}if(o){var p=new t(null);return p.setGeometriesArray(r),this.simplifiedGeometryCache[n]=p,p}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return a.Z.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,n){var r=n;r||(r=(0,o.qg)(this.getExtent()));for(var i=this.geometries_,s=0,a=i.length;s<a;++s)i[s].scale(e,t,r);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(c(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(s.Z)}}]);