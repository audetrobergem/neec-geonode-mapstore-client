(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[68854],{80416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>a,ih:()=>i,OX:()=>s,sb:()=>l,K$:()=>p,k7:()=>c,cX:()=>m,x9:()=>f,vs:()=>b,oE:()=>d,Po:()=>y,qv:()=>g,cI:()=>h,g6:()=>v,I4:()=>E,l$:()=>O,Xv:()=>w,k3:()=>S,CQ:()=>T,R8:()=>P,HN:()=>A,sH:()=>M,c7:()=>j,_7:()=>L,eF:()=>C,O6:()=>R,ED:()=>_,RP:()=>x,sF:()=>D,VP:()=>k,He:()=>I,vO:()=>F,WO:()=>B,bh:()=>G,pV:()=>Z,MK:()=>N,ZF:()=>U,tV:()=>Y,Dv:()=>V,Yz:()=>H,kI:()=>q,XG:()=>X,A4:()=>W,Rp:()=>J,$o:()=>z,ct:()=>K,oh:()=>$,$h:()=>Q,ud:()=>ee,Qr:()=>te,LR:()=>re,nN:()=>ne,UG:()=>oe,F5:()=>ae,c9:()=>ie,Jh:()=>ue,Xy:()=>se});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",a="CHANGE_GROUP_PROPERTIES",i="TOGGLE_NODE",u="CONTEXT_NODE",s="SORT_NODE",l="REMOVE_NODE",p="UPDATE_NODE",c="MOVE_NODE",m="LAYER_LOADING",f="LAYER_LOAD",b="LAYER_ERROR",d="ADD_LAYER",y="ADD_GROUP",g="REMOVE_LAYER",h="SHOW_SETTINGS",v="HIDE_SETTINGS",E="UPDATE_SETTINGS",O="REFRESH_LAYERS",w="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",T="LAYERS_REFRESH_ERROR",P="LAYERS:BROWSE_DATA",A="LAYERS:DOWNLOAD",M="LAYERS:CLEAR_LAYERS",j="LAYERS:SELECT_NODE",L="LAYERS:FILTER_LAYERS",C="LAYERS:SHOW_LAYER_METADATA",R="LAYERS:HIDE_LAYER_METADATA",_="LAYERS:UPDATE_SETTINGS_PARAMS";function x(e,t,r){return{type:h,node:e,nodeType:t,options:r}}function D(){return{type:v}}function k(e){return{type:E,options:e}}function I(e,t){return{type:n,newProperties:t,layer:e}}function F(e,t){return{type:o,layer:e,params:t}}function B(e,t){return{type:a,newProperties:t,group:e}}function G(e,t,r){return{type:i,node:e,nodeType:t,status:!r}}function Z(e){return{type:u,node:e}}function N(e,t){return{type:s,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function U(e,t){return{type:l,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function Y(e,t,r){return{type:p,node:e,nodeType:t,options:r}}function V(e,t,r){return{type:c,node:e,groupId:t,index:r}}function H(e){return{type:m,layerId:e}}function q(e,t){return{type:f,layerId:e,error:t}}function X(e,t,r){return{type:b,layerId:e,tilesCount:t,tilesErrorCount:r}}function W(e){return{type:d,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function J(e,t,r){return{type:y,group:e,parent:t,options:r}}function z(e){return{type:g,layerId:e}}function K(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function $(e){return{type:S,layers:e}}function Q(e,t){return{type:T,layers:e,error:t}}function ee(e,t,r,n){return{type:w,dimension:e,value:t,options:r,layers:n}}function te(e){return{type:P,layer:e}}function re(e){return{type:A,layer:e}}function ne(){return{type:M}}function oe(e,t,r){return{type:j,id:e,nodeType:t,ctrlKey:r}}function ae(e){return{type:L,text:e}}function ie(e,t){return{type:C,metadataRecord:e,maskLoading:t}}function ue(){return{type:R}}function se(e,t){return{type:_,newParams:e,update:t}}},62520:(e,t,r)=>{"use strict";r.d(t,{dn:()=>n,NS:()=>o,Kn:()=>a,FV:()=>i,Vd:()=>u,yS:()=>s});var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT",o="MAP_LAYOUT:UPDATE_DOCK_PANELS",a="MAP_LAYOUT:FORCE_UPDATE_MAP_LAYOUT";function i(e){return{type:n,layout:e}}function u(e){return{type:o,name:e,action:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",location:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right"}}function s(){return{type:a}}},47361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(75263),o=r.n(n),a=r(24852),i=r.n(a),u=r(14293),s=r.n(u),l=r(68195);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function d(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?i().createElement(l.FormattedNumber,c({value:this.props.value},this.props.numberParams)):i().createElement("span",null,!s()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&m(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i().Component);d(g,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),d(g,"contextTypes",{intl:o().object});const h=g},74226:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>T});var n=r(49977),o=r.n(n),a=r(23570),i=r.n(a),u=r(62192),s=r(8797),l=r(89602),p=r(80416),c=r(46707),m=r(82904),f=r(21914),b=r(7147),d=r(97266),y=r(1550),g=r(42780),h=r(62520),v=r(98869);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T={addAnnotationFromMeasureEpic:function(e,t){return e.ofType(l.XX).switchMap((function(e){var r,n=e.features,a=e.textLabels,s=e.uom,p=e.save,f=e.properties||{},d=f.id,y=void 0===d?i()():d,h=f.visibility,v=void 0===h||h,E=S(S({},(0,u.tL)(n,a,s,y,"Annotations created from measurements",c.Eo)),{},{newFeature:p,visibility:v});return o().Observable.from([].concat(function(e){if(Array.isArray(e))return O(e)}(r=(0,b.Yq)("annotations")(t.getState())?[]:[(0,m.Xg)("annotations","enabled",!0)])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[(0,g.A9)(),(0,l.el)("exportToAnnotation",!1),(0,g.yg)(E)]))}))},addAsLayerEpic:function(e){return e.ofType(l.Wt).switchMap((function(e){var t=e.features,r=e.textLabels,n=e.uom,a=(0,u.tL)(t,r,n,i()());return o().Observable.of((0,p.A4)({type:"vector",id:i()(),name:"Measurements",hideLoading:!0,features:[a],visibility:!0}))}))},openMeasureEpic:function(e,t){return e.ofType(m.At,m.kM).filter((function(e){return"measure"===e.control&&(0,d.JF)(t.getState())})).switchMap((function(){var e,r,n=[(0,f.g)(),(0,f.aN)(),(0,y.H0)("click","measure")];return((null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r?void 0:r.measure)||{}).showCoordinateEditor&&n.push((0,h.Vd)("measure","add","right")),o().Observable.from(n)}))},closeMeasureEpics:function(e,t){return e.ofType(m.At,m.kM).filter((function(e){return"measure"===e.control&&!(0,b.QF)(t.getState())})).switchMap((function(){var e,r,n=[(0,l.Bd)({lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,geomType:null,len:0,area:0,bearing:0}),(0,g.Rx)(),(0,y.$X)("click","measure")];return((null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r?void 0:r.measure)||{}).showCoordinateEditor&&n.push((0,h.Vd)("measure","remove","right")),o().Observable.from(n)}))},setMeasureStateFromAnnotationEpic:function(e,t){return e.ofType(l.ES).switchMap((function(e){var r,n,a=e.features,i=e.properties,s=(0,d.on)(t.getState())===(null===(r=(0,u.k2)(a))||void 0===r?void 0:r[0]);return o().Observable.of(!s&&(0,l.Bd)({geomType:null===(n=(0,u.k2)(a))||void 0===n?void 0:n[0]}),(0,m.Xg)("measure","enabled",!0),(0,m.Xg)("annotations","enabled",!1),(0,g.r1)(i.id,!1))}))},addCoordinatesEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(y.TR).filter((function(){var e,t,r=(null===(e=n())||void 0===e||null===(t=e.controls)||void 0===t?void 0:t.measure)||{},o=r.showCoordinateEditor,a=r.enabled;return o&&a})).switchMap((function(e){var t,r,a,i=e.point,u=(null===(t=n())||void 0===t?void 0:t.measurement)||{},p=u.currentFeature,c=u.features,m=void 0===c?[]:c,f=u.geomType,b=(null==i?void 0:i.latlng)||{},d=b.lng,y=b.lat,g=(null===(r=m[p])||void 0===r||null===(a=r.geometry)||void 0===a?void 0:a.coordinates)||[],h=void 0!==(g="Polygon"===f?g[0]:g)?g.findIndex((function(e){return!(0,s.wd)(e)})):-1;return-1!==h?((g=g.map((function(e){return{lon:e[0],lat:e[1]}})))[h]={lon:d,lat:y},o().Observable.of((0,l.dD)(g))):o().Observable.empty()}))},tearDownMeasureOnDrawToolActive:function(e,t){return(0,v.U)(e,t,"measure")}}},33488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>be});var n=r(27418),o=r.n(n),a=r(24852),i=r.n(a),u=r(80681),s=r(71703),l=r(22222),p=r(42780),c=r(82904),m=r(89602),f=r(7147),b=r(93152),d=r(97266),y=r(37275),g=r(81756),h=r(43624),v=r.n(h),E=r(27361),O=r.n(E),w=r(18446),S=r.n(w),T=r(59854),P=r.n(T),A=r(75263),M=r.n(A),j=r(20),L=r(23570),C=r.n(L),R=r(89077),_=r(86638),x=r(62192),D=r(8797),k=r(5346),I=r(47361),F=r(65539),B=r(80717),G=r(60024);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function H(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Z(t)?t:String(t)}r.e(98545).then(r.bind(r,98545));var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(s,e);var t,r,n,o,a=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(o){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return H(Y(e=a.call.apply(a,[this].concat(r))),"onGeomClick",(function(t){e.props.geomType!==t&&e.props.toggleMeasure({geomType:t})})),H(Y(e),"onResetClick",(function(){e.props.toggleMeasure({geomType:null})})),H(Y(e),"getToolTips",(function(){return{lineToolTip:i().createElement(u.Tooltip,{id:"tooltip-button.line"},e.props.lengthLabel),areaToolTip:i().createElement(u.Tooltip,{id:"tooltip-button.area"},e.props.areaLabel),bearingToolTip:i().createElement(u.Tooltip,{id:"tooltip-button.bearing"},e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel)}})),H(Y(e),"renderMeasurements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={style:"decimal",minimumIntegerDigits:1,maximumFractionDigits:2,minimumFractionDigits:2};return i().createElement(u.Grid,{fluid:!0,style:{maxHeight:400}},e.props.lineMeasureEnabled&&i().createElement(u.Row,null,i().createElement(u.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.lineMeasureValueEnabled&&i().createElement(u.Col,{xs:6},i().createElement("span",null,e.props.lengthLabel,": "),i().createElement("span",{id:"measure-len-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,i().createElement(I.Z,{key:"len",numberParams:r,value:e.props.formatLength(e.props.uom.length.unit,e.props.measurement.len)})," ",e.props.uom.length.label)))),i().createElement(u.Col,{xs:6},i().createElement(j.DropdownList,{disabled:t,value:e.props.uom.length.label,onChange:function(t){e.props.onChangeUom("length",t,e.props.uom)},data:e.props.uomLengthValues,textField:"label",valueField:"value"})))),e.props.areaMeasureEnabled&&i().createElement(u.Row,null,i().createElement(u.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.areaMeasureValueEnabled&&i().createElement(u.Col,{xs:6},i().createElement("span",null,e.props.areaLabel,": "),i().createElement("span",{id:"measure-area-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,i().createElement(I.Z,{key:"area",numberParams:r,value:e.props.formatArea(e.props.uom.area.unit,e.props.measurement.area)})," ",e.props.uom.area.label)))),i().createElement(u.Col,{xs:6},i().createElement(j.DropdownList,{disabled:t,value:e.props.uom.area.label,onChange:function(t){e.props.onChangeUom("area",t,e.props.uom)},data:e.props.uomAreaValues,textField:"label",valueField:"value"})))),e.props.bearingMeasureEnabled&&e.props.bearingMeasureValueEnabled&&i().createElement(u.Row,null,i().createElement(u.FormGroup,{style:{display:"flex",alignItems:"center",minHeight:34}},i().createElement(u.Col,{xs:6},i().createElement("span",null,e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel,": "),i().createElement("span",{id:"measure-bearing-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,e.props.formatBearing(e.props.measurement.bearing||0,e.isTrueBearing()&&e.props.measurement.trueBearing))))))))})),H(Y(e),"renderPanel",(function(t){return e.props.showResults?e.renderMeasurements(t):null})),H(Y(e),"renderLabel",(function(t){return e.props.showButtonsLabels?i().createElement("span",{className:"option-text"},(0,_.S$)(e.context.messages,t)):null})),H(Y(e),"renderText",(function(t,r){return t?i().createElement("span",null,i().createElement("span",{className:"option-icon"},i().createElement(u.Glyphicon,{glyph:t})),e.renderLabel(r)):e.renderLabel(r)})),H(Y(e),"isTrueBearing",(function(){return e.props.measurement&&e.props.measurement.trueBearing&&e.props.measurement.trueBearing.measureTrueBearing})),e}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.geomType||this.props.toggleMeasure({geomType:"LineString"})}},{key:"shouldComponentUpdate",value:function(e){return!S()(e,this.props)}},{key:"render",value:function(){var e,t,r,n=this,o=O()(this.props.measurement,"features",[])[this.props.measurement.currentFeature||0],a=(null==o||null===(e=o.properties)||void 0===e?void 0:e.disabled)||!1,s=0===(this.props.measurement.features||[]).length||a;this.props.useSingleFeature?(t=(O()(this.props.measurement,"feature.geometry.type")||"").toLowerCase(),r=(O()(this.props.measurement,-1!==t.indexOf("polygon")?"feature.geometry.coordinates[0]":"feature.geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}}))):(t=O()(o,"geometry.type","").toLowerCase(),r=(O()(o,-1!==t.indexOf("polygon")?"geometry.coordinates[0]":"geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}})));var l=(this.props.measurement||{}).exportToAnnotation,p=void 0!==l&&l;return i().createElement(F.Z,{id:this.props.id,style:{overflow:"visible"},header:i().createElement("div",null,i().createElement(u.ButtonToolbar,{style:{width:"100%",marginBottom:15,marginTop:8,display:"flex",justifyContent:"center"}},i().createElement(B.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:this.props.lineGlyph,active:!!this.props.lineMeasureEnabled,bsStyle:this.props.lineMeasureEnabled?"success":"primary",tooltip:this.renderText(this.props.inlineGlyph&&this.props.lineGlyph,"measureComponent.MeasureLength"),onClick:function(){return n.onGeomClick("LineString")},disabled:!this.props.lineMeasureEnabled&&a},{active:!!this.props.areaMeasureEnabled,bsStyle:this.props.areaMeasureEnabled?"success":"primary",glyph:this.props.areaGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.areaGlyph,"measureComponent.MeasureArea"),onClick:function(){return n.onGeomClick("Polygon")},disabled:!this.props.areaMeasureEnabled&&a},{visible:!this.props.disableBearing,active:!!this.props.bearingMeasureEnabled,bsStyle:this.props.bearingMeasureEnabled?"success":"primary",glyph:this.props.bearingGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.bearingGlyph,this.isTrueBearing()?"measureComponent.MeasureTrueBearing":"measureComponent.MeasureBearing"),onClick:function(){return n.onGeomClick("Bearing")},disabled:!this.props.bearingMeasureEnabled&&a}]}),i().createElement(B.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"remove",visible:!!this.props.withReset,tooltip:i().createElement(k.Z,{msgId:"measureComponent.resetTooltip"}),onClick:function(){return n.onResetClick()}}]}),i().createElement(B.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"ext-json",disabled:s,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showExportToGeoJSON,tooltip:i().createElement(k.Z,{msgId:"measureComponent.exportToGeoJSON"}),onClick:function(){(0,R.LR)(JSON.stringify((0,x.tL)(n.props.measurement.features,n.props.measurement.textLabels,n.props.uom,C()(),"MapStore Measurements")),"measurements.json","application/geo+json")}},{glyph:"1-layer",visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsLayer,disabled:s||p,tooltip:i().createElement(k.Z,{msgId:"measureComponent.addAsLayer"}),onClick:function(){return n.props.onAddAsLayer(n.props.measurement.features,n.props.measurement.textLabels,n.props.uom)}},{glyph:p?"floppy-disk":"comment",tooltip:i().createElement(k.Z,{msgId:p?"measureComponent.saveMeasure":"measureComponent.addAsAnnotation"}),onClick:function(){n.props.onAddAnnotation(n.props.measurement.features,n.props.measurement.textLabels,n.props.uom,!p,{id:n.props.measurement.id,visibility:n.props.measurement.visibility})},disabled:s,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsAnnotation}]})),this.renderPanel(a))},this.props.showCoordinateEditor&&i().createElement(u.Grid,{fluid:!0,style:{maxHeight:400,borderTop:"1px solid #ddd"}},this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled?i().createElement(u.Row,{style:this.props.isCoordinateEditorEnabled?{}:{pointerEvents:"none",opacity:.5}},i().createElement(G.Z,{key:"measureEditor",isMouseEnterEnabled:!0,isMouseLeaveEnabled:!0,format:this.props.format,currentFeature:this.props.measurement.currentFeature,features:this.props.measurement.features,mapProjection:this.props.mapProjection,onChangeFormat:this.props.onChangeFormat,onHighlightPoint:this.props.onHighlightPoint,onChange:this.props.onChangeCoordinates,onChangeCurrentFeature:this.props.onChangeCurrentFeature,showFeatureSelector:this.props.showFeatureSelector,items:[],isDraggable:!0,type:this.props.geomType,showLengthAndBearingLabel:this.props.showLengthAndBearingLabel,components:this.props.useSingleFeature||-1===t.indexOf("polygon")?r:v()(r),properties:(null==o?void 0:o.properties)||{}})):i().createElement(u.Row,null,i().createElement(u.Col,{xs:12,className:"text-center",style:{padding:15}},i().createElement("i",null,i().createElement(k.Z,{msgId:"measureComponent.selectTool"}))))))}}])&&N(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i().Component);H(X,"propTypes",{id:M().string,name:M().string,columnProperties:M().object,propertiesChangeHandler:M().func,lengthButtonText:M().oneOfType([M().string,M().element]),areaButtonText:M().oneOfType([M().string,M().element]),resetButtonText:M().oneOfType([M().string,M().element]),lengthLabel:M().oneOfType([M().string,M().element]),areaLabel:M().oneOfType([M().string,M().element]),bearingLabel:M().oneOfType([M().string,M().element]),trueBearingLabel:M().oneOfType([M().string,M().element]),uom:M().shape({length:M().shape({unit:M().string.isRequired,label:M().string.isRequired}),area:M().shape({unit:M().string.isRequired,label:M().string.isRequired})}),toggleMeasure:M().func,measurement:M().object,lineMeasureEnabled:M().bool,lineMeasureValueEnabled:M().bool,areaMeasureEnabled:M().bool,areaMeasureValueEnabled:M().bool,bearingMeasureEnabled:M().bool,bearingMeasureValueEnabled:M().bool,showButtons:M().bool,showResults:M().bool,mapProjection:M().string,lineGlyph:M().string,areaGlyph:M().string,bearingGlyph:M().string,withReset:M().bool,showButtonsLabels:M().bool,inlineGlyph:M().bool,formatLength:M().func,formatArea:M().func,formatBearing:M().func,onChangeUom:M().func,uomLengthValues:M().array,uomAreaValues:M().array,format:M().string,onChangeFormat:M().func,onChangeCoordinates:M().func,onChangeCurrentFeature:M().func,onAddAsLayer:M().func,onHighlightPoint:M().func,geomType:M().string,defaultOptions:M().object,onAddAnnotation:M().func,showAddAsAnnotation:M().bool,showLengthAndBearingLabel:M().bool,showAddAsLayer:M().bool,showFeatureSelector:M().bool,useSingleFeature:M().bool,showExportToGeoJSON:M().bool,disableBearing:M().bool,trueBearing:M().object,onMount:M().func,onUpdateOptions:M().func,showCoordinateEditor:M().bool,isCoordinateEditorEnabled:M().bool}),H(X,"contextTypes",{messages:M().object}),H(X,"defaultProps",{mapProjection:"EPSG:3857",columnProperties:{xs:4,sm:4,md:4},uomLengthValues:[{value:"ft",label:"ft"},{value:"m",label:"m"},{value:"km",label:"km"},{value:"mi",label:"mi"},{value:"nm",label:"nm"}],uomAreaValues:[{value:"sqft",label:"ft²"},{value:"sqm",label:"m²"},{value:"sqkm",label:"km²"},{value:"sqmi",label:"mi²"},{value:"sqnm",label:"nm²"}],id:"measure-result-panel",uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},geomType:"LineString",defaultOptions:{geomType:"LineString"},showResults:!0,showAddAsAnnotation:!1,showAddAsLayer:!0,showExportToGeoJSON:!0,showCoordinateEditor:!1,isCoordinateEditorEnabled:!0,showLengthAndBearingLabel:!1,withReset:!0,lineGlyph:"1-measure-length",areaGlyph:"1-measure-area",bearingGlyph:"1-measure-bearing",showButtonsLabels:!0,lengthLabel:i().createElement(k.Z,{msgId:"measureComponent.lengthLabel"}),areaLabel:i().createElement(k.Z,{msgId:"measureComponent.areaLabel"}),bearingLabel:i().createElement(k.Z,{msgId:"measureComponent.bearingLabel"}),trueBearingLabel:i().createElement(k.Z,{msgId:"measureComponent.trueBearingLabel"}),formatLength:function(e,t){return(0,D.Ov)(t,"m",e)},formatArea:function(e,t){return(0,D.Ov)(t,"sqm",e)},formatBearing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,D.rp)(P()(e||0,6),t)},onChangeUom:function(){},onChangeFormat:function(){},onMount:function(){},onUpdateOptions:function(){},onAddAsLayer:function(){}});const W=X;var J=r(7472),z=r(51736),K=["showCoordinateEditor"];function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function oe(e,t,r){return(t=ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(s,e);var t,r,n,o,a=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(n);if(o){var r=ne(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return oe(re(e=a.call.apply(a,[this].concat(r))),"onClose",(function(){e.props.onClose(!1)})),oe(re(e),"initDefaultOptions",(function(t){var r=t.showCoordinateEditor,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,K);e.props.onMount(r||e.props.showCoordinateEditor),e.props.toggleMeasure({geomType:n.geomType||"LineString"}),e.props.onInit(n)})),e}return t=s,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.initDefaultOptions(this.props.defaultOptions)}},{key:"componentDidUpdate",value:function(e){S()(e.defaultOptions,this.props.defaultOptions)||this.initDefaultOptions(this.props.defaultOptions)}},{key:"render",value:function(){return this.props.show?this.props.showCoordinateEditor?i().createElement(z.Z,{dock:!0,containerId:"measure-container",containerStyle:this.props.dockStyle,bsStyle:"primary",position:"right",title:i().createElement(k.Z,{key:"title",msgId:"measureComponent.Measure"}),glyph:"1-ruler",size:this.props.size,open:this.props.show,onClose:this.onClose,style:this.props.dockStyle},i().createElement(W,Q({id:"measure-panel"},this.props))):i().createElement(J.Z,{id:"measure-dialog"},i().createElement("div",{key:"header",role:"header"},i().createElement(u.Glyphicon,{glyph:"1-ruler"})," ",i().createElement(k.Z,{key:"title",msgId:"measureComponent.Measure"}),i().createElement("button",{key:"close",onClick:this.onClose,className:"close"},this.props.closeGlyph?i().createElement(u.Glyphicon,{glyph:this.props.closeGlyph}):i().createElement("span",null,"×"))),i().createElement("div",{key:"body",role:"body"},i().createElement(W,Q({id:"measure-panel",style:{minWidth:"500px"}},this.props)))):null}}])&&ee(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i().Component);oe(ie,"propTypes",{show:M().bool,closeGlyph:M().string,onClose:M().func,onMount:M().func,onInit:M().func,showCoordinateEditor:M().bool,defaultOptions:M().object,style:M().object,dockStyle:M().object,size:M().number}),oe(ie,"contextTypes",{messages:M().object}),oe(ie,"defaultProps",{show:!1,defaultOptions:{},onMount:function(){},onInit:function(){},toggleMeasure:function(){},showCoordinateEditor:!1,showAddAsAnnotation:!1,closeGlyph:"1-close",dockStyle:{},size:550});var ue=ie,se=r(55105);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===le(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=c.Xi.bind(null,"measure",null),fe=(0,s.connect)((0,l.P1)([function(e){return{measurement:e.measurement||{},uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lineMeasureEnabled:e.measurement&&e.measurement.lineMeasureEnabled,lineMeasureValueEnabled:!(0,b.m6)(e),areaMeasureEnabled:e.measurement&&e.measurement.areaMeasureEnabled,areaMeasureValueEnabled:!(0,b.m6)(e),bearingMeasureEnabled:e.measurement&&e.measurement.bearingMeasureEnabled,showLengthAndBearingLabel:e.measurement&&e.measurement.showLengthAndBearingLabel,bearingMeasureValueEnabled:!(0,b.m6)(e),isCoordinateEditorEnabled:(0,d.iL)(e),showCoordinateEditor:(0,f.Iz)(e),showFeatureSelector:(0,b.m6)(e),useSingleFeature:!(0,b.m6)(e),withReset:(0,b.m6)(e),showExportToGeoJSON:(0,b.m6)(e),showAddAsAnnotation:(0,d.cD)(e)&&(0,b.m6)(e),trueBearing:(0,d.jM)(e),showAddAsLayer:(0,b.m6)(e),isCoordEditorEnabled:e.measurement&&!e.measurement.isDrawing,geomType:e.measurement&&e.measurement.geomType,format:e.measurement&&e.measurement.format,dockStyle:(0,se.ic)(e,{height:!0,right:!0},!0)}},function(e){return(0,f.QF)(e)}],(function(e,t){return ce(ce({},e),{},{show:t,format:e.format||y.ZP.getConfigProp("defaultCoordinateFormat")||"decimal"})})),{toggleMeasure:m.Bd,onAddAnnotation:m.ud,onChangeUom:m.Gd,onHighlightPoint:p.aS,onChangeFormat:m.RM,onInit:m.S1,onChangeCoordinates:m.dD,onChangeCurrentFeature:m.h2,onClose:me,onMount:function(e){return(0,c.Xg)("measure","showCoordinateEditor",e)},onAddAsLayer:m.NR},null,{pure:!1})(ue);const be={MeasurePlugin:o()(fe,{disablePluginIf:"{state('mapType') === 'cesium'}",BurgerMenu:{name:"measurement",position:9,panel:!1,help:i().createElement(g.Z,{msgId:"helptexts.measureComponent"}),tooltip:"measureComponent.tooltip",text:i().createElement(g.Z,{msgId:"measureComponent.Measure"}),icon:i().createElement(u.Glyphicon,{glyph:"1-ruler"}),action:function(){return(0,c.Xg)("measure","enabled",!0)},doNotHide:!0,priority:2},SidebarMenu:{name:"measurement",position:9,panel:!1,help:i().createElement(g.Z,{msgId:"helptexts.measureComponent"}),tooltip:"measureComponent.tooltip",text:i().createElement(g.Z,{msgId:"measureComponent.Measure"}),icon:i().createElement(u.Glyphicon,{glyph:"1-ruler"}),action:c.Xi.bind(null,"measure",null),toggle:!0,toggleControl:"measure",toggleProperty:"enabled",doNotHide:!0,priority:1}}),reducers:{measurement:r(78113).Z},epics:r(74226).ZP}},81756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(71703),o=r(5346);const a=(0,n.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.Z)},78113:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var n=r(89602),o=r(82904),a=r(61868),i=r(62192),u=r(8797),s=r(38946),l=r(43624),p=r.n(l),c=r(41609),m=r.n(c),f=r(30998),b=r.n(f),d=r(81763),y=r.n(d),g=r(27418),h=r.n(g),v=["id"];function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A={lineMeasureEnabled:!0,geomType:"LineString",areaMeasureEnabled:!1,bearingMeasureEnabled:!1,customStartEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lengthFormula:"haversine",showLabel:!0,showSegmentLengths:!0,currentFeature:0,features:[]};const M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.lD:var r,l=null!==t.geomType&&b()(e.features,(function(e){var r,n;return("bearing"===((null===(r=e.properties)||void 0===r||null===(n=r.values)||void 0===n?void 0:n[0])||{}).type?"Bearing":e.geometry.type)===t.geomType}));return h()({},e,{lineMeasureEnabled:t.geomType!==e.geomType&&"LineString"===t.geomType,areaMeasureEnabled:t.geomType!==e.geomType&&"Polygon"===t.geomType,bearingMeasureEnabled:t.geomType!==e.geomType&&"Bearing"===t.geomType,geomType:t.geomType===e.geomType?null:t.geomType,features:null===t.geomType?[]:e.features,textLabels:null===t.geomType?[]:e.textLabels,feature:{properties:{disabled:!0}},currentFeature:-1!==l?l:(null===(r=e.features)||void 0===r?void 0:r.length)||0,len:0,area:0,bearing:0});case n.yK:var c=t.feature;return(0,s.oU)(c)&&(c=(0,a.t8)("geometry.coordinates[0]",p()(c.geometry.coordinates[0]),c)),h()({},e,{lineMeasureEnabled:t.lineMeasureEnabled,areaMeasureEnabled:t.areaMeasureEnabled,bearingMeasureEnabled:t.bearingMeasureEnabled,geomType:t.geomType,values:t.values,feature:(0,a.t8)("properties.disabled",e.feature.properties.disabled,c),point:t.point,len:t.len,area:t.area,bearing:t.bearing,lenUnit:t.lenUnit,areaUnit:t.areaUnit});case n.sc:var f=t.measures,d=f.point,g=f.len,E=f.area,w=f.bearing;return T(T({},e),{},{point:d,len:g,area:E,bearing:w});case n.Qw:return T(T({},(0,a.t8)("feature.properties.disabled",!0,e)),{},{isDrawing:!0,updatedByUI:!1});case n.gf:var S,M="length"===t.uom?"lenUnit":"lenArea",j=t.value,L=j.value,C=j.label;return h()({},e,(P(S={},M,L),P(S,"uom",h()({},t.previousUom,P({},t.uom,{unit:L,label:C}))),P(S,"updatedByUI",!0),S));case n.Qr:var R,_=t.features,x=void 0===_?[]:_,D=(0,i.k2)(x),k=(null===(R=e.features)||void 0===R?void 0:R.length)===x.length?e.currentFeature:x.length?x.length-1:0;return T(T({},e),{},{features:x,currentFeature:k,geomTypeSelected:D,updatedByUI:!1,isDrawing:!1},m()(x)&&{exportToAnnotation:!1});case n.Kf:var I=t.property,F=t.value;return T(T({},e),{},P({},I,F));case n.ES:var B=t.features,G=t.properties,Z=(0,i.k2)(B);return T(T({},e),{},{features:B,geomTypeSelected:Z,updatedByUI:!0,isDrawing:!1,exportToAnnotation:!0,id:G.id,visibility:G.visibility});case n.Kx:return T(T({},e),{},{textLabels:t.textLabels});case n.V:return T(T({},e),{},{currentFeature:y()(t.featureIndex)?t.featureIndex:e.features.length});case o.kM:e.id;var N=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,v);return"info"===t.control?T(T({},N),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:""}):"measure"===t.control?T(T({},N),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.At:return"measure"===t.control&&!1===t.value?T(T({},e),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.l:return T(T({},e),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:"",features:[]});case n.GI:return T(T({},e),{},{format:t.format});case n.qg:return T(T({},e),t.defaultOptions);case n.MT:var U,Y=t.coordinates.map((function(e){return[e.lon,e.lat]})),V=e.features||[],H=V[e.currentFeature]||{},q=Y.filter((function(e){return(0,u.wd)(e)})).length!==Y.length;return T(T({},e),{},{feature:{type:"Feature",properties:{disabled:Y.filter((function(e){return(0,u.wd)(e)})).length!==Y.length},geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[p()(Y)]:Y}},features:[].concat(O(V.slice(0,e.currentFeature)),[T(T({},H),{},{type:"Feature",properties:T(T({},H.properties||{}),{},{disabled:q||e.bearingMeasureEnabled&&Y.length<2}),geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[[].concat(O(Y),[Y[0]])]:Y,textLabels:(null==H||null===(U=H.geometry)||void 0===U?void 0:U.textLabels)||[]}})],O(V.slice(e.currentFeature+1,V.length))),updatedByUI:!0});default:return e}}},97266:(e,t,r)=>{"use strict";r.d(t,{JF:()=>m,iL:()=>f,cD:()=>b,jM:()=>d,VH:()=>g,on:()=>h});var n=r(93152),o=r(7147),a=r(61868),i=r(8797),u=r(27361),s=r.n(u);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){return s()(e,"controls.measure.enabled")},f=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,n.m6)(e)},b=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},d=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},y=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,a.t8)("geometry.coordinates",(0,i.L0)(t.geometry||{}),t)),t},g=function(e){return e.measurement&&c(c({},e.measurement),{},{feature:y(e)})||{}},h=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},38946:(e,t,r)=>{"use strict";r.d(t,{y7:()=>v,oU:()=>E,hH:()=>O});var n=r(73800),o=r(45801),a=r(86306),i=r(18369),u=r(78516),s=r(52),l=r(48041),p=r(78653),c=r(97950),m=r(52043),f=r(44538),b=r(52329),d=r(25642),y=r(13987),g=r(69669),h=r(40353),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type,n=t.coordinates,o=t.radius,a=t.center;switch(r){case"Point":e=new m.Z(n||[]);break;case"LineString":e=new f.Z(n||[]);break;case"MultiPoint":e=new b.Z(n||[]);break;case"MultiLineString":e=new d.Z(n||[]);break;case"MultiPolygon":e=new y.Z(n||[]);break;default:e=o&&a?(0,h.Bb)(new g.Z([a.x,a.y],o),100):new h.ZP(n||[])}return e},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},O={dragPan:{options:{kinetic:!1},Instance:n.Z},keyboardPan:{options:{kinetic:!1},Instance:o.Z},mouseWheelZoom:{options:{duration:0},Instance:a.Z},doubleClickZoom:{options:{duration:0},Instance:i.Z},shiftDragZoom:{options:{duration:0},Instance:u.Z},keyboardZoom:{options:{},Instance:s.Z},pinchZoom:{options:{duration:0},Instance:l.Z},pinchRotate:{options:{},Instance:p.Z},altShiftDragRotate:{options:{},Instance:c.Z}}}}]);