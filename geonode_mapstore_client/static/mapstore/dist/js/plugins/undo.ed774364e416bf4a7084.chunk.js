(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[81324],{38560:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(80681),o=n(24852),i=n.n(o),u=n(94184),l=n.n(u),c=["disabled","className","onClick"];function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}const s=(p=r.Button,i().forwardRef((function(t,e){var n=t.disabled,r=t.className,o=t.onClick,u=void 0===o?function(){}:o,s=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,c);return i().createElement(p,a({ref:e,className:n?l()("disabled",r):r,onClick:function(){n||u.apply(void 0,arguments)}},s),s.children)})));var p},81756:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(71703),o=n(5346);const i=(0,r.connect)((function(t){return{locale:t.locale&&t.locale.currentLocale,messages:t.locale&&t.locale.messages||[]}}))(o.Z)},95617:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var r=n(27418),o=n.n(r),i=n(24852),u=n.n(i),l=n(80681),c=n(71703),a=n(21090),s=n(75263),p=n.n(s),f=n(50966),y=n(38560);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function O(t,e,n){return(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(r);if(o){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return O(g(t=i.call.apply(i,[this].concat(n))),"onClick",(function(){t.props.onClick()})),O(g(t),"renderButton",(function(){return u().createElement(y.Z,b({id:t.props.id,disabled:t.props.disabled},t.props.btnConfig,{onClick:t.onClick,bsStyle:t.props.buttonStyle,style:t.props.style}),u().createElement(l.Glyphicon,{glyph:t.props.glyph}),t.props.text,t.props.help)})),O(g(t),"addTooltip",(function(e){var n=u().createElement(l.Tooltip,{id:"undo-btn-tooltip"},t.props.tooltip);return u().createElement(f.Z,{placement:t.props.tooltipPlace,key:"overlay-trigger."+t.props.id,overlay:n},e)})),t}return e=c,(n=[{key:"shouldComponentUpdate",value:function(t){return this.props.disabled!==t.disabled}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var t=this.renderButton();return this.props.tooltip?this.addTooltip(t):t}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(u().Component);O(w,"propTypes",{id:p().string,btnConfig:p().object,text:p().oneOfType([p().string,p().element]),help:p().oneOfType([p().string,p().element]),onClick:p().func,tooltip:p().element,tooltipPlace:p().string,style:p().object,glyph:p().string,buttonStyle:p().string,disabled:p().bool}),O(w,"defaultProps",{id:"undo-btn",onClick:function(){},tooltipPlace:"left",glyph:"1-screen-backward",buttonStyle:"primary",btnConfig:{className:"square-button"}});const T=w;var P=n(81756),k=a.zF.undo,E=(0,c.connect)((function(t){return{disabled:!((t.map&&t.map.past&&{past:t.map.past,future:t.map.future}||{past:[],future:[]}).past.length>0)}}),{onClick:k})(T);const C={UndoPlugin:o()(E,{Toolbar:{name:"undo",position:5,tool:!0,tooltip:"history.undoBtnTooltip",icon:u().createElement(l.Glyphicon,{glyph:"step-backward"}),help:u().createElement(P.Z,{msgId:"helptexts.historyundo"}),priority:1}}),reducers:{}}},21090:(t,e)=>{"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.ZP=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r=e.debug;var l={initialState:e.initialState,initTypes:f(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||u.UNDO,redoType:e.redoType||u.REDO};return l.history=e.initialHistory||p(l.initialState),0===l.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,u){!function(t,e){if(r){var n=["action",t.type];console.group?(n.unshift("%credux-undo","font-style: italic"),console.groupCollapsed.apply(console,n),console.log("received",{state:e,action:t})):o.apply(void 0,n)}}(u,e);var f=void 0;switch(u.type){case l.undoType:return f=function(t){o("undo",{history:t});var e=t.past,n=t.present,r=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[n].concat(r)}}(e),o("after undo",f),i(),f?s(e,f):e;case l.redoType:return f=function(t){o("redo",{history:t});var e=t.past,n=t.present,r=t.future;return r.length<=0?t:{future:r.slice(1,r.length),present:r[0],past:[].concat(e,[n])}}(e),o("after redo",f),i(),f?s(e,f):e;default:if(f=t(e&&e.present,u),l.initTypes.some((function(t){return t===u.type})))return o("reset history due to init action"),i(),a(n({},e,p(f)));if(l.filter&&"function"==typeof l.filter&&!l.filter(u,f,e&&e.present))return o("filter prevented action, not storing it"),i(),a(n({},e,{present:f}));var y=function(t,e,n){o("insert",{state:e,history:t,free:n-c(t)});var r=t.past,i=t.present,u=n&&c(t)>=n;return void 0===i?{past:[],present:e,future:[]}:{past:[].concat(r.slice(u?1:0),[i]),present:e,future:[]}}(e&&void 0!==e.present?e:l.history,f,l.limit);return o("after insert",{history:y,free:l.limit-c(y)}),i(),a(n({},e,y))}}};var r=void 0;function o(){if(r){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.group||e.unshift("%credux-undo","font-style: italic"),console.log.apply(console,e)}}function i(){if(r)return console.groupEnd&&console.groupEnd()}var u={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO"};e.MF=u;var l={undo:function(){return{type:u.UNDO}},redo:function(){return{type:u.REDO}}};function c(t){var e=t.past,n=t.future;return e.length+1+n.length}function a(t){return n({},t,{history:t})}function s(t,e){return a(n({},t,e))}function p(t){return{past:[],present:t,future:[]}}function f(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}e.zF=l}}]);