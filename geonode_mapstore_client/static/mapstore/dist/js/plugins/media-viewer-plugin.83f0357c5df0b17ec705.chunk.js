(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[92184],{219741:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>P});var r=t(124852),i=t.n(r),o=t(322843),a=t(882017),u=t(532425),c=t(595440);function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,u=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=t(991288),d=t(535721);function m(e){var n=e.url;return i().createElement("div",{className:"gn-main-event-container"},i().createElement("iframe",{frameBorder:"0",key:n,src:n,style:{width:"100%",height:"100%"}}))}m.defaultProps={url:""};const v=m;var p=["resource"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y.apply(this,arguments)}var g=(0,r.lazy)((function(){return Promise.all([t.e(80813),t.e(4333)]).then(t.bind(t,504333))})),h={image:a.ZP,video:a.ZP,pdf:function(e){var n=e.src,t=l((0,r.useState)(null),2),o=t[0],a=t[1],f=l((0,r.useState)(!1),2),s=f[0],d=f[1];return(0,r.useEffect)((function(){d(!0),(0,c.hn)(n).then((function(e){d(!1),a(e)})).finally((function(){d(!1)}))}),[]),s?i().createElement("div",{className:"pdf-loader"},i().createElement(u.Z,{size:70})):i().createElement("iframe",{className:"gn-pdf-viewer",type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%",src:o})},gltf:g,pcd:g,unsupported:function(e){var n=e.url,t=void 0===n?"":n;return i().createElement(v,{url:t})}},b={video:{mode:"view",inView:!0,fit:"contain"},image:{fit:"contain",enableFullscreen:!0,loaderComponent:function(){return i().createElement("div",{className:"pdf-loader"},i().createElement(u.Z,{size:70}))}},pdf:{},unsupported:{}};const w=function(e){var n=e.resource,t=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,p),o=(0,d.NN)(),a=n&&(o[n.subtype]||o[n.resource_type])||{},u=a.hasPermission,l=a.metadataPreviewUrl,f=void 0===l?function(){}:l,m=(null==n?void 0:n.pk)&&u&&u(n);if(n&&m){var v=(0,c.if)(n.extension),g=h[v];return i().createElement(r.Suspense,{fallback:null},i().createElement(g,y({mediaType:v},b[v],t[v],{description:n.abstract,id:n.pk,thumbnail:function(){return(0,d.Ql)(null==n?void 0:n.thumbnail_url)},src:n.href,url:n?f(n):""})))}return i().createElement(s.Z,{msgId:"gnhome.permissionsMissing"})};var E=t(171703),O=t(22222),x=t(572036),T=(0,E.connect)((0,O.P1)([function(e){var n;return(null==e||null===(n=e.gnresource)||void 0===n?void 0:n.data)||null},function(e){var n;return(null==e||null===(n=e.gnresource)||void 0===n?void 0:n.loading)||!1}],(function(e,n,t){return{resource:e,loading:n,editMode:t}})))(w),j=(0,E.connect)((0,O.P1)([],(function(){return{}})),{})((function(e){return i().createElement("div",{className:"gn-media-viewer"},i().createElement(T,e))}));const P=(0,o.rx)("MediaViewer",{component:j,containers:{},epics:{},reducers:{gnresource:x.Z}})},945177:(e,n,t)=>{"use strict";var r=t(595318);n.__esModule=!0,n.default=void 0;var i,o=r(t(250139)),a="clearTimeout",u=function(e){var n=(new Date).getTime(),t=Math.max(0,16-(n-l)),r=setTimeout(e,t);return l=n,r},c=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(e){var n=c(e,"request");if(n in window)return a=c(e,"cancel"),u=function(e){return window[n](e)}}));var l=(new Date).getTime();(i=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var f=i;n.default=f,e.exports=n.default},23279:(e,n,t)=>{var r=t(513218),i=t(707771),o=t(14841),a=Math.max,u=Math.min;e.exports=function(e,n,t){var c,l,f,s,d,m,v=0,p=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(n){var t=c,r=l;return c=l=void 0,v=n,s=e.apply(r,t)}function b(e){var t=e-m;return void 0===m||t>=n||t<0||y&&e-v>=f}function w(){var e=i();if(b(e))return E(e);d=setTimeout(w,function(e){var t=n-(e-m);return y?u(t,f-(e-v)):t}(e))}function E(e){return d=void 0,g&&c?h(e):(c=l=void 0,s)}function O(){var e=i(),t=b(e);if(c=arguments,l=this,m=e,t){if(void 0===d)return function(e){return v=e,d=setTimeout(w,n),p?h(e):s}(m);if(y)return clearTimeout(d),d=setTimeout(w,n),h(m)}return void 0===d&&(d=setTimeout(w,n)),s}return n=o(n)||0,r(t)&&(p=!!t.leading,f=(y="maxWait"in t)?a(o(t.maxWait)||0,n):f,g="trailing"in t?!!t.trailing:g),O.cancel=function(){void 0!==d&&clearTimeout(d),v=0,c=m=l=d=void 0},O.flush=function(){return void 0===d?s:E(i())},O}},707771:(e,n,t)=>{var r=t(555639);e.exports=function(){return r.Date.now()}}}]);