(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[52066,47310],{53001:(e,t,r)=>{"use strict";r.d(t,{xT:()=>n,H_:()=>o,Wv:()=>i,gC:()=>a,dG:()=>u,oQ:()=>c,Q2:()=>l,R3:()=>s,Zr:()=>f,Op:()=>p,l$:()=>y,uL:()=>m,zg:()=>d,K2:()=>b,M3:()=>v,st:()=>O,US:()=>g,$c:()=>S,pW:()=>h,$D:()=>E,ke:()=>w,rE:()=>T,vw:()=>A,r5:()=>R,X1:()=>P,V3:()=>C,p2:()=>x});var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",i="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",a="BACKGROUND_SELECTOR:BACKGROUND_ADDED",u="BACKGROUND_SELECTOR:BACKGROUND_EDITED",c="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",l="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",s="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",f="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",p="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",y="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",d="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION",b="BACKGROUND_SELECTOR:SYNC_CURRENT_BACKGROUND_LAYER";function v(e){return{type:p,backgrounds:e}}function O(e){return{type:n,source:e}}function g(e){return{type:c,modalParams:e}}function S(e){return{type:l,modalParams:e}}function h(e){return{type:a,layerId:e}}function E(e){return{type:u,layerId:e}}function w(e){return{type:i,layerId:e}}function T(e){return{type:b,id:e}}function A(e){return{type:d,allow:e}}function R(e,t){return{type:s,thumbnailData:e,id:t}}function P(e){return{type:o,backgroundId:e}}function C(){return{type:y}}function x(e){return{type:m,show:e,layerTitle:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,layerId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}},31273:(e,t,r)=>{"use strict";r.d(t,{WX:()=>c,r7:()=>l,V3:()=>s,HR:()=>f,xi:()=>p,ur:()=>y,vK:()=>m,nm:()=>d,QF:()=>b,zZ:()=>O,uN:()=>g,Bz:()=>S,im:()=>h,CO:()=>E,$X:()=>w,Mt:()=>T,Oq:()=>A,YO:()=>R,PR:()=>P,wI:()=>C,bv:()=>x,mh:()=>_,$Y:()=>j,eA:()=>L,UT:()=>D,cS:()=>I,l3:()=>M,Kz:()=>G,vg:()=>N,xM:()=>U,do:()=>F,lb:()=>B,yu:()=>k,c$:()=>W,tt:()=>V,nX:()=>K,BG:()=>H,Rc:()=>q,K4:()=>Y,Dw:()=>Z,dL:()=>$,In:()=>z,r1:()=>X,XW:()=>J,L8:()=>Q,i3:()=>ee,XM:()=>te,X7:()=>re,M3:()=>ne,N3:()=>oe,SU:()=>ie,wo:()=>ae,ye:()=>ue,m:()=>ce,wl:()=>le,bu:()=>se,A4:()=>fe,vG:()=>pe,ky:()=>ye,Wf:()=>me,Ts:()=>de,IT:()=>be,XS:()=>ve,tx:()=>Oe,We:()=>ge,nx:()=>Se,E9:()=>he,zX:()=>Ee});var n=r(59551),o=r(67007),i=r(3475),a=r(32354),u=r(97395),c=(n.ZP,o.ZP,i.Z,a.Z,"CATALOG:ADD_LAYERS_FROM_CATALOGS"),l="CATALOG:ADD_LAYER_AND_DESCRIBE",s="CATALOG:TEXT_SEARCH",f="CATALOG:RECORD_LIST_LOADED",p="CATALOG:RESET_CATALOG",y="CATALOG:CATALOG_CLOSE",m="CATALOG:RECORD_LIST_LOAD_ERROR",d="CATALOG:CHANGE_CATALOG_FORMAT",b="CATALOG:ADD_LAYER_ERROR",v="CATALOG:DESCRIBE_ERROR",O="CATALOG:CHANGE_SELECTED_SERVICE",g="CATALOG:CHANGE_CATALOG_MODE",S="CATALOG:CHANGE_METADATA_TEMPLATE",h="CATALOG:CHANGE_TITLE",E="CATALOG:CHANGE_TEXT",w="CATALOG:CHANGE_TYPE",T="CATALOG:CHANGE_SERVICE_PROPERTY",A="CATALOG:CHANGE_SERVICE_FORMAT",R="CATALOG:FOCUS_SERVICES_LIST",P="CATALOG:CHANGE_URL",C="CATALOG:ADD_CATALOG_SERVICE",x="CATALOG:DELETE_CATALOG_SERVICE",_="CATALOG:ADD_SERVICE",j="CATALOG:DELETE_SERVICE",L="CATALOG:SAVING_SERVICE",D="CATALOG:GET_METADATA_RECORD_BY_ID",I="CATALOG:SET_LOADING",M="CATALOG:TOGGLE_TEMPLATE",G="CATALOG:TOGGLE_THUMBNAIL",N="CATALOG:TOGGLE_ADVANCED_SETTINGS",U="CATALOG:FORMAT_OPTIONS_FETCH",F="CATALOG:FORMAT_OPTIONS_LOADING",B="CATALOG:SET_FORMAT_OPTIONS",k="CATALOG:NEW_SERVICE_STATUS";function W(){return{type:c,layers:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],sources:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,i=e.text,a=e.options;return{type:s,format:t,url:r,startPosition:n,maxRecords:o,text:i,options:void 0===a?{}:a}}function K(e,t){return{type:f,searchOptions:e,result:t}}function H(e){return{type:d,format:e}}function q(e){return{type:L,status:e}}function Y(){return{type:I,loading:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}function Z(e){return{type:O,service:e}}function $(e){return{type:R,status:e}}function z(e,t){return{type:g,mode:e,isNew:t}}function X(e){return{type:h,title:e}}function J(e){return{type:E,text:e}}function Q(e,t){return{type:T,property:e,value:t}}function ee(e){return{type:A,format:e}}function te(e){return{type:w,newType:e}}function re(e){return{type:P,url:e}}function ne(){return{type:_}}function oe(e){return{type:C,service:e}}function ie(e){return{type:x,service:e}}function ae(){return{type:j}}function ue(){return{type:p}}function ce(e){return{type:m,error:e}}function le(){return{type:y}}function se(e,t){return{type:v,layer:e,error:t}}var fe=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).zoomToLayer;return{type:l,layer:e,zoomToLayer:void 0!==t&&t}};function pe(e){return{type:b,error:e}}function ye(e){return{type:D,metadataOptions:e}}var me=function(e){return{type:S,metadataTemplate:e}},de=function(){return{type:N}},be=function(){return{type:M}},ve=function(){return{type:G}},Oe=function(e){return{type:U,url:e}},ge=function(e){return{type:F,loading:e}},Se=function(e,t){return{type:B,formats:e,url:t}};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}var Ee=function(e){return{type:k,status:e}}},1550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>n,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>u,Qy:()=>c,IL:()=>l,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>y,TF:()=>m,Ls:()=>d,Ec:()=>b,Eu:()=>v,JJ:()=>O,nZ:()=>g,YD:()=>S,GI:()=>h,Jb:()=>E,Uh:()=>w,e$:()=>T,eh:()=>A,$j:()=>R,bJ:()=>P,Mk:()=>C,xy:()=>x,o6:()=>_,FP:()=>j,Mo:()=>L,sO:()=>D,Px:()=>I,hd:()=>M,Ju:()=>G,BV:()=>N,SO:()=>U,H0:()=>F,$X:()=>B,ou:()=>k,NE:()=>W,Lq:()=>V,aN:()=>K});var n="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",u="PAN_TO",c="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",m="CREATION_ERROR_LAYER",d="UPDATE_VERSION",b="INIT_MAP",v="RESIZE_MAP",O="CHANGE_MAP_LIMITS",g="SET_MAP_RESOLUTIONS",S="REGISTER_EVENT_LISTENER",h="UNREGISTER_EVENT_LISTENER",E="MOUSE_MOVE",w="MOUSE_OUT",T="MAP:MAP_PLUGIN_LOAD",A="MAP:ORIENTATION",R="MAP:UPDATE_MAP_VIEW",P="MAP:UPDATE_MAP_OPTIONS";function C(e,t,r,n){return{type:T,mapType:t,loading:e,loaded:r,error:n}}function x(e,t,r){return{type:l,pos:e,zoom:t,crs:r}}function _(e,t,r,o,i,a,u,c){return{type:n,center:e,zoom:t,bbox:r,size:o,mapStateSource:i,projection:a,viewerOptions:u,resolution:c}}function j(e,t){return{type:o,point:e,layer:t}}function L(e){return{type:i,pointer:e}}function D(e,t){return{type:a,zoom:e,mapStateSource:t}}function I(e,t,r,n){return{type:c,extent:e,crs:t,maxZoom:r,options:n}}function M(e,t){return{type:p,style:e,mapStateSource:t}}function G(){return{type:v}}function N(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:O,restrictedExtent:t,crs:r,minZoom:n}}function U(e){return{type:g,resolutions:e}}var F=function(e,t){return{type:S,eventName:e,toolName:t}},B=function(e,t){return{type:h,eventName:e,toolName:t}},k=function(e){return{type:E,position:e}},W=function(){return{type:w}},V=function(e){return{type:A,orientation:e}},K=function(e){return{type:P,configUpdate:e}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>u,Pn:()=>c,DZ:()=>l,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>y,pb:()=>m,qb:()=>d,Re:()=>b,ih:()=>v,xy:()=>O,jL:()=>g,oz:()=>S,ph:()=>h,lF:()=>E,gG:()=>w,cb:()=>T,GI:()=>A,B1:()=>R,fv:()=>P,gc:()=>C,zX:()=>x,ZF:()=>_,Zb:()=>j,DW:()=>L,Xp:()=>D,Fm:()=>I,sV:()=>M,Mn:()=>G,LU:()=>N,XP:()=>U,WU:()=>F,JB:()=>B,g:()=>k,ws:()=>W,HP:()=>V,aN:()=>K,Pg:()=>q,u0:()=>Y,TM:()=>Z,PM:()=>$,lK:()=>z,sv:()=>X,MO:()=>J,oO:()=>Q,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ie,Y$:()=>ae,Qu:()=>ue,kT:()=>ce});var n=r(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",m="HIDE_REVERSE_GEOCODE",d="GET_VECTOR_INFO",b="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",O="FEATURE_INFO_CLICK",g="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",S="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",h="TOGGLE_MAPINFO_STATE",E="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",T="IDENTIFY:CLOSE_IDENTIFY",A="IDENTIFY:CHANGE_FORMAT",R="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",P="IDENTIFY:EDIT_LAYER_FEATURES",C="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",x="IDENTIFY:SET_MAP_TRIGGER",_="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",j="IDENTIFY:SET_SHOW_IN_MAP_POPUP",L="IDENTIFY:IDENTIFY_IS_MOUNTED",D="IDENTIFY:INIT_PLUGIN";function I(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function M(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function G(e,t,r,n){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function N(){return{type:b}}function U(){return{type:v}}function F(e,t){return{type:c,reqId:e,request:t}}function B(e,t,r,n){return{type:d,layer:e,request:t,metadata:r,queryableLayers:n}}function k(){return{type:l}}function W(e){return{type:s,infoFormat:e}}function V(){return{type:f}}function K(){return{type:p}}function H(e){return{type:y,reverseGeocodeData:e.data}}function q(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function Y(){return{type:m}}function Z(){return{type:h}}function $(e){return{type:E,status:e}}function z(e,t){return{type:O,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function X(e){return{type:g,point:e}}function J(e){return{type:S,enabled:e}}function Q(e){return{type:w,index:e}}var ee=function(){return{type:T}},te=function(e){return{type:A,format:e}},re=function(e){return{type:R,showCoordinateEditor:e}},ne=function(e){return{type:P,layer:e}},oe=function(e){return{type:C,query:e}},ie=function(e){return{type:x,trigger:e}},ae=function(e){return{type:j,value:e}},ue=function(e){return{type:L,isMounted:e}},ce=function(e){return{type:D,cfg:e}}},47310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(75875),o=r.n(n),i=r(72500),a=r.n(i),u=r(27418),c=r.n(u),l={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var r=c()({q:e},l,t||{}),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=c()({lat:e.lat,lon:e.lng},t||{},l),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},58918:(e,t,r)=>{"use strict";r.d(t,{F:()=>p});var n=r(75875),o=r.n(n),i=r(86267),a=r(52259);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return o().get(e).then((function(e){var t,n=e.data;return(t=n,r.e(76180).then(r.bind(r,76180)).then((function(e){var r,n,o,u,c=e,f=void 0!==(null==t||null===(r=t.asset)||void 0===r?void 0:r.version)?t.asset.version:"1.0",p=function(e,t){var r,n,o,u,c,l;if(null!=t&&null!==(r=t.root)&&void 0!==r&&null!==(n=r.boundingVolume)&&void 0!==n&&n.region){var f=s(t.root.boundingVolume.region,4),p=f[0],y=f[1],m=f[2],d=f[3];return{bounds:{minx:(0,i.convertRadianToDegrees)(p),miny:(0,i.convertRadianToDegrees)(y),maxx:(0,i.convertRadianToDegrees)(m),maxy:(0,i.convertRadianToDegrees)(d)},crs:"EPSG:4326"}}var b=e.Matrix4.fromArray(t.root.transform||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(null!=t&&null!==(o=t.root)&&void 0!==o&&null!==(u=o.boundingVolume)&&void 0!==u&&u.box){var v=s(t.root.boundingVolume.box,3),O=v[0],g=v[1],S=v[2],h=e.Matrix4.multiplyByPoint(b,new e.Cartesian3(O,g,S),new e.Cartesian3),E=e.Matrix4.getMatrix3(b,new e.Matrix4),w=e.Matrix3.multiply(E,e.Matrix3.fromArray(t.root.boundingVolume.box,3,new e.Matrix3),new e.Matrix3),T=e.BoundingSphere.fromOrientedBoundingBox(new e.OrientedBoundingBox(h,w)),A=e.Cartographic.fromCartesian(T.center);if(!A)return null;var R=(0,i.convertRadianToDegrees)(A.longitude),P=(0,i.convertRadianToDegrees)(A.latitude),C=T.radius/a.METERS_PER_UNIT.degrees;return{bounds:{minx:R-C,miny:P-C,maxx:R+C,maxy:P+C},crs:"EPSG:4326"}}if(null!=t&&null!==(c=t.root)&&void 0!==c&&null!==(l=c.boundingVolume)&&void 0!==l&&l.sphere){var x=s(t.root.boundingVolume.sphere,4),_=x[0],j=x[1],L=x[2],D=x[3],I=e.Matrix4.multiplyByPoint(b,new e.Cartesian3(_,j,L),new e.Cartesian3),M=e.Matrix4.getScale(b,new e.Matrix4),G=D*e.Cartesian3.maximumComponent(M)/a.METERS_PER_UNIT.degrees,N=e.Cartographic.fromCartesian(I);if(!N)return null;var U=(0,i.convertRadianToDegrees)(N.longitude),F=(0,i.convertRadianToDegrees)(N.latitude);return{bounds:{minx:U-G,miny:F-G,maxx:U+G,maxy:F+G},crs:"EPSG:4326"}}return null}(c,t),y=(u=((null==t||null===(n=t.root)||void 0===n||null===(o=n.content)||void 0===o?void 0:o.uri)||"").split(/\./g))[u.length-1],m=null==t?void 0:t.properties;return l(l({version:f},p&&{bbox:p}),{},{format:y,properties:m})}))).then((function(e){return l({tileset:n},e)}))}))}},23208:(e,t,r)=>{"use strict";r.d(t,{Z:()=>zt});var n={};r.r(n),r.d(n,{getCatalogRecords:()=>oe,getLayerFromRecord:()=>ie,preprocess:()=>ee,testService:()=>re,textSearch:()=>ne,validate:()=>te});var o={};r.r(o),r.d(o,{getCatalogRecords:()=>Oe,getLayerFromRecord:()=>ge,preprocess:()=>me,testService:()=>be,textSearch:()=>ve,validate:()=>de});var i={};r.r(i),r.d(i,{getCatalogRecords:()=>Me,getLayerFromRecord:()=>Ge,preprocess:()=>Le,testService:()=>Ie,textSearch:()=>je,validate:()=>De});var a={};r.r(a),r.d(a,{getCatalogRecords:()=>ft,getLayerFromRecord:()=>mt,getRecords:()=>ut,testService:()=>st,textSearch:()=>ct,tileProviderToLayer:()=>yt,tmsToLayer:()=>pt,validate:()=>lt});var u={};r.r(u),r.d(u,{getCatalogRecords:()=>Pt,getLayerFromRecord:()=>Ct,getRecords:()=>Et,preprocess:()=>wt,testService:()=>At,textSearch:()=>Rt,validate:()=>Tt});var c={};r.r(c),r.d(c,{getCatalogRecords:()=>Gt,getLayerFromRecord:()=>Nt,preprocess:()=>Dt,testService:()=>Mt,textSearch:()=>Lt,validate:()=>It});var l={};r.r(l),r.d(l,{getCatalogRecords:()=>Yt,getLayerFromRecord:()=>Zt,preprocess:()=>Kt,testService:()=>Ht,textSearch:()=>qt,validate:()=>$t});var s=r(91175),f=r.n(s),p=r(47037),y=r.n(p),m=r(64721),d=r.n(m),b=r(84596),v=r.n(b),O=r(89734),g=r.n(O),S=r(44908),h=r.n(S),E=r(1469),w=r.n(E),T=r(63105),A=r.n(T),R=r(41609),P=r.n(R),C=r(14293),x=r.n(C),_=r(27418),j=r.n(_),L=r(52259),D=r(49977),I=r.n(D),M=r(37275),G=r(24262),N=r(76712),U=r(67007),F=r(75875),B=r.n(F);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function W(e){var t="function"==typeof Map?new Map:void 0;return W=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return V(e,arguments,q(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),H(n,e)},W(e)}function V(e,t,r){return V=K()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&H(o,r.prototype),o},V.apply(null,arguments)}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,r,n,o=(r=i,n=K(),function(){var e,t=q(r);if(n){var o=q(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).name="ServiceValidationError",r.notification=t,r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(W(Error)),Z=function(e){return I().Observable.of(e)},$=function(e){return""===e.title||""===e.url?I().Observable.throw(new Y("Validation Error","catalog.notification.warningAddCatalogService")):I().Observable.of(e)},z=function(e){var t=e.parseUrl,r=void 0===t?function(e){return e}:t;return function(e){var t="catalog.notification.errorServiceUrl";return I().Observable.defer((function(){return B().get(r(e.url))})).catch((function(){throw new Y("Service Test error",t)})).switchMap((function(r){if(r.error||""===r.data)throw new Y("Service Test error",t);return I().Observable.of(e)}))}};function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=function(e){var t=e.domainAliases;return e.domainAliases=A()(t),D.Observable.of(e)},te=$,re=z({parseUrl:U.en}),ne=U.tt,oe=function(e,t){return e&&e.records?e.records.map((function(r){var n=[{type:"OGC:WMS",url:t&&t.url,SRS:r.SRS&&(w()(r.SRS)?r.SRS:[r.SRS])||[],params:{name:r.Name}}],o=(0,N.tW)({references:n}).wms;return{serviceType:"wms",isValid:!!o,capabilities:r,credits:r.credits,boundingBox:(0,U.jY)(r),description:r.Abstract||r.Title||r.Name,identifier:r.Name,service:e.service,tags:"",layerOptions:Q(Q({},(null==t?void 0:t.layerOptions)||{}),(null==e?void 0:e.layerOptions)||{}),title:(0,G.EM)(r)||r.Name,formats:v()(r.formats||[]),dimensions:(r.Dimension&&v()(r.Dimension)||[]).map((function(e){return j()({},{values:e._&&e._.split(",")||[]},e.$||{})})).filter((function(e){return e&&"time"!==e.name})),references:n,ogcReferences:o}})):null},ie=function(e,t,r){var n=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.removeParams,o=void 0===n?[]:n,i=r.format,a=r.catalogURL,u=r.url,c=r.formats,l=void 0===c?{}:c,s=r.map,f=void 0===s?{}:s,p=r.layerBaseConfig,y=r.localizedLayerStyles,m=r.allowUnsecureLayers;if(!e||!e.references)return null;var d,b,v=(0,N.tW)(e).wms,O=function(e){return(0,N.em)((0,M.$F)(e),["request","layer","layers","service","version"].concat(o))},g=(0,N.qy)(v.url);if(g&&w()(g))d=g.map((function(e){return O(e)})).map((function(e){return e.url})),b=g.map((function(e){return O(e)})).map((function(e){return e.params})).reduce((function(e,t){return Q(Q({},e),t)}),{});else{var S=O(g||a);d=S.url,b=S.params}var h,E=(h=u||d,w()(h)&&1===h.length?h[0]:h),T=(0,N.n0)(v.SRS),A=null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:{},R=A.MaxScaleDenominator,C=A.MinScaleDenominator,_=Q(Q(Q(Q({type:"wms",requestEncoding:e.requestEncoding,style:e.style,format:i,url:E,capabilitiesURL:e.capabilitiesURL,queryable:e.queryable,visibility:!0,dimensions:e.dimensions||[],name:v.params&&v.params.name,title:e.title||v.params&&v.params.name,description:e.description||"",credits:!(0,M.u8)("noCreditsFromCatalog")&&e.credits,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},links:(0,N.F8)(e),params:b,allowedSRS:T,catalogURL:a},p),e.layerOptions),{},{localizedLayerStyles:x()(y)?void 0:y},!P()(l)&&{imageFormats:l.imageFormats,infoFormats:l.infoFormats}),!x()(m)&&{forceProxy:m});if(!P()(f)&&(R||C)){var j=(!x()(C)&&(0,L.getResolutionObject)(C,"scale",f)||{}).resolution,D=(!x()(R)&&(0,L.getResolutionObject)(R,"scale",f)||{}).resolution;_=Q(Q({},_),{},{minResolution:j,maxResolution:D})}return _}(e,t);return r?Promise.resolve(n):n},ae=r(86638),ue=r(59551);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e,t,r){var n,o,i,a=r.name;if(void 0===a){a=e.title?e.title.join(" "):(0,ae.S$)(t,"catalog.notAvailable");var u=(n=r.protocol,r.value,null!==(o=null===(i=f()([{protocol:"https://registry.geodati.gov.it/metadata-codelist/ProtocolValue/www-download",displayValue:"Download"},{protocol:"http://www.opengis.net/def/serviceType/ogc/wms",displayValue:"WMS"},{protocol:"http://www.opengis.net/def/serviceType/ogc/wfs",displayValue:"WFS"}].filter((function(e){return e.protocol===n}))))||void 0===i?void 0:i.displayValue)&&void 0!==o?o:"Link");a="".concat(u?"".concat(a," - ").concat(u):a)}return'<li><a target="_blank" href="'.concat(r.value,'">').concat(a,"</a></li>")};function ye(e,t){var r,n,o=(null==e?void 0:e.URI)&&v()(e.URI);if(o){var i=f()(o.filter((function(e){return"thumbnail"===e.name})))||f()(o.filter((function(e){var t;return!e.name&&(null===(t=e.protocol)||void 0===t?void 0:t.indexOf("image/"))>-1})));r=i?i.value:null}if(!r&&e&&e.references){var a=function(e){return f()(v()(e.references).filter((function(t){return"WWW:LINK-1.0-http--image-thumbnail"===t.scheme||"thumbnail"===t.scheme||"WWW:DOWNLOAD-1.0-http--download"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))||"WWW:DOWNLOAD-REST_MAP"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))})))}(e);a&&(r=a.value)}return r&&(0===r.indexOf("http")||(r=((n=t&&t.url)&&n.replace(/\/csw$/,"/")||"")+r)),r}var me=Z,de=$,be=z({parseUrl:ue.ZP.parseUrl}),ve=ue.ZP.textSearch,Oe=function(e,t,r){var n=e;return n&&n.records?n.records.map((function(e){var n=e.dc,o=[];n&&n.references&&(Array.isArray(n.references)?n.references:[n.references]).filter((function(e){return e.scheme.indexOf("http-get-capabilities")>-1})).forEach((function(e){var r=0===e.value.indexOf("http")?e.value:(t&&t.catalogURL||"")+"/"+e.value;o.push({type:e.scheme,url:r})}));var i=(0,ue.kv)(n,t);i&&o.push(i);var a={boundingBox:e.boundingBox&&e.boundingBox.extent&&v()(e.boundingBox.extent.join(","))};if(n&&(a=se(se({},a),g()(Object.keys(n)).reduce((function(e,t){return se(se({},e),{},fe({},t,h()(v()(n[t]))))}),{}))),n&&n.URI&&v()(n.URI)&&v()(n.URI).length&&(a=se(se({},a),{},{uri:["<ul>"+v()(n.URI).map(pe.bind(void 0,a,r)).join("")+"</ul>"]})),n&&n.subject&&v()(n.subject)&&v()(n.subject).length&&(a=se(se({},a),{},{subject:["<ul>"+v()(n.subject).map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})),o&&v()(o).length?a=se(se({},a),{},{references:["<ul>"+v()(o).map((function(e){return'<li><a target="_blank" href="'.concat(e.url,'">').concat(e.params&&e.params.name||e.url,"</a></li>")})).join("")+"</ul>"]}):delete a.references,n&&n.temporal){var u=y()(n.temporal)?n.temporal.split("; "):[];if(u.length){var c=u.filter((function(e){return-1!==e.indexOf("scheme=")})).map((function(e){var t=e.indexOf("=");return e.substr(t+1,e.length-1)}));c=c.length?c[0]:"W3C-DTF";var l=u.filter((function(e){return-1!==e.indexOf("start=")||-1!==e.indexOf("end=")})).map((function(e){var t=e.indexOf("="),n=e.substr(0,t),o=e.substr(t+1,e.length-1),i=e.length-t-1<=10;return d()(["start","end"],n)&&"W3C-DTF"===c&&!i?(0,ae.S$)(r,"catalog.".concat(n))+new Date(o).toLocaleString():d()(["start","end"],n)?(0,ae.S$)(r,"catalog.".concat(n))+o:""}));a=se(se({},a),{},{temporal:["<ul>"+l.map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})}}var s=se(se({},(0,N.tW)({references:o})),(0,N.FJ)({references:o})),f=Object.keys(s).find((function(e){return s[e]})),p=f&&"esri"!==f?s[f]:void 0;return{serviceType:"csw",layerType:f,isValid:!!f,boundingBox:e.boundingBox,description:n&&y()(n.abstract)&&n.abstract||"",layerOptions:t&&t.layerOptions||{},identifier:n&&y()(n.identifier)&&n.identifier||"",references:o,thumbnail:ye(n,t),title:n&&y()(n.title)&&n.title||"",tags:n&&n.tags||"",metadata:a,capabilities:e.capabilities,ogcReferences:p}})):null},ge=function(e,t,r){var n=function(e,t){switch(e.layerType){case"wms":return ie(e,t);case"esri":return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).layerBaseConfig,r=void 0===t?{}:t;if(!e||!e.references)return null;var n=(0,N.FJ)(e).esri;return se({type:n.type,url:n.url,visibility:!0,dimensions:e.dimensions||[],name:n.params&&n.params.name,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}}},r)}(e,t);default:return null}}(e,t);return r?Promise.resolve(n):n},Se=r(13218),he=r.n(Se),Ee=r(86267),we=r(7294),Te=r(3475);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe=function(e){return he()(e)&&e._||e},_e=function(e,t){return e.filter((function(r){return(0,we.C2)(t,r,e,t,null)}))},je=Te.Z.textSearch,Le=Z,De=$,Ie=z({parseUrl:Te.Z.parseUrl}),Me=function(e,t){return e&&e.records?e.records.map((function(e){var r=v()((0,we.f1)(e)||t&&t.url);1===r.length&&(r=r[0]);var n=(0,we.dN)(e),o=v()(e.TileMatrixSetLink||[]).reduce((function(t,r){var n,o=f()((e.TileMatrixSet&&v()(e.TileMatrixSet)||[]).filter((function(e){return e["ows:Identifier"]===r.TileMatrixSet}))),i=o&&(0,Ee.getEPSGCode)(o["ows:SupportedCRS"]),a=r.TileMatrixSetLimits&&(r.TileMatrixSetLimits.TileMatrixLimits||[]).map((function(e){return{identifier:e.TileMatrix,ranges:{cols:{min:e.MinTileCol,max:e.MaxTileCol},rows:{min:e.MinTileRow,max:e.MaxTileRow}}}}))||o.TileMatrix.map((function(e){return{identifier:e["ows:Identifier"]}}));return j()(t,(Ce(n={},o["ows:Identifier"],a),Ce(n,i,a),n))}),{}),i=function(e){var t=e["ows:WGS84BoundingBox"];return t||(t={"ows:LowerCorner":"-180.0 -90.0","ows:UpperCorner":"180.0 90.0"}),t}(e),a=[{type:"OGC:WMTS",url:r,SRS:_e(e.SRS||[],o),params:{name:e["ows:Identifier"]}}],u=(0,N.tW)({references:a}).wmts;return{serviceType:"wmts",isValid:!!u,title:xe(e["ows:Title"]||e["ows:Identifier"]),description:xe(e["ows:Abstract"]||e["ows:Title"]||e["ows:Identifier"]),identifier:xe(e["ows:Identifier"]),tags:"",layerOptions:t&&t.layerOptions||{},style:e.style,capabilitiesURL:n,queryable:e.queryable,requestEncoding:e.requestEncoding,tileMatrixSet:e.TileMatrixSet,matrixIds:o,format:e.format,TileMatrixSetLink:v()(e.TileMatrixSetLink),boundingBox:{extent:[i["ows:LowerCorner"].split(" ")[0],i["ows:LowerCorner"].split(" ")[1],i["ows:UpperCorner"].split(" ")[0],i["ows:UpperCorner"].split(" ")[1]],crs:"EPSG:4326"},references:a,ogcReferences:u}})):null},Ge=function(e,t,r){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.removeParams,n=void 0===r?[]:r,o=t.format,i=t.catalogURL,a=t.url,u=t.layerBaseConfig,c=t.localizedLayerStyles;if(!e||!e.references)return null;var l,s,f=(0,N.tW)(e).wmts,p=function(e){return(0,N.em)((0,M.$F)(e),["request","layer","layers","service","version"].concat(n))},y=(0,N.qy)(f.url);if(y&&w()(y))l=y.map((function(e){return p(e)})).map((function(e){return e.url})),s=y.map((function(e){return p(e)})).map((function(e){return e.params})).reduce((function(e,t){return Pe(Pe({},e),t)}),{});else{var m=p(y||i);l=m.url,s=m.params}var d,b=(d=a||l,w()(d)&&1===d.length?d[0]:d),v=(0,N.n0)(f.SRS);return Pe(Pe(Pe({type:"wmts",requestEncoding:e.requestEncoding,style:e.style,format:o,url:b,capabilitiesURL:e.capabilitiesURL,queryable:e.queryable,visibility:!0,dimensions:e.dimensions||[],name:f.params&&f.params.name,title:e.title||f.params&&f.params.name,matrixIds:e.matrixIds||[],description:e.description||"",tileMatrixSet:e.tileMatrixSet||[],credits:!(0,M.u8)("noCreditsFromCatalog")&&e.credits,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},links:(0,N.F8)(e),params:s,allowedSRS:v,catalogURL:i},u),e.layerOptions),{},{localizedLayerStyles:x()(c)?void 0:c})}(e,t);return r?Promise.resolve(n):n},Ne=r(27361),Ue=r.n(Ne),Fe=r(5055),Be=r.n(Fe),ke=r(33044),We=r(93201);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ve(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe={},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=v()(Ue()(e,"TileMapService.TileMaps.TileMap",[])),a=o.projection,u=Ue()(o,"options.service.allSRS"),c=i.map((function(t){var r=t.$,n=void 0===r?{}:r;return He(He({},n),{},{href:(0,ke.cleanAuthParamsFromURL)(n.href),identifier:(0,ke.cleanAuthParamsFromURL)(n.href),format:(0,We.A)(n.href),tmsUrl:(0,ke.cleanAuthParamsFromURL)(e.url)})})).filter((function(e){var t=e.srs;return!(a&&!u)||function(e,t){return e===t||"EPSG:3857"===e&&"EPSG:900913"===t||"EPSG:900913"===e&&"EPSG:3857"===t}(t,a)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,o=e.srs,i=void 0===o?"":o;return!n||-1!==r.toLowerCase().indexOf(n.toLowerCase())||-1!==i.toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:c.length,numberOfRecordsReturned:Math.min(r,c.length),nextRecord:t+Math.min(r,c.length)+1,records:c.filter((function(e,n){return n>=t-1&&n<t-1+r}))}},Ze=function(e){return e},$e=function(e,t,r,n,o){var i=qe[e];return i&&(new Date).getTime()<i.timestamp+1e3*(M.ZP.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(Ye(i.data,t,r,n,o))})):B().get(e).then((function(i){var a;return Be().parseString(i.data,{explicitArray:!1},(function(t,r){a=He(He({},r),{},{url:e})})),qe[e]={timestamp:(new Date).getTime(),data:a},Ye(a,t,r,n,o)}))},ze=r(36882),Xe=r(11847);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Je(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt="custom",rt=function(e,t,r,n,o){var i,a,u,c=Ue()(o,"options.service"),l=[];if(c.provider&&c.provider!==tt){var s=(i=c.provider,Object.keys(null!==(a=null===ze.Z||void 0===ze.Z||null===(u=ze.Z[i])||void 0===u?void 0:u.variants)&&void 0!==a?a:{}));0===s.length?l.push({provider:"".concat(c.provider),title:"".concat(c.provider)}):l=s.map((function(e){return{provider:"".concat(c.provider,".").concat(e)}}))}else c.url&&(l=[et(et({},c),{},{title:c.title,type:"tileprovider",url:c.url,attribution:c.attribution,options:c.options||{},provider:tt})]);return new Promise((function(e){e(function(e,t,r,n){var o=e.filter((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).title;return!n||-1!==(void 0===e?"":e).toLowerCase().indexOf(n.toLowerCase())})),i=o.filter((function(e,n){return n>=t-1&&n<t-1+r}));return{numberOfRecordsMatched:o.length,numberOfRecordsReturned:i.length,nextRecord:t+Math.min(r,o.length)+1,records:i}}(l,t,r,n))}))};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){at(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==nt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===nt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ut=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(o.options||{}).service;return"tms"===(void 0===i?{}:i).provider&&$e(e,t,r,n,o),rt(0,t,r,n,o)},ct=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(o.options||{}).service;return"tms"===(void 0===i?{}:i).provider?$e(e,t,r,n,o):rt(0,t,r,n,o)},lt=function(e){return"tms"===e.provider?$(e):function(e){var t,r=e.provider&&"custom"!==e.provider?!!e.provider:(t=e.url,(0,Xe.Nw)(t));if(e.title&&r)return D.Observable.of(e);throw new Error("catalog.config.notValidURLTemplate")}(e)},st=function(e){return"tms"===e.provider?z({parseUrl:Ze})(e):function(e){return D.Observable.of(e)}(e)},ft=function(e,t){if(e&&e.records){if(t.service&&"tms"===t.service.provider){var r=[{type:"OGC:TMS",version:"1.0.0",url:t.url}],n=(0,N.tW)({references:r}).tms;return e.records.map((function(e){return{serviceType:"tms",layerType:"tms",isValid:!!n,title:e.title,tileMapUrl:e.href,description:"".concat(e.srs).concat(e.format?", "+e.format:""),tmsUrl:t.tmsUrl,references:r,ogcReferences:n}}))}return e.records.map((function(e){return{serviceType:"tms",layerType:"tileprovider",isValid:!!e.provider,title:e.title||e.provider,url:e.url,attribution:e.attribution,options:e.options,provider:e.provider,references:[]}}))}return null},pt=function(e,t){var r=e.tileMapUrl,n=t.tileMap,o=t.service,i=(n||{}).TileMap,a=void 0===i?{}:i,u=(o||{}).forceDefaultTileGrid,c=a.Title,l=a.Abstract,s=a.SRS,f=a.BoundingBox,p=void 0===f?{}:f,y=a.Origin,m=a.TileFormat,d=void 0===m?{}:m,b=a.TileSets,O=a.$,g=O.version,S=O.tilemapservice,h=Ue()(p,"$",{}),E=h.minx,w=h.miny,T=h.maxx,A=h.maxy,R=Ue()(y,"$"),P=R.x,C=R.y,x=Ue()(d,"$",{}),_=x.width,j=x.height,L=x["mime-type"],D=x.extension,I=[parseFloat(_),parseFloat(j,10)],M=v()(Ue()(b,"TileSet",[]).map((function(e){return e.$}))).map((function(e){var t=e.href,r=e.order,n=e["units-per-pixel"];return{href:(0,ke.cleanAuthParamsFromURL)(t),order:parseFloat(r),resolution:parseFloat(n)}})),G=Ue()(b,"profile");return{title:c,visibility:!0,hideErrors:!0,name:c,allowedSRS:at({},s,!0),description:l,srs:s,version:g,tileMapService:S?(0,ke.cleanAuthParamsFromURL)(S):void 0,type:"tms",profile:G,tileMapUrl:r,forceDefaultTileGrid:u,bbox:p&&{crs:s,bounds:{minx:parseFloat(E),miny:parseFloat(w),maxx:parseFloat(T),maxy:parseFloat(A)}},tileSets:M,origin:{x:parseFloat(P),y:parseFloat(C)},format:L,tileSize:I,extension:D}},yt=function(e){return{type:"tileprovider",visibility:!0,url:e.url,title:e.title,attribution:e.attribution,options:e.options,provider:e.provider,name:e.provider}},mt=function(e,t,r){return r?"tms"===e.layerType?(n=e.tileMapUrl,B().get(n).then((function(e){return new Promise((function(t){Be().parseString(e.data,{explicitArray:!1},(function(e,r){return t(r)}))}))}))).then((function(r){return pt(e,it(it({},t),{},{tileMap:r}))})):Promise.resolve(yt(e)):function(e,t){return"tms"===e.layerType?pt(e,t):"tileprovider"===e.layerType?yt(e,t):null}(e,t);var n},dt=r(32420);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bt(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var St={},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=v()(Ue()(e,'["wfs:WFS_Capabilities"].FeatureTypeList.FeatureType',[])).map((function(t){var r,n=t.Name,o=t.Title,i=t.Abstract,a=t.DefaultSRS,u=t.OtherSRS,c=void 0===u?[]:u,l=t["ows:WGS84BoundingBox"],s=l["ows:LowerCorner"].split(" "),f=l["ows:UpperCorner"].split(" "),p={minx:parseFloat(s[0]),miny:parseFloat(s[1]),maxx:parseFloat(f[0]),maxy:parseFloat(f[1])};return{featureType:t,type:"wfs",url:(0,ke.cleanAuthParamsFromURL)(e.url),name:n,title:o,description:i,SRS:[a].concat((r=c,function(e){if(Array.isArray(e))return gt(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),defaultSRS:a,boundingBox:{bounds:p,crs:"EPSG:4326"}}})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,o=e.name,i=void 0===o?"":o,a=e.description;return!n||-1!==r.toLowerCase().indexOf(n.toLowerCase())||-1!==i.toLowerCase().indexOf(n.toLowerCase())||-1!==a.toLowerCase().indexOf(n.toLowerCase())})),i=o.filter((function(e,n){return n>=t-1&&n<t-1+r}));return{numberOfRecordsMatched:o.length,numberOfRecordsReturned:Math.min(r,i.length),nextRecord:t+Math.min(r,o.length)+1,records:i}},Et=function(e,t,r,n,o){var i=St[e];return i&&(new Date).getTime()<i.timestamp+1e3*(M.ZP.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(ht(i.data,t,r,n,o))})):(0,dt.FU)(e).then((function(i){var a;return Be().parseString(i.data,{explicitArray:!1,stripPrefix:!0},(function(t,r){a=Ot(Ot({},r),{},{url:e})})),St[e]={timestamp:(new Date).getTime(),data:a},ht(a,t,r,n,o)}))},wt=Z,Tt=$,At=z({parseUrl:dt.dN}),Rt=function(e,t,r,n,o){return Et(e,t,r,n,o)},Pt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).records;return e?e.map((function(e){var t=[{type:"OGC:WFS-1.1.0-http-get-capabilities",url:e.url},{type:"OGC:WFS-1.1.0-http-get-feature",url:e.url}],r=(0,N.tW)({references:t}).wfs;return Ot(Ot({},e),{},{serviceType:"wfs",isValid:!!r,references:t,ogcReferences:r})})):null},Ct=function(e,t,r){var n=function(e){return Ot({type:e.type||"wfs",search:{url:e.url,type:"wfs"},url:e.url,queryable:e.queryable,visibility:!0,name:e.name,title:e.title||e.name,description:e.description||"",bbox:e.boundingBox,links:(0,N.F8)(e),style:{weight:1,color:"rgba(0, 0, 255, 1)",opacity:1,fillColor:"rgba(0, 0, 255, 0.1)",fillOpacity:.1,radius:10}},e.layerOptions)}(e);return r?Promise.resolve(n):n};function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xt(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lt=r(32354).Z.textSearch,Dt=Z,It=$,Mt=z({parseUrl:function(e){return e}}),Gt=function(e){return e&&e.records?e.records.map((function(e){return{serviceType:"backgrounds",isValid:!!e,description:e.title,title:e.title,identifier:e.name,thumbnail:e.thumbURL,references:[],background:e}})):null},Nt=function(e,t,r){var n=function(e){return jt(jt({},null==e?void 0:e.background),{},{id:null==e?void 0:e.background.name,visibility:!1})}(e);return r?Promise.resolve(n):n},Ut=r(58918),Ft=["tileset"];function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Bt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Bt(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e){var t=e.split("/");return t[t.length-2]}var Kt=Z,Ht=function(e){return D.Observable.of(e)},qt=function(e,t,r,n,o){return function(e,t,r,n,o){return(0,Ut.F)(e).then((function(t){var r,i,a=t.tileset,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,Ft),c=[Wt({title:(null==o||null===(r=o.options)||void 0===r||null===(i=r.service)||void 0===i?void 0:i.title)||Vt(e),url:e,type:"3dtiles",tileset:a},u)].filter((function(e){var t=e.title;return!n||(null==t?void 0:t.toLowerCase().includes((null==n?void 0:n.toLowerCase())||""))}));return{numberOfRecordsMatched:c.length,numberOfRecordsReturned:c.length,records:c}}))}(e,0,0,n,o)},Yt=function(e){return null!=e&&e.records?e.records.map((function(e){var t=e.version,r=e.bbox,n=e.format,o=e.properties;return Wt(Wt(Wt(Wt({serviceType:"3dtiles",isValid:!0,description:"v. ".concat(t),title:e.title,identifier:e.url,url:e.url,thumbnail:null},r&&{bbox:r}),n&&{format:n}),o&&{properties:o}),{},{references:[]})})):null},Zt=function(e,t,r){var n=function(e){var t=e.bbox,r=e.format,n=e.properties;return Wt(Wt(Wt({type:"3dtiles",url:e.url,title:e.title,visibility:!0},t&&{bbox:t}),r&&{format:r}),n&&{properties:n})}(e);return r?Promise.resolve(n):n},$t=function(e){if(e.title&&function(e){if((0,Xe.Nw)(e)){var t=e.split(/\./g);return"json"===t[t.length-1]}return!1}(e.url))return D.Observable.of(e);throw new Error("catalog.config.notValidURLTemplate")};const zt={csw:o,wfs:u,wms:n,tms:a,wmts:i,backgrounds:c,"3dtiles":l}},32354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(27361),o=r.n(n),i=r(37275),a=function(e,t,r,n){var a=o()(i.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!n||e.title.indexOf(n)>-1})),u=a.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:a.length,numberOfRecordsReturned:u.length,records:u,service:{Name:"Background Provider"}})}))};const u={getRecords:a,reset:function(){},textSearch:function(e,t,r,n){return a(0,t,r,n)}}},56175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ee});var n=r(49977),o=r(9669),i=r.n(o),a=r(37691),u=r.n(a),c=r(30647),l=r(91175),s=r.n(l),f=r(27361),p=r.n(f),y=r(13311),m=r.n(y),d=r(1469),b=r.n(d),v=r(47037),O=r.n(v),g=r(13218),S=r.n(g),h=r(3674),E=r.n(h),w=r(93220),T=r.n(w),A=r(82492),R=r.n(A),P=r(31273),C=r(80416),x=r(97395),_=r(82904),j=r(21914),L=r(53001),D=r(88113),I=r(31935),M=r(8316),G=r(75110),N=r(76712),U=r(67007),F=r(86267),B=r(37275),k=r(24262),W=r(89919),V=r(1550),K=r(59551),H=["format","url","text","layerOptions"];function q(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=function(e,t){return e?n.Observable.of((0,x.vU)({title:"notification.warning",message:"catalog.notification.errorServiceUrl",autoDismiss:6,position:"tc"}),(0,P.Rc)(!1)):n.Observable.of((0,P.m)(t))};const ee=function(e){return{recordSearchEpic:function(t,r){return t.ofType(P.V3).switchMap((function(t){var o=t.format,i=t.url,a=t.startPosition,u=t.maxRecords,c=t.text,l=t.options,s=p()(l,"service.filter")||p()(l,"filter"),f=p()(l,"isNewService",!1);return n.Observable.defer((function(){return e[o].textSearch(i,a,u,c,X({options:l,filter:s},(0,D.HN)(r.getState())))})).switchMap((function(e){if(e.error)return Q(f,e);var t=n.Observable.empty();return f&&(t=n.Observable.from([(0,P.zX)(!0),(0,P.N3)(l.service),(0,x.Vp)({title:"notification.success",message:"catalog.notification.addCatalogService",autoDismiss:6,position:"tc"}),(0,P.Rc)(!1)])),t.concat([(0,P.nX)({url:i,startPosition:a,maxRecords:u,text:c},e)])})).startWith(f?(0,P.Rc)(!0):(0,P.K4)(!0)).catch((function(e){return Q(f,e)}))}))},addLayersFromCatalogsEpic:function(t,r){return t.ofType(P.WX).filter((function(e){var t=e.layers,r=e.sources;return b()(t)&&b()(r)&&t.length&&t.length===r.length})).mergeMap((function(t){var o=t.layers,i=t.sources,a=t.options,u=t.startPosition,c=void 0===u?1:u,l=t.maxRecords,f=void 0===l?4:l,y=r.getState(),m=(0,D.PG)(y),d=o.filter((function(e,t){return!!m[i[t]]||"object"===$(i[t])})).map((function(t,r){var u=p()(a,r,(0,D.bA)(y)),l=i[r],s="object"===$(l)?l:m[l],d=s.type.toLowerCase(),b=s.url,v=o[r];return n.Observable.defer((function(){return e[d].textSearch(b,c,f,v,X(X({},u),s)).catch((function(){return{results:[]}}))})).map((function(e){return X(X({},e),{},{format:d,url:b,text:v,layerOptions:u})}))}));return n.Observable.forkJoin(d).switchMap((function(t){return b()(t)&&t.length?n.Observable.of(t.map((function(t){var r=t.format,o=t.url,i=t.text,a=t.layerOptions,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,H),c=(0,M.Ps)(y),l=e[r].getCatalogRecords(u,a,c)||[],f=s()(l.filter((function(e){return e.identifier||e.name===i}))),p=(0,N.tW)(f),m=p.wms,d=p.wmts,b=m||d;if(b){var v=(0,N.n0)(b.SRS);if(b.SRS.length>0&&!F.default.isAllowedSRS("EPSG:3857",v))return n.Observable.empty()}var O=(0,D.kS)(y),g=e[r].getLayerFromRecord(f,{removeParams:O,catalogURL:"csw"===r&&o?o+"?request=GetRecordById&service=CSW&version=2.0.2&elementSetName=full&id="+f.identifier:o,layerBaseConfig:{}});return f?[g,a]:[i]}))):n.Observable.empty()}))})).mergeMap((function(e){if(e){var t=e.filter((function(e){return O()(e[0])})).join(" "),r=[];return t&&(r=[(0,P.E9)(t)]),r=[].concat(q(r),q(e.filter((function(e){return S()(e[0])})).map((function(e){return(0,P.A4)(R()({},e[0],e[1]))})))),n.Observable.from(r)}return n.Observable.empty()})).catch((function(){return n.Observable.empty()}))},addLayerAndDescribeEpic:function(e,t){return e.ofType(P.r7).mergeMap((function(e){var r=e.layer,o=e.zoomToLayer,i=[],a=t.getState(),u=(0,k.R8)(r);return i.push((0,C.A4)(X(X({},r),{},{id:u}))),o&&r.bbox&&i.push((0,V.Px)(r.bbox.bounds,r.bbox.crs)),"wms"===r.type?n.Observable.defer((function(){return(0,U.gs)((0,k.Hi)(r),r.name)})).switchMap((function(e){if(e){var t=m()(e,(function(e){return e.name===r.name}));if(t&&"WFS"===t.owsType){var o=B.ZP.filterUrlParams(B.ZP.cleanDuplicatedQuestionMarks(t.owsURL),(0,D.kS)(a));return n.Observable.of((0,C.He)(u,{search:{url:o,type:"wfs"}}))}}return n.Observable.empty()})).merge(n.Observable.from(i)).catch((function(e){return n.Observable.of((0,P.bu)(r,e))})):n.Observable.from(i)})).catch((function(){return n.Observable.empty()}))},newCatalogServiceAdded:function(t,r){return t.ofType(P.mh).switchMap((function(){var t=r.getState(),o=(0,D._S)(t),i=(0,D.y)(t);return n.Observable.of(o).switchMap((function(t){var r,o,i;return null!==(r=null===(o=e[t.type])||void 0===o||null===(i=o.preprocess)||void 0===i?void 0:i.call(o,t))&&void 0!==r?r:n.Observable.of(t)})).switchMap((function(t){var r,o,i;return null!==(r=null===(o=e[t.type])||void 0===o||null===(i=o.validate)||void 0===i?void 0:i.call(o,t))&&void 0!==r?r:n.Observable.of(t)})).switchMap((function(e){return n.Observable.of((0,P.tt)({format:e.type,url:e.url,startPosition:1,maxRecords:i,text:"",options:{service:e,isNewService:!0}}))})).catch((function(e){return n.Observable.of((0,x.vU)({exception:e,title:"notification.warning",message:e.notification||"catalog.notification.warningAddCatalogService",autoDismiss:6,position:"tc"}))}))}))},deleteCatalogServiceEpic:function(e,t){return e.ofType(P.$Y).switchMap((function(){var e=t.getState(),r=(0,D.Cb)(e),o=(0,D.b6)(e),i=o[r]?(0,x.Vp)({title:"notification.warning",message:"catalog.notification.serviceDeletedCorrectly",autoDismiss:6,position:"tc"}):(0,x.vU)({title:"notification.warning",message:"catalog.notification.impossibleDeleteService",autoDismiss:6,position:"tc"}),a=(0,P.SU)(r);return o[r]?n.Observable.of(i,a):n.Observable.of(i)}))},openCatalogEpic:function(e,t){return e.ofType(_.At,_.kM).filter((function(e){return"metadataexplorer"===e.control&&(0,D.JF)(t.getState())})).switchMap((function(){return n.Observable.of((0,j.g)(),(0,j.aN)())}))},getMetadataRecordById:function(e,t){return e.ofType(P.UT).switchMap((function(e){var r=e.metadataOptions,o=void 0===r?{}:r,a=t.getState(),l=(0,G.Iz)(a);return n.Observable.defer((function(){return(0,U.FU)((0,k.Fh)(l))})).switchMap((function(e){var t=p()(e,"capability.layer.layer",[]),r=1===t.length?t[0].metadataURL:m()(t,(function(e){return e.name===l.name.split(":")[1]})),a=p()(m()(r,(function(e){return O()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&("application/xml"===e.format||"text/xml"===e.format)})),"onlineResource.href"),s=p()(m()(r,(function(e){return O()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&"text/html"===e.format})),"onlineResource.href"),f=m()(p()(o,"extractors",[]),(function(e){var t=e.properties,r=e.layersRegex,n=r?new RegExp(r):null;return S()(t)&&(!r||n.test(l.name))})),y=s?{metadataUrl:s}:{},d=n.Observable.defer((function(){return K.ZP.getRecordById(l.catalogURL)})).switchMap((function(e){return e&&e.error?n.Observable.of((0,x.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,C.c9)(y,!1)):e&&e.dc?n.Observable.of((0,C.c9)(X(X({},y),e.dc),!1)):n.Observable.empty()})),b=n.Observable.defer((function(){return i().get(a,{headers:{Accept:"application/xml"}})})).pluck("data").map((function(e){return(new c.a).parseFromString(e)})).map((function(e){var t=u().useNamespaces(o.xmlNamespaces||{});return function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return T()(r).reduce((function(r,o){var i,a,u,c=(u=2,function(e){if(Array.isArray(e))return e}(a=o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(a,u)||Y(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1];if(S()(s)&&O()(s.xpath)&&S()(s.properties)&&E()(s.properties).length>0)0===(i=t(s.xpath,n).map((function(t){return e(s.properties,t)}))).length&&(i=null);else{var f,y=t(s,n);1===y.length?i=null!==(f=p()(y[0],"nodeValue"))&&void 0!==f?f:p()(y[0],"childNodes[0].nodeValue"):y.length>1&&(i=y.map((function(e){return p()(e,"childNodes[0].nodeValue")})).filter((function(e){return!!e})))}return X(X({},r),i?J({},l,i):{})}),{})}(f.properties,e)})).switchMap((function(e){return n.Observable.of((0,C.c9)(X(X({},y),e),!1))}));return a&&f?b:l.catalogURL?d:n.Observable.of((0,C.c9)(y,!1))})).startWith((0,C.c9)({},!0)).catch((function(){return n.Observable.of((0,x.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,C.c9)({},!1))}))}))},autoSearchEpic:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(P.CO).debounce((function(){var e=r(),t=(0,D.l2)(e);return n.Observable.timer(t)})).switchMap((function(e){var t=e.text,o=r(),i=(0,D.y)(o),a=(0,D.R7)(o),u=a.type,c=a.url,l=a.filter;return n.Observable.of((0,P.tt)({format:u,url:c,startPosition:1,maxRecords:i,text:t,options:{service:a,filter:l}}))}))},catalogCloseEpic:function(e,t){return e.ofType(P.ur).switchMap((function(){var e,r=t.getState(),o=(0,I.YL)(r),i=(0,D.b6)(r);return(e=n.Observable).of.apply(e,q([(0,_.pu)("metadataexplorer","enabled",!1,"group",null),(0,P.In)("view"),(0,P.ye)()].concat("backgroundSelector"===o?[(0,P.Dw)(s()(E()(i))),(0,L.vw)(!0)]:[])))}))},getSupportedFormatsEpic:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(P.xM).filter((function(e){return(0,D.CK)(r())!==(null==e?void 0:e.url)})).switchMap((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).url,t=void 0===e?"":e;return n.Observable.defer((function(){return(0,U.T6)(t,!0)})).switchMap((function(e){return n.Observable.of((0,P.nx)(e,t))})).let((0,W.hP)((0,P.We)(!0),(0,P.We)(!1),(function(){return n.Observable.of((0,x.vU)({title:"layerProperties.format.error.title",message:"layerProperties.format.error.message"}),(0,P.We)(!1))})))}))},updateGroupSelectedMetadataExplorerEpic:function(e,t){return e.ofType(C.c7).filter((function(){return(0,D.JF)(t.getState())})).switchMap((function(e){var r=e.nodeType,o=e.id,i=t.getState(),a=0===(0,G.NP)(i).length||"group"!==r?"Default":o;return n.Observable.of((0,_.Xg)("metadataexplorer","group",a))}))}}}},89919:(e,t,r)=>{"use strict";r.d(t,{hP:()=>l});var n=r(84596),o=r.n(n),i=r(49977),a=r.n(i);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,function(e){if(Array.isArray(e))return u(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},l=function(e,t,r){return function(n){return(r?c(n,o()(e)).catch(r):c(n,o()(e))).concat(a().Observable.from(o()(t)))}}},31935:(e,t,r)=>{"use strict";r.d(t,{YL:()=>u,B0:()=>c,Mz:()=>l,TC:()=>s,qS:()=>f,Pe:()=>p,TP:()=>y});var n=r(22222),o=r(75110),i=r(93152),a=r(24262),u=function(e){return e.backgroundSelector&&e.backgroundSelector.source},c=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},l=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},s=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},f=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},p=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},y=(0,n.P1)(o.l2,i.$v,i.lh,(function(e,t,r){var n=e.filter((function(e){return e&&"background"===e.group}));return r&&r[t]?n.map((function(e){return(0,a.kf)(e,t)}))||[]:n}))},38842:(e,t,r)=>{"use strict";r.d(t,{wk:()=>f,Yf:()=>p,c3:()=>y,fY:()=>m});var n=r(18721),o=r.n(n),i=r(27361),a=r.n(i),u=r(13311),c=r.n(u),l=r(22222),s=r(8316),f=function(e){return o()(e,"localConfig.localizedLayerStyles")},p=function(e){var t=a()(e,"localConfig.plugins.dashboard",[]),r=c()(t,(function(e){return"DashboardEditor"===e.name}))||{};return a()(r,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return a()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},m=(0,l.P1)(f,y,s.KV,(function(e,t,r){var n=[];return e&&n.push({name:t,value:r}),n}))},76712:(e,t,r)=>{"use strict";r.d(t,{n0:()=>p,em:()=>y,tW:()=>m,FJ:()=>d,F8:()=>b,p8:()=>v,qy:()=>O});var n=r(27418),o=r.n(n),i=r(91175),a=r.n(i),u=r(1469),c=r.n(u),l=r(86267);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return e.filter((function(e){return l.default.isSRSAllowed(e)})).reduce((function(e,t){return o()(e,(r={},i=!0,(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(n=t))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r));var r,n,i}),{})},y=function(e,t){var r=e.split("?"),n={};return r.length>=2&&r[1]&&r[1].split(/[&;]/g).forEach((function(e){var r=e.split("=");-1===t.indexOf(r[0].toLowerCase())&&(n[r[0]]=r[1])})),{url:r[0],params:n}},m=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).references,t=void 0===e?[]:e;return{wfs:a()(t.filter((function(e){return e.type&&("OGC:WFS"===e.type||e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-feature")>-1)}))),wms:a()(t.filter((function(e){return e.type&&("OGC:WMS"===e.type||e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-map")>-1)}))),wmts:a()(t.filter((function(e){return e.type&&("OGC:WMTS"===e.type||e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-map")>-1)}))),tms:a()(t.filter((function(e){return e.type&&("OGC:TMS"===e.type||e.type.indexOf("OGC:TMS")>-1)})))}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{references:[]};return{esri:a()(e.references.filter((function(e){return e.type&&("ESRI:SERVER"===e.type||"arcgis"===e.type)})))}},b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).references,t=void 0===e?[]:e,r=a()(t.filter((function(e){return e.type&&e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),n=a()(t.filter((function(e){return e.type&&e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),o=a()(t.filter((function(e){return e.type&&e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),i=[];return r&&i.push({type:"WMS_GET_CAPABILITIES",url:r.url,labelId:"catalog.wmsGetCapLink"}),o&&i.push({type:"WMTS_GET_CAPABILITIES",url:o.url,labelId:"catalog.wmtsGetCapLink"}),n&&i.push({type:"WFS_GET_CAPABILITIES",url:n.url,labelId:"catalog.wfsGetCapLink"}),i},v=function(e){var t,r;return"wms"===e.type?[e.url].concat((r=null!==(t=e.domainAliases)&&void 0!==t?t:[],function(e){if(Array.isArray(e))return f(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join(","):e.url},O=function(e){return e&&!c()(e)&&-1!==e.indexOf(",")?e.split(",").map((function(e){return e.trim()})):e}},93201:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(64721),o=r.n(n),i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("?")[0].split("@");if(e.length>1){var t=e[e.length-1];if(o()(["png","png8","jpeg","vnd.jpeg-png","gif"],t))return t}return null}},11847:(e,t,r)=>{"use strict";r.d(t,{ij:()=>v,w0:()=>O,vl:()=>g,K2:()=>S,Nw:()=>h});var n=r(72500),o=r.n(n),i=r(1469),a=r.n(i),u=r(47037),c=r.n(u),l=r(18446),s=r.n(l),f=r(89734),p=r.n(f),y=r(13311),m=r.n(y),d=r(64210);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),r=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var n=window.location;r[1]=n.protocol,r[3]=n.hostname,r[4]=n.port,r[5]=e}r[4]=""!==r[4]&&r[4]?r[4]:"https:"===r[1]?"443":"80",r[5]=r[5]?r[5]:e.slice(r[0].length);var o,i,a=(i=6,function(e){if(Array.isArray(e))return e}(o=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(o,i)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[1],c=a[3],l=a[4],s=a[5],f=0===s.indexOf("/")?s.split("/")[1]:"";return{protocol:u,domain:c,port:l,rootPath:s,applicationRootPath:f}},O=function(e,t){var r=a()(e)?e[0]:e,n=a()(t)?t[0]:t;if(r===n)return!0;if(!r||!n)return!1;if(!c()(r)||!c()(n))return!1;var i=o().parse(r),u=o().parse(n),l=v(r),f=v(n),y=l.protocol===f.protocol,m=l.domain===f.domain,d=l.port===f.port,b=i.pathname===u.pathname,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var r=e?e.split("&").filter((function(e){return!!e})):[],n=t?t.split("&").filter((function(e){return!!e})):[];return s()(p()(r),p()(n))}(i.query,u.query);return y&&d&&m&&b&&O},g=function(e){return d.Qc(e)},S=function(e){return new RegExp(arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/).test(e)},h=function(e,t){var r=new RegExp(arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/).test(e);if(!r)return!1;if(r&&!t)return!0;if(r&&t){var n=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return m()(n,e)})).length}return!1}}}]);