(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[36975],{532425:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var n=t(675263),a=t.n(n),o=t(124852),l=t.n(o);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d=function(e){return e>100?"full":e>40?"medium":"small"},m=function(e){var r=e.size,t=e.style,n=void 0===t?{}:t,a=e.className,o=e.hidden;return l().createElement("div",{className:a,style:s({width:r,height:r,overflow:"hidden"},n)},!o&&l().createElement("div",{className:"mapstore-".concat(d(r),"-size-loader")}))};m.propTypes={size:a().number,className:a().string,style:a().object};const p=m},85428:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(124852),a=t.n(n),o=t(675263),l=t.n(o),c=["href","readOnly","children"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i.apply(this,arguments)}function s(e){var r=e.href,t=e.readOnly,n=e.children,o=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,c);return t?n:a().createElement("a",i({href:r},o),n)}s.propTypes={href:l().string,readOnly:l().bool.isRequired,children:l().any},s.defaultProps={href:"",readOnly:!1};const u=s},560330:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(85428)},400285:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var n=t(124852),a=t.n(n),o=t(675263),l=t.n(o),c=t(336693),i=t(805346),s=t(507412),u=t(535721),d={delete:function(e){var r;return!(null==e||null===(r=e.perms)||void 0===r||!r.includes("delete_resourcebase"))},copy:function(e){return(0,u.Os)(e,{perms:["add_resource"]})},download:function(e){var r;return!(null==e||!e.download_url||null==e||null===(r=e.perms)||void 0===r||!r.includes("download_resourcebase"))}};function m(e){var r,t,o=e.options,l=e.actions,u=e.onAction,m=e.resource,p=e.buildHrefByTemplate,f=e.onDownload,y=(0,n.useRef)(),v="gn-card-dropdown",g=null==y||null===(r=y.current)||void 0===r?void 0:r.querySelector(".".concat(v)),b=0===((null==g||null===(t=g.children)||void 0===t?void 0:t.length)||0);return a().createElement("div",{ref:y,className:"gn-resource-action-buttons",onClick:function(e){return e.stopPropagation()},style:b?{display:"none"}:{}},a().createElement(c.Z,{className:"gn-card-options",pullRight:!0},a().createElement(c.Z.Toggle,{id:"gn-card-options-".concat(m.pk2||m.pk),variant:"default",size:"sm",noCaret:!0},a().createElement(s.Z,{name:"ellipsis-v"})),a().createElement(c.Z.Menu,{className:v},o.map((function(e){if("button"===e.type&&l[e.action]||"download"===e.action){var r=d[e.action];return!r||r(m)?a().createElement(c.Z.Item,{key:e.action,onClick:function(){return"download"!==e.action?u(l[e.action],[m]):f(m)}},a().createElement(s.Z,{name:e.icon})," ",a().createElement(i.Z,{msgId:e.labelId})):null}return a().createElement(c.Z.Item,{key:e.href,href:p(m,e.href)},a().createElement(s.Z,{name:e.icon})," ",a().createElement(i.Z,{msgId:e.labelId}))})))))}m.propTypes={options:l().array,actions:l().object,onAction:l().func,resource:l().object,buildHrefByTemplate:l().func},m.defaultProps={options:[],actions:{},resource:{},onAction:function(){},buildHrefByTemplate:function(){}};const p=m},728376:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(400285)},834065:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(124852),a=t.n(n),o=t(675263),l=t.n(o),c=t(877593),i=t(560330),s=["resource","readOnly","formatHref"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function d(e){var r,t,n,o=e.resource,l=e.readOnly,d=e.formatHref,m=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,s);return m.detailsPanel?a().createElement(i.Z,{readOnly:l,href:d({query:{"filter{owner.username.in}":null===(n=o.owner)||void 0===n?void 0:n.username}})},o.owner&&(0,c.vW)(o.owner)):a().createElement("p",u({className:"card-text gn-card-user"},m),(null===(r=o.owner)||void 0===r?void 0:r.avatar)&&a().createElement("img",{src:o.owner.avatar,alt:(0,c.vW)(o.owner),className:"gn-card-author-image"}),a().createElement(i.Z,{readOnly:l,href:d({query:{"filter{owner.username.in}":null===(t=o.owner)||void 0===t?void 0:t.username}})},o.owner&&(0,c.vW)(o.owner)))}d.propTypes={resource:l().object,readOnly:l().bool,formatHref:l().func,props:l().any},d.defaultProps={resource:{},readOnly:!1,formatHref:function(){return"#"}};const m=d},339399:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var n=t(124852),a=t.n(n),o=t(757588);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}o.Dropdown.Item=o.MenuItem,o.Dropdown.Divider=function(e){return a().createElement(o.MenuItem,l({},e,{divider:!0}))};const c=o.Dropdown},336693:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(339399)},69582:(e,r,t)=>{"use strict";t.d(r,{Z:()=>b});var n=t(124852),a=t.n(n),o=t(805346),l=t(507412),c=t(693473),i=t(51605),s=t(535721),u=t(189239),d=t(560330),m=t(834065),p=t(728376),f=t(730381),y=t.n(f);function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var g=(0,n.forwardRef)((function(e,r){var t,f,g=e.data,b=e.active,h=e.options,O=e.formatHref,E=e.getTypesInfo,w=e.layoutCardsStyle,Z=e.buildHrefByTemplate,j=e.readOnly,P=e.actions,N=e.onAction,k=e.className,I=e.loading,S=e.featured,_=e.onClick,A=e.downloading,T=e.onDownload,D=g,H=E(),x=(H[D.subtype]||H[D.resource_type]||{}).icon,C=D&&(H[D.subtype]||H[D.resource_type])||{},M=C.formatDetailUrl,B=void 0===M?function(e){return null==e?void 0:e.detail_url}:M,q=C.canPreviewed,R=C.hasPermission,z=(null==D?void 0:D.pk)&&B(D),Y=(null==D?void 0:D.pk)&&q&&q(D),F=(null==D?void 0:D.pk)&&R&&R(D),W=(null==D?void 0:D.pk)&&(0,s.J7)(D),U=(t=(0,n.useState)(!1),f=2,function(e){if(Array.isArray(e))return e}(t)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,l,c=[],i=!0,s=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=o.call(t)).done)&&(c.push(n.value),c.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw a}}return c}}(t,f)||function(e,r){if(e){if("string"==typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}(t,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),J=U[0],$=U[1],G="list"===w?"card-img-left":"card-img-top";return a().createElement("div",{ref:r,onClick:function(){_(g)},className:"gn-resource-card".concat(b?" active":"").concat(j?" read-only":""," gn-card-type-").concat(w," ").concat("list"===w?"rounded-0":"").concat(k?" ".concat(k):"")},!j&&a().createElement("a",{className:"gn-resource-card-link",href:O({pathname:"/detail/".concat(D.resource_type,"/").concat(D.pk)})}),!j&&h&&h.length>0&&"grid"===w&&a().createElement(p.Z,{buildHrefByTemplate:Z,actions:P,resource:D,options:h,readOnly:j,onAction:N,onDownload:T}),a().createElement("div",{className:"card-resource-".concat(w)},J||!D.thumbnail_url?a().createElement("div",{className:"".concat(G," card-img-placeholder")},a().createElement(l.Z,{name:x})):a().createElement("img",{className:G,src:D.thumbnail_url,onError:function(){return $(!0)}}),a().createElement("div",{className:"gn-resource-card-body-wrapper"},a().createElement("div",{className:"card-body"},a().createElement("div",{className:"card-title"},a().createElement("div",null,x&&!I&&!A&&a().createElement(a().Fragment,null,a().createElement(d.Z,{readOnly:j,href:O({query:{"filter{resource_type.in}":D.resource_type}})},a().createElement(l.Z,{name:x}))),(I||A)&&a().createElement(i.Z,null),a().createElement(d.Z,{className:S?"gn-featured-card-title":"gn-card-title",readOnly:j,href:O({pathname:"/detail/".concat(D.resource_type,"/").concat(D.pk)})},D.title)),a().createElement("div",null,a().createElement(u.Z,{resource:D}))),a().createElement("p",{className:"card-text gn-card-creation-date"},(null==D?void 0:D.date_type)&&(null==D?void 0:D.last_updated)&&a().createElement(a().Fragment,null," "," ",y()(D.last_updated).format("MMMM Do YYYY"))),a().createElement("p",{className:"card-text gn-card-description"},D.raw_abstract?D.raw_abstract:"..."),!j&&h&&h.length>0&&"list"===w&&a().createElement(p.Z,{buildHrefByTemplate:Z,actions:P,resource:D,options:h,readOnly:j,onAction:N,onDownload:T})),a().createElement("div",{className:"gn-footer-wrapper"},a().createElement("div",{className:"gn-card-footer",style:{padding:h&&0===h.length?"0 0.25rem 0 0.5rem":"0 0.5rem"}},a().createElement(m.Z,{resource:D,readOnly:j,formatHref:O}),a().createElement("div",{className:"gn-card-actions"},!j&&(z||W)&&a().createElement("div",{className:"".concat(h&&0===h.length?"gn-card-view-editor-right":"gn-card-view-editor")},a().createElement(c.Z,{variant:"primary",href:Y||F?z:W,rel:"noopener noreferrer"},a().createElement(o.Z,{msgId:"gnhome.view"})))))))))}));g.defaultProps={links:[],theme:"light",getTypesInfo:s.NN,formatHref:function(){return"#"},featured:!1,onClick:function(){}};const b=g},957914:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(69582)},499469:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var n=t(124852),a=t.n(n),o=t(805346),l=t(675263),c=t.n(l),i=t(507412),s=t(815135),u=t(441609),d=t.n(u),m=t(535721),p=t(693473),f=(0,s.Z)(p.Z),y=function(e){var r,t,n,l=e.resource,c=void 0===l?{}:l,s=(0,m.fu)(c),u=s.isApproved,p=s.isPublished,y=s.isProcessing,v=s.isCopying,g=s.isDeleting,b=s.isDeleted;return d()(c)?null:a().createElement("p",{className:"gn-resource-status-text"},!y&&(!u||!p)&&a().createElement(f,{variant:"default",className:"gn-resource-status gn-status-button",tooltip:(r={isApproved:u,isPublished:p},t=r.isApproved,n=r.isPublished,!t&&n?a().createElement(o.Z,{msgId:"gnhome.pendingApproval"}):t||n?n||t?"":a().createElement(o.Z,{msgId:"gnhome.unpublished"}):a().createElement(o.Z,{msgId:"gnhome.unApprovedunPublished"})),style:{marginRight:(g||b||v)&&"0.4rem"},tooltipPosition:"top"},a().createElement(i.Z,{name:"info-circle",className:"gn-resource-status-pending"})),g&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(o.Z,{msgId:"gnviewer.deleting"})),b&&a().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},a().createElement(o.Z,{msgId:"gnviewer.deleted"})),v&&a().createElement("span",{className:"gn-resource-status gn-resource-status-primary"},a().createElement(o.Z,{msgId:"gnviewer.cloning"})))};y.propTypes={isApproved:c().bool,isPublished:c().bool},y.defaultProps={isApproved:!0,isPublished:!0};const v=y},189239:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(499469)},228261:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(124852),a=t.n(n),o=t(675263),l=t.n(o),c=["id","className","style","children"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i.apply(this,arguments)}function s(e){var r=e.id,t=e.className,n=e.style,o=e.children,l=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,c),s=t?" "+t:"";return a().createElement(a().Fragment,null,a().createElement("div",i({},l,{id:r,className:"gn-spinner".concat(s),style:n}),a().createElement("div",null)),o)}s.propTypes={id:l().string,className:l().string,style:l().object},s.defaultProps={};const u=s},51605:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n.Z});var n=t(228261)}}]);