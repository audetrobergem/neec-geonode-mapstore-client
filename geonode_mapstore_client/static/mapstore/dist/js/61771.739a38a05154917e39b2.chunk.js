(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[61771],{735913:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(675263),o=r.n(n),i=r(124852),c=r.n(i),u=r(757588),a=r(950966),l=r(805346);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(b,t);var e,r,n,o,i=(n=b,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(n);if(o){var r=y(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function b(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),i.apply(this,arguments)}return e=b,(r=[{key:"render",value:function(){var t=this,e=this.props.className?" "+this.props.className:"",r=c().createElement(u.Glyphicon,{className:"toc-layer-tool"+e,style:this.props.style,glyph:this.props.glyph,onClick:function(){return t.props.onClick(t.props.node)}});return this.props.tooltip?c().createElement(a.Z,{placement:"bottom",overlay:c().createElement(u.Tooltip,{id:"Tooltip-"+this.props.tooltip},c().createElement("strong",null,c().createElement(l.Z,{msgId:this.props.tooltip})))},r):r}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),b}(c().Component);b(d,"propTypes",{node:o().object,onClick:o().func,style:o().object,glyph:o().string,tooltip:o().string,className:o().string}),b(d,"defaultProps",{onClick:function(){}});const m=d},497844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(124852),o=r.n(n),i=r(675263),c=r.n(i),u=r(1036),a=r(414293),l=r.n(a),s=r(701469),p=r.n(s);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,r,n,i,c=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(i){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.apply(this,arguments)}return e=a,(r=[{key:"render",value:function(){var t=this;return o().createElement("div",{className:"mapstore-slider ".concat(this.props.hideTooltip?"":"with-tooltip"),onClick:function(t){t.stopPropagation()}},this.props.hideTooltip&&o().createElement(u.Z,{disabled:this.props.disabled,start:[l()(this.props.opacity)?100:Math.round(100*this.props.opacity)],range:{min:0,max:100},onChange:function(e){p()(e)&&e[0]&&t.props.onChange(parseFloat(e[0].replace(" %","")/100))}})||o().createElement(u.Z,{disabled:this.props.disabled,start:[l()(this.props.opacity)?100:Math.round(100*this.props.opacity)],tooltips:[!0],format:{from:function(t){return Math.round(t)},to:function(t){return Math.round(t)+" %"}},range:{min:0,max:100},onChange:function(e){return t.props.onChange(parseFloat(e[0].replace(" %",""))/100)}}))}}])&&y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o().Component);d(v,"propTypes",{opacity:c().number,disabled:c().bool,hideTooltip:c().bool,onChange:c().func}),d(v,"defaultProps",{opacity:1,onChange:function(){},visibility:!0});const g=v},490079:(t,e,r)=>{"use strict";r.d(e,{Z:()=>E});var n=r(472500),o=r.n(n),i=r(701469),c=r.n(i),u=r(414293),a=r.n(u),l=r(727418),s=r.n(l),p=r(675263),f=r.n(p),y=r(124852),b=r.n(y),h=r(233044),d=r(805346);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function j(t,e,r){return(e=P(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(l,t);var e,r,n,i,u=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(n);if(i){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return j(O(t=u.call.apply(u,[this].concat(r))),"state",{error:!1}),j(O(t),"onImgError",(function(){t.setState((function(){return{error:!0}}))})),j(O(t),"getUrl",(function(t,e){if(t.layer&&"wms"===t.layer.type&&t.layer.url){var r=t.layer,n=a()(e)?c()(r.url)&&Math.floor(Math.random()*r.url.length):e,i=c()(r.url)?r.url[n]:r.url.replace(/[?].*$/g,""),u=o().parse(i),l=(0,h.clearNilValuesForParams)(r.params),p=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:t.legendHeight,width:t.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:t.legendOptions},r.legendParams||{},t.language&&r.localizedLayerStyles?{LANGUAGE:t.language}:{},(0,h.addAuthenticationToSLD)(l||{},t.layer),l&&l.SLD_BODY?{SLD_BODY:l.SLD_BODY}:{},t.scales&&t.currentZoomLvl&&t.scaleDependent?{SCALE:Math.round(t.scales[t.currentZoomLvl])}:{});return(0,h.addAuthenticationParameter)(i,p),o().format({host:u.host,protocol:u.protocol,pathname:u.pathname,query:p})}return""})),j(O(t),"validateImg",(function(e){e.height<=1&&e.width<=2&&t.onImgError()})),t}return e=l,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.state.error&&this.getUrl(t,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var t=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?b().createElement("img",{onError:this.onImgError,onLoad:function(e){return t.validateImg(e.target)},src:this.getUrl(this.props),style:this.props.style}):b().createElement(d.Z,{msgId:"layerProperties.legenderror"})}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(b().Component);j(S,"propTypes",{layer:f().object,legendHeight:f().number,legendWidth:f().number,legendOptions:f().string,style:f().object,currentZoomLvl:f().number,scales:f().array,scaleDependent:f().bool,language:f().string}),j(S,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const E=S},1036:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(618446),o=r.n(n);const i=(0,r(867076).shouldUpdate)((function(t,e){return!o()(t.start,e.start)||t.disabled!==e.disabled}))(r(185552))}}]);