(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[25189],{247361:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i),u=r(414293),c=r.n(u),l=r(868195);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function m(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(n);if(o){var r=y(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(l.FormattedNumber,f({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!c()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(a().Component);m(v,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),m(v,"contextTypes",{intl:o().object});const g=v},359294:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i),u=r(757588),c=r(950966),l=r(359112),s=r(893379),f=r.n(s),p=r(161253);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function w(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}f()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(s,t);var e,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(o){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return w(g(t=i.call.apply(i,[this].concat(r))),"getFilteredTitle",(function(e){var r=e.toLowerCase().split(t.props.filterText.toLowerCase());return t.props.filterText?r.reduce((function(e,n,o){return o===r.length-1?[].concat(y(e),[n]):[].concat(y(e),[n,a().createElement("strong",{key:o},t.props.filterText.toLowerCase())])}),[]):e})),w(g(t),"renderTitle",(function(){var e=(0,l.BC)(t.props).title;return a().createElement("div",{className:"toc-title",onClick:t.props.onClick?function(e){return t.props.onClick(t.props.node.id,"layer",e.ctrlKey)}:function(){},onContextMenu:function(e){e.preventDefault(),t.props.onContextMenu(t.props.node)}},t.getFilteredTitle(e))})),t}return e=s,(r=[{key:"render",value:function(){var t=(0,l.BC)(this.props).tooltipText;return this.props.tooltip&&t?a().createElement(c.Z,{placement:this.props.node.tooltipPlacement||"top",overlay:a().createElement(u.Tooltip,{id:"tooltip-layer-title"},t)},this.renderTitle()):this.renderTitle()}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(a().Component);w(j,"propTypes",{node:o().object,onClick:o().func,onContextMenu:o().func,currentLocale:o().string,filterText:o().string,tooltip:o().bool,tooltipOptions:o().object}),w(j,"defaultProps",{onClick:function(){},onContextMenu:function(){},currentLocale:"en-US",filterText:"",tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}});const S=j},262770:(t,e,r)=>{"use strict";r.d(e,{Z:()=>O});var n=r(124852),o=r.n(n),i=r(675263),a=r.n(i),u=r(441609),c=r.n(u),l=r(281763),s=r.n(l),f=r(490079);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===p(e)?e:String(e)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(i){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),g(b(e=a.call(this,t)),"state",{containerWidth:0,legendContainerStyle:{overflowX:"auto"}}),g(b(e),"canShow",(function(t){return t.visibility||!e.props.showOnlyIfVisible})),g(b(e),"useLegendOptions",(function(){return!c()(e.props.node.legendOptions)&&s()(e.props.node.legendOptions.legendHeight)&&s()(e.props.node.legendOptions.legendWidth)})),g(b(e),"setOverflow",(function(){return e.useLegendOptions()&&e.props.node.legendOptions.legendWidth>e.state.containerWidth})),e.containerRef=o().createRef(),e}return e=u,r=[{key:"componentDidMount",value:function(){var t=this.containerRef.current&&this.containerRef.current.clientWidth;this.setState(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({containerWidth:t},this.state))}},{key:"render",value:function(){var t=this.props.node||{},e=this.canShow(t)&&"wms"===t.type&&"background"!==t.group,r=e&&this.useLegendOptions();return e?o().createElement("div",{style:this.setOverflow()?this.state.legendContainerStyle:this.props.legendContainerStyle,ref:this.containerRef},o().createElement(f.Z,{style:this.setOverflow()?{}:this.props.legendStyle,layer:t,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,legendHeight:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendHeight||this.props.legendHeight||void 0,legendWidth:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendWidth||this.props.legendWidth||void 0,legendOptions:this.props.WMSLegendOptions,scaleDependent:this.props.scaleDependent,language:this.props.language})):null}}],r&&y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(o().Component);g(w,"propTypes",{node:a().object,legendContainerStyle:a().object,legendStyle:a().object,showOnlyIfVisible:a().bool,currentZoomLvl:a().number,scales:a().array,WMSLegendOptions:a().string,scaleDependent:a().bool,language:a().string,legendWidth:a().number,legendHeight:a().number}),g(w,"defaultProps",{legendContainerStyle:{},showOnlyIfVisible:!1,scaleDependent:!0});const O=w},351990:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r(653391).ZP},653391:(t,e,r)=>{"use strict";r.d(e,{HC:()=>R,ZP:()=>$});var n=r(124852),o=r.n(n),i=r(500711),a=r.n(i),u=r(264721),c=r.n(u),l=r(281763),s=r.n(l),f=r(747037),p=r.n(f),d=r(393386),y=r.n(d),m=r(875472),b=r.n(m),v=r(385564),g=r.n(v),h=r(82110),w=r(443143),O=r(12226);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}var S=["base","range"],P=["onInitialized"];function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===j(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||T(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var k=o().lazy((function(){return Promise.all([r.e(47042),r.e(36111)]).then(r.bind(r,736111))})),Z={base:190,range:0,s:.95,v:.63},R=function(t,e){var r=e.base,n=e.range,o=D(e,S);return((0,w.qH)(r,n,t+1,o)||[0]).slice(1)},M=function(t,e,r,n){var o="value"===t?(null==r?void 0:r.classification)||[]:"range"===t&&(null==r?void 0:r.rangeClassification)||[],i="value"===t&&o.length?function(t,e,r,n){return t.map((function(t){if(p()(t)||s()(t)){var o=e.filter((function(e){return e.value===t}))[0];return o?o.color:r&&n.defaultCustomColor?n.defaultCustomColor:R(1,Z)[0]}return R(1,n)[0]}))}(e,o,n,r)||[]:"range"===t&&o.length&&function(t,e,r,n){return t.map((function(t){if(!s()(t))return R(1,Z)[0];var o=e.filter((function(e){return t>=e.min&&t<e.max}))[0];return o?o.color:r&&n.defaultCustomColor?n.defaultCustomColor:R(1,Z)[0]}))}(e,o,n,r)||[];return{colorCategories:o,classificationColors:i}},F=function(t,e,r,n){var o=r;return c()(e.map((function(t){return t.value})),t)&&(o=(o=e.filter((function(e){return e.value===t}))[0].title)||("pie"===n?"":t)),o.trim()},L=function(t,e,r,n,o){var i,a,u=e.filter((function(e){return t>=e.min&&t<e.max}))[0];if(u&&!u.title)return"".concat(u.min," - ").concat(u.max);if(!u)return r||n;var c=(null==u?void 0:u.title)||r;return c?c.trim().replace("${minValue}",null!==(i=u.min)&&void 0!==i?i:"").replace("${maxValue}",null!==(a=u.max)&&void 0!==a?a:"").replace("${legendValue}",o||""):""},N=function(t,e){return e.map((function(e){var r=e;try{return(0,O.B)(t,{value:r})}catch(t){return e}}))};function _(t){var e,r,n,o,i,a,u,c,l,s=t.type,f=t.xDataKey,p=t.yDataKey,d=t.data,m=t.formula,b=t.yAxisOpts,v=t.classificationAttr,h=t.yAxisLabel,w=t.autoColorOptions,O=t.customColorEnabled,j=t.classificationType,S=d,P=w.defaultClassLabel,A=void 0===P?"":P;S=function(t,e){var r=e.classificationAttr,n=e.classificationType,o=e.autoColorOptions,i=e.customColorEnabled,a=t.map((function(t){return t[r]})),u=M(n,a,o,i).colorCategories;if(r){var c=t.map((function(t){return E({},t)})),l=[];switch(n){case"value":l=Object.keys(u).reduce((function(t,e){var n=[];return c.forEach((function(t,o){t[r]===u[e].value&&(n.push(t),delete c[o])})),[].concat(C(t),[n])}),[]);break;case"range":l=Object.keys(u).reduce((function(t,e){var n=[];return c.forEach((function(t,o){t[r]>=u[e].min&&t[r]<u[e].max&&(n.push(t),delete c[o])})),[].concat(C(t),[n])}),[]);break;default:return t}return g()(l.concat(g()(c).filter(Boolean)))}return t}(S,{classificationAttr:v,classificationType:j,autoColorOptions:w,customColorEnabled:O}),u=v?S.map((function(t){return t[v]})):[];var x,I,D,k,Z=S.map((function(t){return t[f]})),R=S.map((function(t){return t[p]}));switch(c=M(j,u,w,O).classificationColors,l=M(j,u,w,O).colorCategories,s){case"pie":var _={name:h||p,hovertemplate:"%{label}<br>".concat(p,"<br>%{value}<br>%{percent}<extra></extra>"),type:s,textposition:"inside",values:R,pull:.005};if("default"!==j&&c.length){var B=u.map((function(t,e){var r=Z[e],n="value"===j?F(t,l,A,s):L(t,l,A,r,v);return n?n.replace("${groupByValue}",r):r}));return E(E({},_),{},{labels:B,marker:{colors:c}})}return E(E(E({},p&&{legendgroup:p}),_),{},{labels:Z},O?{marker:{colors:Z.reduce((function(t){return[].concat(C(t),[(null==w?void 0:w.defaultCustomColor)||"#0888A1"])}),[])}}:{});case"bar":m&&(R=N(m,R));var G={type:s};if("default"!==j&&c.length){var U="value"===j?u.map((function(t){return F(t,l,A,s)})):u.map((function(t){return L(t,l,A,h||p,v)})),$=y()(U),W=$.reduce((function(t,e){return[].concat(C(t),[e?e.replace("${legendValue}",h||p||""):h||p])}),[]),q=(x=U,I=$,D=[c,Z,R].map((function(t){return I.map((function(e){return x.reduce((function(r,n,o){return n===e?[].concat(C(r),[t[o]]):r}),[])}))})),k=3,function(t){if(Array.isArray(t))return t}(D)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(D,k)||T(D,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),z=q[0],K=q[1],V=q[2];return W.map((function(t,e){var r,n,o;return E(E({},G),{},{x:K[e],y:V[e],name:t,marker:{color:z[e]},hovertemplate:"".concat(null!==(r=null==b?void 0:b.tickPrefix)&&void 0!==r?r:"","%{y:").concat(null!==(n=null==b?void 0:b.format)&&void 0!==n?n:"g","}").concat(null!==(o=null==b?void 0:b.tickSuffix)&&void 0!==o?o:"","<extra>").concat(t,"</extra>")})}))}return G=E(E({},G),{},{x:Z,y:R,name:h||p,hovertemplate:"".concat(null!==(e=null==b?void 0:b.tickPrefix)&&void 0!==e?e:"","%{y:").concat(null!==(r=null==b?void 0:b.format)&&void 0!==r?r:"g","}").concat(null!==(n=null==b?void 0:b.tickSuffix)&&void 0!==n?n:"","<extra></extra>")},c&&c.length&&O?{marker:{color:c}}:{});default:return m&&(R=N(m,R)),{hovertemplate:"".concat(null!==(o=null==b?void 0:b.tickPrefix)&&void 0!==o?o:"","%{y:").concat(null!==(i=null==b?void 0:b.format)&&void 0!==i?i:"d","}").concat(null!==(a=null==b?void 0:b.tickSuffix)&&void 0!==a?a:"","<extra></extra>"),x:Z,y:R,name:h||p}}}function B(t){var e=t.type,r=t.isModeBarVisible;return"pie"===e?{t:r?20:5,b:5,l:2,r:2,pad:4}:{l:5,r:5,b:30,t:r?20:5,pad:4}}function G(t){var e=t.series,r=void 0===e?[]:e,n=t.cartesian,o=t.type,i=t.yAxis,a=t.xAxisAngle,u=t.xAxisOpts,c=void 0===u?{}:u,l=t.yAxisOpts,s=void 0===l?{}:l,f=t.data,p=void 0===f?[]:f,d=t.autoColorOptions,y=void 0===d?Z:d,m=t.customColorEnabled,b=t.barChartType,v=void 0===b?"stack":b,g={colorway:m?[null==y?void 0:y.defaultCustomColor]||0:R(r.length,y),yaxis:{type:null==s?void 0:s.type,automargin:!0,tickformat:null==s?void 0:s.format,tickprefix:null==s?void 0:s.tickPrefix,ticksuffix:null==s?void 0:s.tickSuffix,showticklabels:!0===i,showgrid:n},xaxis:{showgrid:n,type:null==c?void 0:c.type,showticklabels:!(null!=c&&c.hide),nticks:c.nTicks,automargin:!0,tickangle:null!=a?a:"auto"}};switch(o){case"pie":return E({},!m&&{colorway:R(p.length,y)});case"bar":return E({barmode:v},g);default:return g}}var U=function(t){var e=t.xAxis,r=t.series,n=void 0===r?[]:r,o=t.yAxisLabel,i=t.type,u=void 0===i?"line":i,c=t.height,l=t.width,s=t.legend,f=t.classifications,p=t.autoColorOptions,d=void 0===p?Z:p,y=null==e?void 0:e.dataKey,m=l>350,v=null==f?void 0:f.dataKey,g=(t.options||{}).classificationAttributeType,h="global.colors.custom"===d.name,w=function(t,e,r,n){return a()([t,(null==r?void 0:r.classification)||(null==r?void 0:r.rangeClassification),n],Boolean)?"string"===e?"value":"range":"default"}(v,g,d,h);return{layout:E(E(E({showlegend:s},G(E(E({},t),{},{customColorEnabled:h,classificationAttr:v}))),{},{margin:B(E(E({},t),{},{isModeBarVisible:m})),autosize:!1,height:c,width:l},"pie"===u&&m&&{legend:{x:1.05,y:.5}}),{},{hovermode:"x unified",uirevision:!0}),data:n.map((function(e){var r,n=e.dataKey,i=_(E(E({},t),{},{xDataKey:y,yDataKey:n,classificationAttr:v,type:u,yAxisLabel:o,autoColorOptions:d,customColorEnabled:h,classificationType:w})),a=i?null==i||null===(r=i.x)||void 0===r?void 0:r.map((function(t,e){return{xAxis:t,yAxis:i.y[e]}})):{},c=b()(a,["xAxis"],["asc"]);return i.x=null==c?void 0:c.map((function(t){return t.xAxis})),i.y=null==c?void 0:c.map((function(t){return t.yAxis})),i})),config:{displayModeBar:m,modeBarButtonsToRemove:["lasso2d","select2d","hoverCompareCartesian","hoverClosestCartesian","hoverClosestPie"],displaylogo:!1}}};function $(t){var e=t.onInitialized,r=D(t,P),i=U(r),a=i.data,u=i.layout,c=i.config;return o().createElement(n.Suspense,{fallback:o().createElement(h.Z,null)},o().createElement(k,{onInitialized:e,data:a.flat(),layout:u,config:c}))}},507848:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(171703),o=r(22222),i=r(93152);const a=(0,n.connect)((0,o.P1)(i.$v,(function(t){return{mapType:t}})))},819983:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var n=r(124852),o=r.n(n),i=r(675263),a=r.n(i),u=r(552259);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){return function(e){var r,i,a,c,l,f,p,d=(null==e||null===(r=e.map)||void 0===r?void 0:r.projection)||"EPSG:3857",y=(null==e||null===(i=e.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(c=a.view)||void 0===c?void 0:c.DPI)||null,m=null==e||null===(l=e.map)||void 0===l||null===(f=l.mapOptions)||void 0===f||null===(p=f.view)||void 0===p?void 0:p.scales,b=(0,n.useMemo)((function(){return m?(0,u.getResolutionsForScales)(m,d,y):null}),[m,d,y]),v=b?s(s({},e),{},{map:s(s({},e.map),{},{mapOptions:s(s({},e.map.mapOptions),{},{view:s(s({},e.map.mapOptions.view),{},{resolutions:b})})})}):e;return o().createElement(t,v)}};p.propTypes={Component:a().element};const d=p},843614:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(727418),o=r.n(n),i=r(757588),a=r(461365);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(o){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"handleDialogClick",value:function(t){t.target===t.currentTarget&&this.props.onHide(t)}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.Modal);const p=o()((0,a.Z)(f),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},273849:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(867076),o=r(828878),i=r(49977),a=r.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=(0,n.mapPropsStreamWithConfig)(o.Z);const p=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),f((function(t){return t.take(1).switchMap((function(e){return e.dataStreamFactory(t.startWith(e),e)})).combineLatest(t,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(l({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t)}))})))},193190:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n=r(124852),o=r.n(n),i=r(743129),a=r(757588),u=r(441609),c=r.n(u),l=r(227361),s=r.n(l),f=r(815135),p=r(993451),d=r(805346),y=r(282467),m=r(552259);function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=(0,p.Z)("placeholder")(a.FormControl),g=(0,p.Z)(["noResultsText"])(i.ZP),h=(0,f.Z)(y.Z);const w=function(t){var e,r=t.maps,i=void 0===r?[]:r,u=t.onChange,l=void 0===u?function(){}:u,f=t.value,p=void 0===f?"":f,y=t.disabled,w=void 0!==y&&y,O=t.className,j=void 0===O?"":O,S=t.editorData,P=void 0===S?{}:S,A=t.setSelectedMap,E=void 0===A?function(){}:A,x=t.setEmptyMap,C=void 0===x?function(){}:x,T=t.emptyMap,I=void 0!==T&&T,D=t.withContainer,k=void 0!==D&&D,Z=t.selectedMap,R=void 0===Z?{}:Z,M=function(t){var e;if(1===t.length)return null;var r=(t.find((function(t){return t.mapId===p}))||{}).size;return!k&&(null==r?void 0:r.width)<=400?o().createElement(h,{tooltipId:"widgets.mapSwitcher.infoOnHide",className:"square-button-md no-border",key:"info-sign"},o().createElement(a.Glyphicon,{glyph:"info-sign"})):o().createElement(g,{className:j,disabled:w,noResultsText:"widgets.mapSwitcher.noResults",options:c()(t)?[]:t.map((function(t){return{label:t.name,value:t.mapId}})),onChange:function(t){return t.value&&l("selectedMapId",t.value)},value:p||(null==t||null===(e=t[0])||void 0===e?void 0:e.mapId),clearable:!1})};if(!k)return M(i);var F,L,N=(F=(0,n.useState)(""),L=2,function(t){if(Array.isArray(t))return t}(F)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(F,L)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(F,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=N[0],B=N[1];return(0,n.useEffect)((function(){if(!c()(null==P?void 0:P.maps)&&k){var t,e,r,n=null==P||null===(t=P.maps)||void 0===t?void 0:t.find((function(t){return t.name===m.EMPTY_MAP}));c()(n)?(C(!1),e=s()(P,"maps[0]",{}),c()(P.selectedMapId)?l("selectedMapId",e.mapId):e=null===(r=P.maps)||void 0===r?void 0:r.find((function(t){return t.mapId===P.selectedMapId}))):(C(!0),e=n),E(e)}}),[P.maps,P.selectedMapId,k,E,l,C]),I||(null===(e=P.maps)||void 0===e?void 0:e.length)>1?o().createElement("div",{className:"widget-map-selector"},I?o().createElement("div",{style:{display:"inline-flex"}},o().createElement(v,{className:"widget-empty-map",type:"text",placeholder:"widgets.mapSwitcher.placeholder",style:{textOverflow:"ellipsis"},value:_,onChange:function(t){return B(t.target.value)}}),o().createElement(h,{bsStyle:"primary",disabled:!_,onClick:function(){l("maps[".concat(R.mapId,"].name"),_),l("selectedMapId",R.mapId)}},o().createElement(a.Glyphicon,{glyph:"ok"}))):o().createElement(o().Fragment,null,o().createElement("div",{className:"widget-map-selector-label"},o().createElement("strong",null,o().createElement(d.Z,{msgId:"widgets.mapSwitcher.selectLabel"}))),M(P.maps))):null}},12425:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=(0,r(867076).withState)("confirmDelete","toggleDeleteConfirm",!1)},630881:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r(313311),o=r.n(n),i=r(441609),a=r.n(i),u=r(867076),c=r(986267),l=r(47805),s=r(189291),f=r(102245),p=r.n(f),d=r(689737),y=r(670956);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var O=function(t,e){var r=(0,y.Z5)(t,e),n=o()(Object.keys(r||{}),(function(){return"cql_filter"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()}));return r&&n&&r[n]},j=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerFilter};const S=(0,u.compose)((0,u.withPropsOnChange)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=t.dependencies,o=void 0===n?{}:n,i=t.layer,a=t.quickFilters,u=t.options,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return e!==c.mapSync||o.viewport!==(c.dependencies&&c.dependencies.viewport)||o.quickFilters!==(c.dependencies&&c.dependencies.quickFilters)||o.options!==(c.dependencies&&c.dependencies.options)||r!==c.geomProp||l!==c.filter||u!==c.options||a!==c.quickFilters||O(i,o)!==O(c.layer,c.dependencies)||j(i)!==j(c.layer)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=void 0===r?"the_geom":r,o=t.dependencies,i=void 0===o?{}:o,u=t.filter,f=t.layer,m=t.quickFilters,b=t.options,w=i.viewport,j=p()({gmlVersion:"3.1.1"}),S=(0,d.Z)(j),P=j.filter,A=j.property,E=j.and,x=(f||{}).layerFilter,C={},T={},I=(0,y.r$)(u,m,b);if(!e)return{filter:!a()(I)||x?P(E.apply(void 0,h(x&&!x.disabled?(0,l.toOGCFilterParts)(x,"1.1.0","ogc"):[]).concat(h(I?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[])))):void 0};if(f&&i&&i.quickFilters&&i.layer&&f.name===i.layer.name&&(I=v(v({},I),(0,y.r$)(I,i.quickFilters,i.options))),f&&i&&i.filter&&i.layer&&f.name===i.layer.name&&(I=v(v({},I),(0,l.composeAttributeFilters)([I,i.filter]))),i.viewport){var D=Object.keys(w.bounds).reduce((function(t,e){return v(v({},t),{},g({},e,parseFloat(w.bounds[e])))}),{});C=(0,c.getViewportGeometry)(D,w.crs);var k=O(f,i);return T=k?[S((0,s.read)(k))]:[],{filter:P(E.apply(void 0,h(T).concat(h(x&&!x.disabled?(0,l.toOGCFilterParts)(x,"1.1.0","ogc"):[]),h(I?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[]),[A(n).intersects(C)])))}}return{filter:P(E.apply(void 0,h(x?(0,l.toOGCFilterParts)(x,"1.1.0","ogc"):[]).concat(h(I?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[]))))}})))},908488:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(867076),o=r(670956),i=r(313311),a=r.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const f=(0,n.compose)((0,n.withPropsOnChange)(["dependencies","options"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dependencies,r=void 0===e?{}:e,n=t.options,i=t.layer,u=void 0===i?{}:i,c=(0,o.Z5)(u,r),s=a()(Object.keys(c||{}),(function(){return"viewparams"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()})),f=c&&s&&c[s];return{options:f?l(l({},n),{},{viewParams:f}):n}})))},873339:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(867076),o=r(478718),i=r.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function t(e,r,n){return e?Object.keys(e).reduce((function(o,a){return"dependenciesMap"===a&&r[e[a]]&&r[e.mapSync]&&r[e[a]][a]&&-1===r[e[a]][a].indexOf(n)&&!o.mapSync?c(c({},o),i()(t(r[e[a]],r,n),["options","layer","quickFilters","filter","dependenciesMap"])):c(c({},o),{},l({},a,r[e[a]]))}),{}):r};const f=(0,n.withProps)((function(t){var e=t.dependenciesMap,r=t.dependencies,n=t.id;return{dependencies:e?s(e,r,n):r,dependenciesMap:e}}))},639837:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(982030),o=r(599707);const i=(0,n.Z)((function(t){var e=t.data,r=void 0===e?[]:e;return!r||0===r.length}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync;return{iconFit:t.iconFit,messageId:e?"widgets.errors.nodatainviewport":"widgets.errors.nodata",glyph:"stats"}}),o.Z)},946173:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(124852),o=r.n(n),i=r(982030),a=r(805346);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l=function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.Z)((function(t){var e=t.layers;return 0===(void 0===e?[]:e).length}),(c(t={},e?"tooltip":"title",o().createElement(a.Z,{msgId:"widgets.errors.noLegend"})),c(t,"description",!e&&o().createElement(a.Z,{msgId:"widgets.errors.noLegendDescription"})),t))}},342415:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(124852),o=r.n(n),i=r(805346),a=r(982030),u=r(599707);const c=(0,a.Z)((function(t){return!!t.error}),(function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.error,a=r.layer,c=-1!==(null==n||null===(t=n.message)||void 0===t?void 0:t.indexOf("Could not locate"))?o().createElement(u.Z,{glyph:"stats",messageId:"widgets.errors.layerNotAvailable",msgParams:{layerName:null==a?void 0:a.name}}):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===t.code?o().createElement(i.Z,{msgId:"widgets.errors.timeoutExpired"}):t.message?o().createElement(i.Z,{msgId:"widgets.errors.genericErrorWithMessage",msgParams:{message:t.message}}):o().createElement(i.Z,{msgId:"widgets.errors.genericError"})}(n);return{glyph:-1!==(null==n||null===(e=n.message)||void 0===e?void 0:e.indexOf("Could not locate"))?null:"warning-sign",iconFit:!1,content:c}}))},213314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(867076),o=r(227361),i=r.n(o),a=r(12425),u=r(839860),c=r(552259),l=r(557579);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const m=(0,n.compose)((0,n.withProps)((function(t){var e=t.dependencies,r=void 0===e?{}:e,n=t.dependenciesMap,o=void 0===n?{}:n;return{layers:r[o.layers]||r.layers||[],dependencyMapPath:o.layers||"",scales:(0,c.getScales)(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",i()(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),(0,n.withProps)((function(t){var e=t.layers,r=void 0===e?[]:e;return{layers:r.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==t.group&&"vector"!==t.type})),allLayers:r}})),(0,n.withHandlers)({updateProperty:function(t){var e=t.updateProperty,r=t.dependencyMapPath,n=t.allLayers,o=void 0===n?[]:n;return function(t,n,i){if(r){var a=(f=l.jB.exec(r)||[],m=3,function(t){if(Array.isArray(t))return t}(f)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(f,m)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(f,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[1],c=a[2];if(c){var s=o.map((function(e){return e.id===i?p(p({},e),{},d({},t,n)):e}));e(u,"maps",{mapId:c,layers:s},"merge")}}var f,m}}}),a.Z,(0,u.tR)(),(0,u.E6)(),(0,u.um)())},387017:(t,e,r)=>{"use strict";r.d(e,{Z:()=>I});var n=r(414293),o=r.n(n),i=r(513218),a=r.n(i),u=r(867076),c=r(49977),l=r.n(c),s=r(465633),f=r(624262),p=r(273849);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,i=void 0===n?[]:n,u=t.AggregationAttribute,c=t.AggregationFunctions;return r.map((function(t){return m(m({},i.reduce((function(e,r,n){var i=t[n];if(a()(i)){if(o()(i.time))throw new Error("Unknown response format from server");i=new Date(i.time).toISOString()}return m(m({},e),{},b({},r,i))}),{})),{},b({},"".concat(c[0],"(").concat(u,")"),t[t.length-1]))})).sort((function(t,e){var r=parseFloat(t[i]),n=parseFloat(e[i]);return isNaN(r)||isNaN(n)?t<e?-1:t>e?1:0:r-n}))},g=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes||n.classificationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.classificationAttribute===e.classificationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,u=t.onLoadError,c=void 0===u?function(){}:u;return(0,s.Z)((0,f.ZA)(r),m(m({featureType:r.name},n),{},{filter:o}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:v(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}],classifications:{dataKey:n.classificationAttribute},xAxis:{dataKey:t.GroupByAttributes[0]}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(c)})).startWith({loading:!0})}))};const h=(0,u.compose)((0,u.withProps)((function(){return{dataStreamFactory:g}})),p.Z);var w=r(984596),O=r.n(w),j=r(189734),S=r.n(j),P=r(886850);function A(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,e=(arguments.length>1?arguments[1]:void 0).groupByAttributes;return S()(t.map((function(t){return t.properties})),e)},C=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.Tt)(r)&&n&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.classificationAttribute===e.classificationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,u=t.onLoadError,c=void 0===u?function(){}:u;return(0,P.Mc)(r,o,{propertyName:n.classificationAttribute?[].concat(A(O()(n.aggregationAttribute)),A(O()(n.groupByAttributes)),A(O()(n.classificationAttribute))):[].concat(A(O()(n.aggregationAttribute)),A(O()(n.groupByAttributes)))}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:x(t,n),series:[{dataKey:n.aggregationAttribute}],classifications:{dataKey:n.classificationAttribute},xAxis:{dataKey:n.groupByAttributes}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(c)})).startWith({loading:!0})}))};const T=(0,u.compose)((0,u.withProps)((function(){return{dataStreamFactory:C}})),p.Z),I=(0,u.branch)((function(t){var e=t.options,r=void 0===e?{}:e;return!r.aggregateFunction||"None"===r.aggregateFunction}),T,h)},839860:(t,e,r)=>{"use strict";r.d(e,{E6:()=>D,tR:()=>T,AV:()=>I,G5:()=>C,um:()=>k});var n=r(867076);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,a=void 0===o?[]:o,u=t.toggleMaximize,c=void 0===u?function(){}:u,l=t.dataGrid,s=void 0===l?{}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showMaximize?[].concat((e=a,function(t){if(Array.isArray(t))return i(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:n.widget?"resize-small":"resize-full",target:"icons",tooltipId:"widgets.widget.menu.".concat(n.widget?"minimize":"maximize"),tooltipPosition:"right",visible:!s.static,onClick:function(){return c()}}]):a}})));function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=r(124852),p=r.n(f),d=r(80717),y=function(t){return"icons"===t.target},m=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(y).length>0},b=r(327244);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=r(757588),h=r(805346),w=r(815135);function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t){var e=t.target,r=t.visible;return(void 0===r||r)&&"menu"===e},S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(j).length>0},P=(0,w.Z)(g.MenuItem);function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){return"tools"===t.target},x=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(E).length>0},C=function(){return(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,u=void 0===a?{}:a,c=t.canEdit,s=t.updateProperty,f=void 0===s?function(){}:s,p=t.id,d=t.hide,y=void 0!==d&&d;return{widgetTools:u.showHide?[].concat((e=i,function(t){if(Array.isArray(t))return l(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"lock",target:"menu",active:y,textId:y?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:y?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:!n.widget&&c,onClick:function(){return f(p,"hide",!y)}}]):i}})))},T=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.dataGrid,i=void 0===o?{}:o,a=t.canEdit,c=t.onEdit,l=void 0===c?function(){}:c,s=t.toggleDeleteConfirm,f=void 0===s?function(){}:s;return{widgetTools:a?[].concat((e=n,function(t){if(Array.isArray(t))return u(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pencil",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return f(!0)}}]):n}}))},I=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.data,i=t.title,a=t.exportCSV,u=void 0===a?function(){}:a;return{widgetTools:[].concat((e=n,function(t){if(Array.isArray(t))return c(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return u({data:o,title:i})}}])}}))},D=function(){return(0,n.compose)((0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,u=void 0===a?{}:a,c=t.updateProperty,l=void 0===c?function(){}:c,f=t.id,p=t.dataGrid,d=void 0===p?{}:p;return{widgetTools:u.showPin?[].concat((e=i,function(t){if(Array.isArray(t))return s(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pushpin",bsStyle:d.static&&"primary",glyphClassName:d.static?"active":void 0,tooltipId:d.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",visible:!n.widget,onClick:function(){return l(f,"dataGrid.static",!d.static)}}]):i}}))),(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,i=t.widgetTools,a=void 0===i?[]:i,u=t.dataGrid,c=void 0===u?{}:u,l=t.toggleCollapse,s=void 0===l?function(){}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showCollapse?[].concat((e=a,function(t){if(Array.isArray(t))return o(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!n.widget&&!c.static,onClick:function(){return s()}}]):a}}))),a,(0,n.compose)((0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.title,i=t.description,a=t.widgetType;return{widgetTools:i&&"text"!==a?[].concat((e=n,function(t){if(Array.isArray(t))return v(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i,id:(0,b.slug)(o)},target:"icons"}]):n}}))))},k=function(){return(0,n.compose)((0,n.compose)((0,n.withPropsOnChange)(["topLeftItems","widgetTools"],(function(t){var e,r=t.topLeftItems,n=void 0===r?[]:r,o=t.widgetTools;return{topLeftItems:x(o)?[].concat((e=n,function(t){if(Array.isArray(t))return A(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(d.Z,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(E)})]):n}}))),(0,n.compose)((0,n.withPropsOnChange)(["icons","widgetTools"],(function(t){var e=t.icons,r=void 0===e?[]:e,n=t.widgetTools;return{icons:m(n)?p().createElement(d.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:n.filter(y)}):r}}))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.className,r=void 0===e?"widget-menu":e,o=t.menuIcon,i=void 0===o?"option-vertical":o;return(0,n.withProps)((function(t){var e,n=t.widgetTools,o=t.topRightItems,a=void 0===o?[]:o;return{topRightItems:S(n)?[].concat((e=a,function(t){if(Array.isArray(t))return O(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(g.ButtonToolbar,null,p().createElement(g.DropdownButton,{pullRight:!0,bsStyle:"default",className:r,title:p().createElement(g.Glyphicon,{glyph:i}),noCaret:!0,id:"dropdown-no-caret"},n.filter(j).map((function(t,e){var r=t.onClick,n=void 0===r?function(){}:r,o=t.disabled,i=void 0!==o&&o,a=t.glyph,u=t.glyphClassName,c=t.text,l=t.textId,s=t.tooltipId,f=t.active;return p().createElement(P,{active:f,tooltipId:s,onSelect:n,disabled:i,eventKey:e},p().createElement(g.Glyphicon,{className:u,glyph:a}),l?p().createElement(h.Z,{msgId:l}):c)}))))]):a}}))}())}},670956:(t,e,r)=>{"use strict";r.d(e,{Z5:()=>v,r$:()=>g});var n=r(313311),o=r.n(n),i=r(227361),a=r.n(i),u=r(441609),c=r.n(u),l=r(354061),s=r.n(l),f=r(196958),p=r(47805);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t,e){return t&&t.id&&a()(o()(e.layers||[],{id:t.id}),"params",{})},g=function(t,e,r){var n=e&&r&&Object.keys(e).filter((function(t){return o()((0,f._Q)(r.propertyName),(function(e){return e===t}))})).reduce((function(t,r){return m(m({},t),{},b({},r,e[r]))}),{}),i=s()(n,(function(t,e,r){return(0,f.dJ)(m({attribute:r},e),t)}),{});if(!c()(t)||!c()(i)){var a=(0,p.composeAttributeFilters)([t,i],void 0,null==t?void 0:t.spatialFieldOperator);return m(m({},t),a)}return{}}},39589:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(867076),o=r(465633),i=r(273849),a=r(49977),u=r.n(a),c=r(624262);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,o=void 0===n?[]:n,i=t.AggregationAttribute,a=t.AggregationFunctions;return r.map((function(t){return f(f({},o.reduce((function(e,r,n){return f(f({},e),{},p({},r,t[n]))}),{})),{},p({},"".concat(a[0],"(").concat(i,")"),t[t.length-1]))}))},y=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,c.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,i=t.filter,a=t.onLoad,l=void 0===a?function(){}:a,s=t.onLoadError,p=void 0===s?function(){}:s;return(0,o.Z)((0,c.ZA)(r),f(f({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:d(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}]}})).do(l).catch((function(t){return u().Observable.of({loading:!1,error:t,data:[]}).do(p)})).startWith({loading:!0})}))};const m=(0,n.compose)((0,n.withProps)((function(){return{dataStreamFactory:y}})),i.Z)},980844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>O});var n=r(173014),o=r(342415),i=r(639837),a=r(247361),u=r(867076),c=r(227361),l=r.n(c),s=r(23195),f=r(124852),p=r.n(f);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var y=["value","uom"];function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g.apply(this,arguments)}var h=(0,n.Z)(),w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.value,r=void 0===e?"":e,n=t.uom,o=void 0===n?"":n,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,y);return p().createElement(s.iF,g({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},i),p().createElement(a.Z,{value:r}),p().createElement("span",{style:{fontSize:"75%"}},o))};const O=(0,u.compose)(h,o.Z,i.Z)((function(t){var e=t.series,r=void 0===e?[]:e,n=t.data,o=void 0===n?[]:n,i=t.options,a=void 0===i?{}:i,u=t.style,c=void 0===u?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:u;return p().createElement("div",{className:"counter-widget-view"},r.map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dataKey,e=arguments.length>1?arguments[1]:void 0;return p().createElement(w,{key:t,uom:l()(a,"seriesOptions[".concat(e,"].uom")),value:o[0][t],style:b({textAlign:"center"},c)})})))}))},70919:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(124852),o=r.n(n),i=r(757588),a=r(262770),u=r(497844),c=r(359294),l=r(735913);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const m=function(t){var e=t.layers,r=void 0===e?[]:e,n=t.updateProperty,s=void 0===n?function(){}:n,p=t.legendProps,y=void 0===p?{}:p,m=t.currentZoomLvl,b=t.disableOpacitySlider,v=void 0!==b&&b,g=t.disableVisibility,h=void 0!==g&&g,w=t.legendExpanded,O=void 0!==w&&w,j=t.scales,S=t.language,P=t.currentLocale,A=function(t){return!v&&"3dtiles"!==(null==t?void 0:t.type)&&o().createElement("div",{className:"mapstore-slider",onClick:function(t){t.stopPropagation()}},o().createElement(u.Z,{opacity:t.opacity,disabled:!t.visibility,hideTooltip:!1,onChange:function(e){return s("opacity",e,t.id)}}))};return o().createElement("div",{className:"legend-widget"},r.map((function(t,e){return o().createElement("div",{key:e,className:"widget-legend-toc"},o().createElement("div",{className:"toc-default-layer-head"},!h&&o().createElement(l.Z,{tooltip:"toc.toggleLayerVisibility",className:"visibility-check"+(t.visibility?" checked":""),"data-position":t.storeIndex,glyph:t.visibility?"eye-open":"eye-close",onClick:function(){return s("visibility",!t.visibility,t.id)}}),o().createElement(c.Z,{node:t,currentLocale:P}),!O&&"wms"===t.type&&o().createElement(l.Z,{node:t,tooltip:"toc.displayLegendAndTools",key:"toollegend",className:"toc-legend-icon ".concat(t.expanded?"expanded":""),glyph:"chevron-left",onClick:function(){return s("expanded",!t.expanded,t.id)}}),!t.expanded&&A(t)),t.expanded||O?o().createElement("div",{key:"legend",className:"expanded-legend-view"},o().createElement(i.Grid,{fluid:!0},o().createElement(i.Row,null,o().createElement(i.Col,{xs:12},o().createElement(a.Z,f({node:d({},t),currentZoomLvl:m,scales:j,language:S},y))))),A(t)):null)})))}},892936:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var n=r(867076),o=r(507848),i=r(91812),a=r(937981),u=r(57068),c=r(319180),l=r(469705),s=r(1979),f=r(461928),p=r(819983);const d=(0,n.compose)(l.Z,(0,i.Z)(0),o.Z,p.Z,c.Z,s.dY,s.yM,a.Z,u.e)(f.Z)},599707:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(124852),o=r.n(n),i=r(757588),a=r(675263),u=r(805346);function c(t){var e=t.glyph,r=void 0===e?"info-sign":e,n=t.messageId,a=t.msgParams,c=void 0===a?{}:a;return o().createElement("div",{className:"ms-widget-empty-message"},o().createElement(i.Glyphicon,{glyph:r}),"  ",o().createElement(u.Z,{msgId:n,msgParams:c}))}c.propTypes={messageId:a.PropTypes.string,glyph:a.PropTypes.string};const l=c},465633:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(984596),o=r.n(n),i=r(199767),a=r(27835);function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const l=function(t,e){var r,n,c,l,s,f,p,d,y,m,b,v,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.mG)(t,(n=(r=e).featureType,c=r.aggregationAttribute,s=void 0===(l=r.classificationAttribute)?[]:l,p=void 0===(f=r.groupByAttributes)?[]:f,d=r.aggregateFunction,y=r.viewParams,b=void 0===(m=r.filter)?"":m,v="<wfs:GetFeature ".concat(y?'viewParams="'.concat(y,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">')+'<wfs:Query typeName="'.concat(n,'">').concat(b,"</wfs:Query></wfs:GetFeature>"),(0,a.Uh)("gs:Aggregate",[(0,i.qP)("features",(0,i.fA)("text/xml","http://geoserver/wfs","POST",v)),(0,i.qP)("aggregationAttribute",(0,i.XA)((0,i.gN)(c)))].concat(u(o()(d).map((function(t){return(0,i.qP)("function",(0,i.XA)((0,i.gN)(t)))}))),[(0,i.qP)("singlePass",(0,i.XA)((0,i.gN)("false")))],u(o()(p).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))}))),u(o()(s).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))})))),(0,i.DK)((0,i.En)("result","application/json")))),{},g)}},199767:(t,e,r)=>{"use strict";r.d(e,{qP:()=>v,XA:()=>g,fA:()=>h,gN:()=>w,p5:()=>O,Rr:()=>j,DK:()=>S,En:()=>P,Tr:()=>A,t$:()=>E,XJ:()=>x,Dx:()=>C,Jy:()=>I});var n=r(472500),o=r.n(n),i=r(666654),a=r.n(i),u=r(747037),c=r.n(u),l=r(701469),s=r.n(l),f=r(683608),p=r.n(f);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t,e){return"<wps:Input>"+"<ows:Identifier>".concat(t,"</ows:Identifier>")+e+"</wps:Input>"},g=function(t){return"<wps:Data>".concat(t,"</wps:Data>")},h=function(t,e,r,n){return'<wps:Reference mimeType="'.concat(t,'" xlink:href="').concat(e,'" method="').concat(r,'"').concat("POST"===r?"":"/",">")+("POST"===r?"<wps:Body>".concat(n,"</wps:Body></wps:Reference>"):"")},w=function(t){return"<wps:LiteralData>".concat(t,"</wps:LiteralData>")},O=function(t,e,r){return"<wps:ComplexData".concat(e?' mimeType="'.concat(e,'"'):"").concat(r?' encoding="'.concat(r,'"'):"",">").concat(t,"</wps:ComplexData>")},j=function(t){return/\bCDATA\b/.test(t)?t:"<![CDATA[".concat(t,"]]>")},S=function(t){return"<wps:ResponseForm>".concat(t,"</wps:ResponseForm>")},P=function(t,e){return"<wps:RawDataOutput".concat(e?' mimeType="'.concat(e,'"'):"",">")+"<ows:Identifier>".concat(t,"</ows:Identifier>")+"</wps:RawDataOutput>"},A=function(t,e,r){return"<wps:ResponseDocument".concat(t?' storeExecuteResponse="true"':"").concat(e?' status="true"':"",">")+r+"</wps:ResponseDocument>"},E=function(t,e,r,n,o){return"<wps:Output".concat(t?' mimeType="'.concat(t,'"'):"").concat(e?' asReference="true"':"",">")+"<ows:Identifier>".concat(r,"</ows:Identifier>")+(n?"<ows:Title>".concat(n,"</ows:Title>"):"")+(o?"<ows:Abstract>".concat(o,"</ows:Abstract>"):"")+"</wps:Output>"},x=function(t){return v("writeParameters",g(O("<dwn:Parameters>".concat(t,"</dwn:Parameters>"))))},C=function(t,e){return'<dwn:Parameter key="'.concat(t,'">').concat(e,"</dwn:Parameter>")},T=function(t,e){var r=o().parse(t,!0),n=r.pathname;return(a()(r.pathname,"wfs")||a()(r.pathname,"wms"))&&(n=r.pathname.replace(/(wms|ows|wfs|wps)$/,"wps")),o().format(m(m({},r),{},{search:null,pathname:n,query:m(m({service:"WPS"},e),r.query)}))},I=function(t,e){if(t&&c()(t))return T(t,e);if(s()(t)){var r=p()(0,t.length-1);return T(t[r],e)}return t}},27835:(t,e,r)=>{"use strict";r.d(e,{Uh:()=>S,W5:()=>P,ai:()=>x,RW:()=>C,dr:()=>T,mG:()=>I});var n=r(406557),o=r.n(n),i=r(49977),a=r(505055),u=r(507526),c=r(375875),l=r.n(c),s=r(199767);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}function v(t){var e="function"==typeof Map?new Map:void 0;return v=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return g(t,arguments,O(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,t)},v(t)}function g(t,e,r){return g=h()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&w(o,r.prototype),o},g.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(i,t);var e,r,n,o=(r=i,n=h(),function(){var t,e=O(r);if(n){var o=O(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).name="WPSExecuteError",r.code=e||t,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(v(Error)),S=function(t,e,r){return'<?xml version="1.0" encoding="UTF-8"?><wps:Execute version="1.0.0" service="WPS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/wps/1.0.0" xmlns:wfs="http://www.opengis.net/wfs" xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wcs="http://www.opengis.net/wcs/1.1.1" xmlns:dwn="http://geoserver.org/wps/download" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">'+"<ows:Identifier>".concat(t,"</ows:Identifier>")+"<wps:DataInputs>"+(e||[]).join("")+"</wps:DataInputs>"+(r||"")+"</wps:Execute>"},P=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.Observable.defer((function(){return l().get((0,s.Jy)(t,{version:"1.0.0",REQUEST:"GetExecutionStatus",executionId:e}),y({headers:{Accept:"application/xml"}},r))}))},A=function(t,e){var r,n,i=function(t){var e,r,n,i,a,u,c,l,s,f,p,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),y=null==t||null===(e=t.ExecuteResponse)||void 0===e||null===(r=e.Status)||void 0===r?void 0:r[0];return null!=y&&y.ProcessAccepted?{status:"ProcessAccepted"}:null!=y&&y.ProcessStarted?{status:"ProcessStarted"}:null!=y&&y.ProcessSucceeded?{status:"ProcessSucceeded",data:d(null===(n=t.ExecuteResponse.ProcessOutputs)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.Output)}:null!=y&&y.ProcessFailed?{status:"ProcessFailed",exceptionReport:null==y||null===(a=y.ProcessFailed)||void 0===a||null===(u=a[0])||void 0===u||null===(c=u.ExceptionReport)||void 0===c||null===(l=c[0])||void 0===l||null===(s=l.Exception)||void 0===s||null===(f=s[0])||void 0===f||null===(p=f.ExceptionText)||void 0===p?void 0:p[0]}:null!=y&&y.ProcessPaused?{status:"ProcessPaused"}:{status:"UnexpectedStatus"}}(t,e);if("ProcessFailed"===i.status)throw new j(i.exceptionReport,"ProcessFailed");if("UnexpectedStatus"===i.status)throw new j("UnexpectedProcessStatus");if("ProcessSucceeded"===i.status)return{succeeded:!0,data:i.data};var a=null==t||null===(r=t.ExecuteResponse)||void 0===r||null===(n=r.$)||void 0===n?void 0:n.statusLocation;if(!a)throw new j("NoStatusLocation");var u=a.indexOf("executionId=");if(-1===u)throw new j("NoExecutionId");var c=a.slice(u+12),l=c.indexOf("&");return{succeeded:!1,executionId:-1===l?c:c.slice(0,l)}},E=function(t){var e,r;return null!=t&&null!==(e=t.Identifier)&&void 0!==e&&e[0]?{identifier:null==t||null===(r=t.Identifier)||void 0===r?void 0:r[0]}:null},x=function(t){var e,r,n,o,i;return null!=t&&null!==(e=t.Data)&&void 0!==e&&null!==(r=e[0])&&void 0!==r&&r.LiteralData?{data:null==t||null===(n=t.Data)||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.LiteralData)||void 0===i?void 0:i[0]}:null},C=function(t){var e,r,n,o,i,a;return null!=t&&t.Reference?{href:null==t||null===(e=t.Reference)||void 0===e||null===(r=e[0])||void 0===r||null===(n=r.$)||void 0===n?void 0:n.href,mimeType:null==t||null===(o=t.Reference)||void 0===o||null===(i=o[0])||void 0===i||null===(a=i.$)||void 0===a?void 0:a.mimeType}:null},T=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return[E].concat((r=e||[],function(t){if(Array.isArray(t))return p(t)}(r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(e){return e(t)})).reduce((function(t,e){return e?y(y({},t),e):t}),{});var r}))}},I=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.executeStatusUpdateInterval,c=void 0===o?2e3:o,f=r.outputsExtractor,p=function(t){return i.Observable.defer((function(){return new Promise((function(e,r){return(0,a.parseString)(t,{tagNameProcessors:[u.stripPrefix]},(function(t,n){return t?r(t):e(n)}))}))}))};return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.Observable.defer((function(){return l().post((0,s.Jy)(t,{version:"1.0.0",REQUEST:"Execute"}),e,y({headers:{"Content-Type":"application/xml"}},r))}))}(t,e,n).catch((function(){throw new j("ExecuteProcessXHRFailed")})).switchMap((function(t){return"application/xml"===t.headers["content-type"]||"text/xml"===t.headers["content-type"]?p(t.data).map((function(e){return{data:e,type:"application/xml",originalData:t.data}})):i.Observable.of({data:t.data,type:t.headers["content-type"]})})).flatMap((function(e){var r=e.data,n=e.type,o=e.originalData;if("application/xml"!==n)return i.Observable.of(r);if(null==r||!r.ExecuteResponse)return i.Observable.of(o);var a=A(r,f),u=a.succeeded,l=a.data,s=a.executionId;if(u)return i.Observable.of(l);var d=i.Observable.interval(c).take(1).flatMap((function(){return P(t,s).catch((function(){throw new j("GetExecutionStatusXHRFailed")})).flatMap((function(t){return p(t.data).flatMap((function(t){var e=A(t,f);return e.succeeded?i.Observable.of(e.data):d}))}))}));return d}))}},12226:(t,e,r)=>{"use strict";r.d(e,{B:()=>o});var n=r(562651);function o(t,e){return(0,n.U)(t)(e)}},161253:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,".msgapi .toc-title {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n",""]);const i=o},212993:()=>{},178699:()=>{},601386:()=>{}}]);